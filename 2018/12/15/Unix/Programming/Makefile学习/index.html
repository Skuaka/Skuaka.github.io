

<!DOCTYPE html>
<html lang>
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content>
    <title>Makefile学习 | Hexo</title>

    <!-- Open Graph -->
    <meta name="description" content="&amp;#x6458;&amp;#x81EA;&amp;#x9648;&amp;#x7693;&amp;#x535A;&amp;#x5BA2;https://blog.csdn.net/haoel/article/details/2886 &amp;#x6587;&amp;#x4EF6;&amp;#x4F9D;&amp;#x8D56;&amp;#x89C4;&amp;#x5219; &amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5DE5;&amp;#x7A0B;&amp;#x6CA">
<meta property="og:type" content="article">
<meta property="og:title" content="Makefile学习">
<meta property="og:url" content="http://yoursite.com/2018/12/15/Unix/Programming/Makefile学习/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="&amp;#x6458;&amp;#x81EA;&amp;#x9648;&amp;#x7693;&amp;#x535A;&amp;#x5BA2;https://blog.csdn.net/haoel/article/details/2886 &amp;#x6587;&amp;#x4EF6;&amp;#x4F9D;&amp;#x8D56;&amp;#x89C4;&amp;#x5219; &amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5DE5;&amp;#x7A0B;&amp;#x6CA">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-02-28T06:17:48.518Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Makefile学习">
<meta name="twitter:description" content="&amp;#x6458;&amp;#x81EA;&amp;#x9648;&amp;#x7693;&amp;#x535A;&amp;#x5BA2;https://blog.csdn.net/haoel/article/details/2886 &amp;#x6587;&amp;#x4EF6;&amp;#x4F9D;&amp;#x8D56;&amp;#x89C4;&amp;#x5219; &amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x5DE5;&amp;#x7A0B;&amp;#x6CA">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:",
  "image": "",
  "name": "John Doe",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css">
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>Hexo</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">John Doe</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item">
        <i class="home icon"></i>
        HOME
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-Unix/Programming/Makefile学习" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    Makefile学习
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <p>&#x6458;&#x81EA;&#x9648;&#x7693;&#x535A;&#x5BA2;<a href="https://blog.csdn.net/haoel/article/details/2886" target="_blank" rel="noopener">https://blog.csdn.net/haoel/article/details/2886</a></p>
<h3 id="&#x6587;&#x4EF6;&#x4F9D;&#x8D56;&#x89C4;&#x5219;"><a href="#&#x6587;&#x4EF6;&#x4F9D;&#x8D56;&#x89C4;&#x5219;" class="headerlink" title="&#x6587;&#x4EF6;&#x4F9D;&#x8D56;&#x89C4;&#x5219;"></a>&#x6587;&#x4EF6;&#x4F9D;&#x8D56;&#x89C4;&#x5219;</h3><ol class="ui list">
<li>&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x6CA1;&#x6709;&#x7F16;&#x8BD1;&#x8FC7;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x7684;&#x6240;&#x6709;C&#x6587;&#x4EF6;&#x90FD;&#x8981;&#x7F16;&#x8BD1;&#x5E76;&#x88AB;&#x94FE;&#x63A5;&#x3002;    </li>
<li>&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x7684;&#x67D0;&#x51E0;&#x4E2A;C&#x6587;&#x4EF6;&#x88AB;&#x4FEE;&#x6539;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EA;&#x7F16;&#x8BD1;&#x88AB;&#x4FEE;&#x6539;&#x7684;C&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x94FE;&#x63A5;&#x76EE;&#x6807;&#x7A0B;&#x5E8F;&#x3002;</li>
<li>&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5DE5;&#x7A0B;&#x7684;&#x5934;&#x6587;&#x4EF6;&#x88AB;&#x6539;&#x53D8;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7F16;&#x8BD1;&#x5F15;&#x7528;&#x4E86;&#x8FD9;&#x51E0;&#x4E2A;&#x5934;&#x6587;&#x4EF6;&#x7684;C&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x94FE;&#x63A5;&#x76EE;&#x6807;&#x7A0B;&#x5E8F;&#x3002;</li>
</ol>
<p><strong>&#x8BED;&#x6CD5;</strong></p>
<p>target &#x2026; : prerequisites &#x2026;   ;  command             </p>
<p>&#x200B;    command</p>
<p>target&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;Object File&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;&#x8FD8;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#xFF08;Label&#xFF09;&#x3002;</p>
<p>prerequisites&#x5C31;&#x662F;&#x8981;&#x751F;&#x6210;&#x90A3;&#x4E2A;target&#x6240;&#x9700;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x662F;&#x76EE;&#x6807;&#x3002;</p>
<p>command&#x4E5F;&#x5C31;&#x662F;make&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;&#xFF08;&#x4EFB;&#x610F;&#x7684;Shell&#x547D;&#x4EE4;&#xFF09;</p>
<p>&#x8BF4;&#x767D;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;prerequisites&#x4E2D;&#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A;&#x4EE5;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x6BD4;target&#x6587;&#x4EF6;&#x8981;&#x65B0;&#x7684;&#x8BDD;&#xFF0C;command&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x547D;&#x4EE4;&#x5C31;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#x3002;&#x8FD9;&#x5C31;&#x662F;Makefile&#x7684;&#x89C4;&#x5219;&#x3002;&#x4E5F;&#x5C31;&#x662F;Makefile&#x4E2D;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<h3 id="&#x4E00;&#x4E2A;&#x793A;&#x4F8B;"><a href="#&#x4E00;&#x4E2A;&#x793A;&#x4F8B;" class="headerlink" title="&#x4E00;&#x4E2A;&#x793A;&#x4F8B;"></a>&#x4E00;&#x4E2A;&#x793A;&#x4F8B;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">edit : main.o kbd.o command.o display.o /</span><br><span class="line">       insert.o search.o files.o utils.o</span><br><span class="line">        cc -o edit main.o kbd.o command.o display.o /</span><br><span class="line">                   insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">main.o : main.c defs.h</span><br><span class="line">        cc -c main.c</span><br><span class="line">kbd.o : kbd.c defs.h command.h</span><br><span class="line">        cc -c kbd.c</span><br><span class="line">command.o : command.c defs.h command.h</span><br><span class="line">        cc -c command.c</span><br><span class="line">display.o : display.c defs.h buffer.h</span><br><span class="line">        cc -c display.c</span><br><span class="line">insert.o : insert.c defs.h buffer.h</span><br><span class="line">        cc -c insert.c</span><br><span class="line">search.o : search.c defs.h buffer.h</span><br><span class="line">        cc -c search.c</span><br><span class="line">files.o : files.c defs.h buffer.h command.h</span><br><span class="line">        cc -c files.c</span><br><span class="line">utils.o : utils.c defs.h</span><br><span class="line">        cc -c utils.c</span><br><span class="line">clean :</span><br><span class="line">        rm edit main.o kbd.o command.o display.o /</span><br><span class="line">           insert.o search.o files.o utils.o</span><br></pre></td></tr></table></figure>
<p>&#x53CD;&#x659C;&#x6760;&#xFF08;/&#xFF09;&#x662F;&#x6362;&#x884C;&#x7B26;&#x7684;&#x610F;&#x601D;&#x3002;&#x8FD9;&#x6837;&#x6BD4;&#x8F83;&#x4FBF;&#x4E8E;Makefile&#x7684;&#x6613;&#x8BFB;&#x3002;</p>
<p>&#x628A;&#x8FD9;&#x4E2A;&#x5185;&#x5BB9;&#x4FDD;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#x4E3A;&#x201C;Makefile&#x201D;&#x6216;&#x201C;makefile&#x201D;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x201C;make&#x201D;&#x5C31;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x6267;&#x884C;&#x6587;&#x4EF6;edit&#x3002;&#x5982;&#x679C;&#x8981;&#x5220;&#x9664;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x548C;&#x6240;&#x6709;&#x7684;&#x4E2D;&#x95F4;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x53EA;&#x8981;&#x7B80;&#x5355;&#x5730;&#x6267;&#x884C;&#x4E00;&#x4E0B;&#x201C;make clean&#x201D;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>
<p>&#x5728;&#x5B9A;&#x4E49;&#x597D;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x540E;&#xFF0C;&#x540E;&#x7EED;&#x7684;&#x90A3;&#x4E00;&#x884C;&#x5B9A;&#x4E49;&#x4E86;&#x5982;&#x4F55;&#x751F;&#x6210;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x4EE5;&#x4E00;&#x4E2A;Tab&#x952E;&#x4F5C;&#x4E3A;&#x5F00;&#x5934;&#x3002;</p>
<p>clean&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x4E00;&#x4E2A;&#x52A8;&#x4F5C;&#x540D;&#x5B57;&#xFF0C;&#x6709;&#x70B9;&#x50CF;C&#x8BED;&#x8A00;&#x4E2D;&#x7684;lable&#x4E00;&#x6837;&#xFF0C;&#x5176;&#x5192;&#x53F7;&#x540E;&#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x6709;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x5C31;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x53BB;&#x627E;&#x6587;&#x4EF6;&#x7684;&#x4F9D;&#x8D56;&#x6027;&#xFF0C;&#x4E5F;&#x5C31;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x5176;&#x540E;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x8981;&#x6267;&#x884C;&#x5176;&#x540E;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5C31;&#x8981;&#x5728;make&#x547D;&#x4EE4;&#x540E;&#x660E;&#x663E;&#x5F97;&#x6307;&#x51FA;&#x8FD9;&#x4E2A;lable&#x7684;&#x540D;&#x5B57;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x65B9;&#x6CD5;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;makefile&#x4E2D;&#x5B9A;&#x4E49;&#x4E0D;&#x7528;&#x7684;&#x7F16;&#x8BD1;&#x6216;&#x662F;&#x548C;&#x7F16;&#x8BD1;&#x65E0;&#x5173;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x6BD4;&#x5982;&#x7A0B;&#x5E8F;&#x7684;&#x6253;&#x5305;&#xFF0C;&#x7A0B;&#x5E8F;&#x7684;&#x5907;&#x4EFD;&#xFF0C;&#x7B49;&#x7B49;&#x3002;</p>
<h3 id="&#x4F7F;&#x7528;&#x53D8;&#x91CF;"><a href="#&#x4F7F;&#x7528;&#x53D8;&#x91CF;" class="headerlink" title="&#x4F7F;&#x7528;&#x53D8;&#x91CF;"></a>&#x4F7F;&#x7528;&#x53D8;&#x91CF;</h3><p>&#x5982;&#x679C;makefile&#x53D8;&#x5F97;&#x590D;&#x6742;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5FD8;&#x6389;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x52A0;&#x5165;&#x6587;&#x4EF6;&#x540D;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x800C;&#x5BFC;&#x81F4;&#x7F16;&#x8BD1;&#x5931;&#x8D25;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4E3A;&#x4E86;makefile&#x7684;&#x6613;&#x7EF4;&#x62A4;&#xFF0C;&#x5728;makefile&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53D8;&#x91CF;&#x3002;makefile&#x7684;&#x53D8;&#x91CF;&#x4E5F;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7406;&#x89E3;&#x6210;C&#x8BED;&#x8A00;&#x4E2D;&#x7684;&#x5B8F;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x597D;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x5728;makefile&#x4E00;&#x5F00;&#x59CB;&#x5C31;&#x8FD9;&#x6837;&#x5B9A;&#x4E49;&#xFF1A;</p>
<p>&#x200B;     objects = main.o kbd.o command.o display.o /<br>&#x200B;              insert.o search.o files.o utils.o</p>
<p>&#x4E8E;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5728;&#x6211;&#x4EEC;&#x7684;makefile&#x4E2D;&#x4EE5;&#x201C;$(objects)&#x201D;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4E86;&#xFF0C;&#x4E8E;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x6539;&#x826F;&#x7248;makefile&#x5C31;&#x53D8;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#xFF1A;</p>
<p>&#x200B;    objects = main.o kbd.o command.o display.o /<br>&#x200B;              insert.o search.o files.o utils.o</p>
<p>&#x200B;    edit : $(objects)<br>&#x200B;            cc -o edit $(objects)</p>
<p>&#x4E8E;&#x662F;&#x5982;&#x679C;&#x6709;&#x65B0;&#x7684; .o &#x6587;&#x4EF6;&#x52A0;&#x5165;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x7B80;&#x5355;&#x5730;&#x4FEE;&#x6539;&#x4E00;&#x4E0B; objects &#x53D8;&#x91CF;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>
<h3 id="&#x8BA9;make&#x81EA;&#x52A8;&#x63A8;&#x5BFC;"><a href="#&#x8BA9;make&#x81EA;&#x52A8;&#x63A8;&#x5BFC;" class="headerlink" title="&#x8BA9;make&#x81EA;&#x52A8;&#x63A8;&#x5BFC;"></a>&#x8BA9;make&#x81EA;&#x52A8;&#x63A8;&#x5BFC;</h3><p>&#x53EA;&#x8981;make&#x770B;&#x5230;&#x4E00;&#x4E2A;[.o]&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x7684;&#x628A;[.c]&#x6587;&#x4EF6;&#x52A0;&#x5728;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x4E2D;&#xFF0C;&#x5982;&#x679C;make&#x627E;&#x5230;&#x4E00;&#x4E2A;whatever.o&#xFF0C;&#x90A3;&#x4E48;whatever.c&#xFF0C;&#x5C31;&#x4F1A;&#x662F;whatever.o&#x7684;&#x4F9D;&#x8D56;&#x6587;&#x4EF6;&#x3002;&#x5E76;&#x4E14; cc -c whatever.c &#x4E5F;&#x4F1A;&#x88AB;&#x63A8;&#x5BFC;&#x51FA;&#x6765;&#xFF0C;&#x4E8E;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x7684;makefile&#x518D;&#x4E5F;&#x4E0D;&#x7528;&#x5199;&#x5F97;&#x8FD9;&#x4E48;&#x590D;&#x6742;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">objects = main.o kbd.o command.o display.o /</span><br><span class="line">          insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">edit : $(objects)</span><br><span class="line">        cc -o edit $(objects)</span><br><span class="line"></span><br><span class="line">main.o : defs.h</span><br><span class="line">kbd.o : defs.h command.h</span><br><span class="line">command.o : defs.h command.h</span><br><span class="line">display.o : defs.h buffer.h</span><br><span class="line">insert.o : defs.h buffer.h</span><br><span class="line">search.o : defs.h buffer.h</span><br><span class="line">files.o : defs.h buffer.h command.h</span><br><span class="line">utils.o : defs.h</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line">clean :</span><br><span class="line">        rm edit $(objects)</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;make&#x7684;&#x201C;&#x9690;&#x6666;&#x89C4;&#x5219;&#x201D;&#x3002;&#x4E0A;&#x9762;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E2D;&#xFF0C;&#x201C;.PHONY&#x201D;&#x8868;&#x793A;&#xFF0C;clean&#x662F;&#x4E2A;&#x4F2A;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="&#x53E6;&#x7C7B;&#x98CE;&#x683C;&#x7684;makefile"><a href="#&#x53E6;&#x7C7B;&#x98CE;&#x683C;&#x7684;makefile" class="headerlink" title="&#x53E6;&#x7C7B;&#x98CE;&#x683C;&#x7684;makefile"></a>&#x53E6;&#x7C7B;&#x98CE;&#x683C;&#x7684;makefile</h3><p>&#x5373;&#x7136;&#x6211;&#x4EEC;&#x7684;make&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x63A8;&#x5BFC;&#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x770B;&#x5230;&#x90A3;&#x5806;[.o]&#x548C;[.h]&#x7684;&#x4F9D;&#x8D56;&#x5C31;&#x6709;&#x70B9;&#x4E0D;&#x723D;&#xFF0C;&#x90A3;&#x4E48;&#x591A;&#x7684;&#x91CD;&#x590D;&#x7684;[.h]&#xFF0C;&#x80FD;&#x4E0D;&#x80FD;&#x628A;&#x5176;&#x6536;&#x62E2;&#x8D77;&#x6765;&#xFF0C;&#x597D;&#x5427;&#xFF0C;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x4E8E;make&#x6765;&#x8BF4;&#x5F88;&#x5BB9;&#x6613;&#xFF0C;&#x8C01;&#x53EB;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x81EA;&#x52A8;&#x63A8;&#x5BFC;&#x547D;&#x4EE4;&#x548C;&#x6587;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#x5462;&#xFF1F;&#x6765;&#x770B;&#x770B;&#x6700;&#x65B0;&#x98CE;&#x683C;&#x7684;makefile&#x5427;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">objects = main.o kbd.o command.o display.o /</span><br><span class="line"></span><br><span class="line">          insert.o search.o files.o utils.o</span><br><span class="line"></span><br><span class="line">edit : $(objects)</span><br><span class="line"></span><br><span class="line">        cc -o edit $(objects)</span><br><span class="line"></span><br><span class="line">$(objects) : defs.h</span><br><span class="line"></span><br><span class="line">kbd.o command.o files.o : command.h</span><br><span class="line"></span><br><span class="line">display.o insert.o search.o files.o : buffer.h</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line"></span><br><span class="line">clean :</span><br><span class="line"></span><br><span class="line">        rm edit $(objects)</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x79CD;&#x98CE;&#x683C;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x7684;makefile&#x53D8;&#x5F97;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x7684;&#x6587;&#x4EF6;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5C31;&#x663E;&#x5F97;&#x6709;&#x70B9;&#x51CC;&#x4E71;&#x4E86;&#x3002;&#x9C7C;&#x548C;&#x718A;&#x638C;&#x4E0D;&#x53EF;&#x517C;&#x5F97;&#x3002;&#x8FD8;&#x770B;&#x4F60;&#x7684;&#x559C;&#x597D;&#x4E86;&#x3002;&#x6211;&#x662F;&#x4E0D;&#x559C;&#x6B22;&#x8FD9;&#x79CD;&#x98CE;&#x683C;&#x7684;&#xFF0C;&#x4E00;&#x662F;&#x6587;&#x4EF6;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x770B;&#x4E0D;&#x6E05;&#x695A;&#xFF0C;&#x4E8C;&#x662F;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E00;&#x591A;&#xFF0C;&#x8981;&#x52A0;&#x5165;&#x51E0;&#x4E2A;&#x65B0;&#x7684;.o&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x5C31;&#x7406;&#x4E0D;&#x6E05;&#x695A;&#x4E86;&#x3002;</p>
<h3 id="amp-amp"><a href="#amp-amp" class="headerlink" title="@ &amp; - &amp;"></a>@ &amp; - &amp;</h3><p>&#x5982;&#x679C;<code>make</code>&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x524D;&#x9762;&#x52A0;&#x4E86;@&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x4E0D;&#x663E;&#x793A;&#x547D;&#x4EE4;&#x672C;&#x8EAB;&#x800C;&#x53EA;&#x663E;&#x793A;&#x5B83;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x901A;&#x5E38;<code>make</code>&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x679C;&#x51FA;&#x9519;&#xFF08;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x9000;&#x51FA;&#x72B6;&#x6001;&#x975E;0&#xFF09;&#x5C31;&#x7ACB;&#x523B;&#x7EC8;&#x6B62;&#xFF0C;&#x4E0D;&#x518D;&#x6267;&#x884C;&#x540E;&#x7EED;&#x547D;&#x4EE4;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x547D;&#x4EE4;&#x524D;&#x9762;&#x52A0;&#x4E86;<code>-</code>&#x53F7;&#xFF0C;&#x5373;&#x4F7F;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x51FA;&#x9519;&#xFF0C;<code>make</code>&#x4E5F;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x540E;&#x7EED;&#x547D;&#x4EE4;&#x3002;</p>
<p>&#x901A;&#x5E38;<code>rm</code>&#x547D;&#x4EE4;&#x548C;<code>mkdir</code>&#x547D;&#x4EE4;&#x524D;&#x9762;&#x8981;&#x52A0;<code>-</code>&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;<code>rm</code>&#x8981;&#x5220;&#x9664;&#x7684;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;<code>mkdir</code>&#x8981;&#x521B;&#x5EFA;&#x7684;&#x76EE;&#x5F55;&#x53EF;&#x80FD;&#x5DF2;&#x5B58;&#x5728;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;&#x90FD;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x9519;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x9519;&#x8BEF;&#x662F;&#x5E94;&#x8BE5;&#x5FFD;&#x7565;&#x7684;&#x3002;</p>
<p>Makefile&#x4E2D;&#x53EA;&#x6709;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x548C;UNIX&#x7684;Shell&#x811A;&#x672C;&#x4E00;&#x6837;&#xFF0C;&#x5176;&#x6CE8;&#x91CA;&#x662F;&#x7528;&#x201C;#&#x201D;&#x5B57;&#x7B26;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x50CF;C/C++&#x4E2D;&#x7684;&#x201C;//&#x201D;&#x4E00;&#x6837;&#x3002;&#x5982;&#x679C;&#x4F60;&#x8981;&#x5728;&#x4F60;&#x7684;Makefile&#x4E2D;&#x4F7F;&#x7528;&#x201C;#&#x201D;&#x5B57;&#x7B26;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x53CD;&#x659C;&#x6846;&#x8FDB;&#x884C;&#x8F6C;&#x4E49;&#xFF0C;&#x5982;&#xFF1A;&#x201C;/#&#x201D;&#x3002;</p>
<h3 id="makefile&#x7684;&#x6587;&#x4EF6;&#x540D;"><a href="#makefile&#x7684;&#x6587;&#x4EF6;&#x540D;" class="headerlink" title="makefile&#x7684;&#x6587;&#x4EF6;&#x540D;"></a>makefile&#x7684;&#x6587;&#x4EF6;&#x540D;</h3><p>&#x9ED8;&#x8BA4;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;make&#x547D;&#x4EE4;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x6309;&#x987A;&#x5E8F;&#x627E;&#x5BFB;&#x6587;&#x4EF6;&#x540D;&#x4E3A;&#x201C;GNUmakefile&#x201D;&#x3001;&#x201C;makefile&#x201D;&#x3001;&#x201C;Makefile&#x201D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x627E;&#x5230;&#x4E86;&#x89E3;&#x91CA;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x8FD9;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#xFF0C;&#x6700;&#x597D;&#x4F7F;&#x7528;&#x201C;Makefile&#x201D;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x56E0;&#x4E3A;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E3A;&#x5927;&#x5199;&#xFF0C;&#x8FD9;&#x6837;&#x6709;&#x4E00;&#x79CD;&#x663E;&#x76EE;&#x7684;&#x611F;&#x89C9;&#x3002;&#x6700;&#x597D;&#x4E0D;&#x8981;&#x7528;&#x201C;GNUmakefile&#x201D;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x662F;GNU&#x7684;make&#x8BC6;&#x522B;&#x7684;&#x3002;&#x6709;&#x53E6;&#x5916;&#x4E00;&#x4E9B;make&#x53EA;&#x5BF9;&#x5168;&#x5C0F;&#x5199;&#x7684;&#x201C;makefile&#x201D;&#x6587;&#x4EF6;&#x540D;&#x654F;&#x611F;&#xFF0C;&#x4F46;&#x662F;&#x57FA;&#x672C;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x7684;make&#x90FD;&#x652F;&#x6301;&#x201C;makefile&#x201D;&#x548C;&#x201C;Makefile&#x201D;&#x8FD9;&#x4E24;&#x79CD;&#x9ED8;&#x8BA4;&#x6587;&#x4EF6;&#x540D;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x522B;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x6765;&#x4E66;&#x5199;Makefile&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x201C;Make.Linux&#x201D;&#xFF0C;&#x201C;Make.Solaris&#x201D;&#xFF0C;&#x201C;Make.AIX&#x201D;&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x6307;&#x5B9A;&#x7279;&#x5B9A;&#x7684;Makefile&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;make&#x7684;&#x201C;-f&#x201D;&#x548C;&#x201C;&#x2013;file&#x201D;&#x53C2;&#x6570;&#x3002;</p>
<h3 id="&#x5F15;&#x7528;&#x5176;&#x5B83;&#x7684;Makefile"><a href="#&#x5F15;&#x7528;&#x5176;&#x5B83;&#x7684;Makefile" class="headerlink" title="&#x5F15;&#x7528;&#x5176;&#x5B83;&#x7684;Makefile"></a>&#x5F15;&#x7528;&#x5176;&#x5B83;&#x7684;Makefile</h3><p>&#x5728;Makefile&#x4F7F;&#x7528;include&#x5173;&#x952E;&#x5B57;&#x53EF;&#x4EE5;&#x628A;&#x522B;&#x7684;Makefile&#x5305;&#x542B;&#x8FDB;&#x6765;&#xFF0C;&#x8FD9;&#x5F88;&#x50CF;C&#x8BED;&#x8A00;&#x7684;#include&#xFF0C;&#x88AB;&#x5305;&#x542B;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x539F;&#x6A21;&#x539F;&#x6837;&#x7684;&#x653E;&#x5728;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x7684;&#x5305;&#x542B;&#x4F4D;&#x7F6E;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include &lt;filename&gt;</span><br><span class="line"></span><br><span class="line">#filename&#x53EF;&#x4EE5;&#x662F;&#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;Shell&#x7684;&#x6587;&#x4EF6;&#x6A21;&#x5F0F;&#xFF08;&#x53EF;&#x4EE5;&#x4FDD;&#x542B;&#x8DEF;&#x5F84;&#x548C;&#x901A;&#x914D;&#x7B26;&#xFF09;</span><br></pre></td></tr></table></figure>
<p>&#x5728;include&#x524D;&#x9762;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E9B;&#x7A7A;&#x5B57;&#x7B26;&#xFF0C;&#x4F46;&#x662F;&#x7EDD;&#x4E0D;&#x80FD;&#x662F;[Tab]&#x952E;&#x5F00;&#x59CB;&#x3002;include&#x548C;<code>&lt;filename&gt;</code>&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#x3002;</p>
<p>make&#x547D;&#x4EE4;&#x5F00;&#x59CB;&#x65F6;&#xFF0C;&#x4F1A;&#x628A;&#x627E;&#x5BFB;include&#x6240;&#x6307;&#x51FA;&#x7684;&#x5176;&#x5B83;Makefile&#xFF0C;&#x5E76;&#x628A;&#x5176;&#x5185;&#x5BB9;&#x5B89;&#x7F6E;&#x5728;&#x5F53;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x90FD;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x6216;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x7684;&#x8BDD;&#xFF0C;make&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x9996;&#x5148;&#x5BFB;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x8FD8;&#x4F1A;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x51E0;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x627E;&#xFF1A;</p>
<p>&#x200B;    1&#x3001;&#x5982;&#x679C;make&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x6709;&#x201C;-I&#x201D;&#x6216;&#x201C;&#x2013;include-dir&#x201D;&#x53C2;&#x6570;&#xFF0C;&#x90A3;&#x4E48;make&#x5C31;&#x4F1A;&#x5728;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#x53BB;&#x5BFB;&#x627E;&#x3002;<br>&#x200B;    2&#x3001;&#x5982;&#x679C;&#x76EE;&#x5F55;<code>&lt;prefix&gt;/include</code>&#xFF08;&#x4E00;&#x822C;&#x662F;&#xFF1A;/usr/local/bin&#x6216;/usr/include&#xFF09;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#xFF0C;make&#x4E5F;&#x4F1A;&#x53BB;&#x627E;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6709;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x7684;&#x8BDD;&#xFF0C;make&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x6761;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x9A6C;&#x4E0A;&#x51FA;&#x73B0;&#x81F4;&#x547D;&#x9519;&#x8BEF;&#x3002;&#x5B83;&#x4F1A;&#x7EE7;&#x7EED;&#x8F7D;&#x5165;&#x5176;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x65E6;&#x5B8C;&#x6210;makefile&#x7684;&#x8BFB;&#x53D6;&#xFF0C;make&#x4F1A;&#x518D;&#x91CD;&#x8BD5;&#x8FD9;&#x4E9B;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x6216;&#x662F;&#x4E0D;&#x80FD;&#x8BFB;&#x53D6;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x662F;&#x4E0D;&#x884C;&#xFF0C;make&#x624D;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x6761;&#x81F4;&#x547D;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;make&#x4E0D;&#x7406;&#x90A3;&#x4E9B;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;include&#x524D;&#x52A0;&#x4E00;&#x4E2A;&#x51CF;&#x53F7;&#x201C;-&#x201D;&#x3002;</p>
<h3 id="&#x73AF;&#x5883;&#x53D8;&#x91CF;-MAKEFILES"><a href="#&#x73AF;&#x5883;&#x53D8;&#x91CF;-MAKEFILES" class="headerlink" title="&#x73AF;&#x5883;&#x53D8;&#x91CF; MAKEFILES"></a>&#x73AF;&#x5883;&#x53D8;&#x91CF; MAKEFILES</h3><p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x5F53;&#x524D;&#x73AF;&#x5883;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x73AF;&#x5883;&#x53D8;&#x91CF;MAKEFILES&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x4F1A;&#x628A;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x503C;&#x505A;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E;include&#x7684;&#x52A8;&#x4F5C;&#x3002;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x7684;&#x503C;&#x662F;&#x5176;&#x5B83;&#x7684;Makefile&#xFF0C;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x3002;&#x53EA;&#x662F;&#xFF0C;&#x5B83;&#x548C;include&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x4ECE;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x4E2D;&#x5F15;&#x5165;&#x7684;Makefile&#x7684;&#x201C;&#x76EE;&#x6807;&#x201D;&#x4E0D;&#x4F1A;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x6587;&#x4EF6;&#x53D1;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;make&#x4E5F;&#x4F1A;&#x4E0D;&#x7406;&#x3002;</p>
<p>&#x5EFA;&#x8BAE;<strong>&#x4E0D;&#x8981;&#x4F7F;&#x7528;</strong>&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x8981;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x4E00;&#x88AB;&#x5B9A;&#x4E49;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x4F60;&#x4F7F;&#x7528;make&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x7684;Makefile&#x90FD;&#x4F1A;&#x53D7;&#x5230;&#x5B83;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x8FD9;&#x7EDD;&#x4E0D;&#x662F;&#x4F60;&#x60F3;&#x770B;&#x5230;&#x7684;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x63D0;&#x8FD9;&#x4E2A;&#x4E8B;&#xFF0C;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x544A;&#x8BC9;&#x5927;&#x5BB6;&#xFF0C;&#x4E5F;&#x8BB8;&#x6709;&#x65F6;&#x5019;&#x4F60;&#x7684;Makefile&#x51FA;&#x73B0;&#x4E86;&#x602A;&#x4E8B;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x770B;&#x5F53;&#x524D;&#x73AF;&#x5883;&#x4E2D;&#x6709;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x3002; </p>
<h3 id="make&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;"><a href="#make&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;" class="headerlink" title="make&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;"></a>make&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;</h3><p>&#x200B;    1&#x3001;&#x8BFB;&#x5165;&#x6240;&#x6709;&#x7684;Makefile&#x3002;<br>&#x200B;    2&#x3001;&#x8BFB;&#x5165;&#x88AB;include&#x7684;&#x5176;&#x5B83;Makefile&#x3002;<br>&#x200B;    3&#x3001;&#x521D;&#x59CB;&#x5316;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x3002;<br>&#x200B;    4&#x3001;&#x63A8;&#x5BFC;&#x9690;&#x6666;&#x89C4;&#x5219;&#xFF0C;&#x5E76;&#x5206;&#x6790;&#x6240;&#x6709;&#x89C4;&#x5219;&#x3002;<br>&#x200B;    5&#x3001;&#x4E3A;&#x6240;&#x6709;&#x7684;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x94FE;&#x3002;<br>&#x200B;    6&#x3001;&#x6839;&#x636E;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x51B3;&#x5B9A;&#x54EA;&#x4E9B;&#x76EE;&#x6807;&#x8981;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x3002;<br>&#x200B;    7&#x3001;&#x6267;&#x884C;&#x751F;&#x6210;&#x547D;&#x4EE4;&#x3002;</p>
<p>1-5&#x6B65;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#xFF0C;6-7&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A;&#x9636;&#x6BB5;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x7684;&#x53D8;&#x91CF;&#x88AB;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x4F1A;&#x628A;&#x5176;&#x5C55;&#x5F00;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4F46;make&#x5E76;&#x4E0D;&#x4F1A;&#x5B8C;&#x5168;&#x9A6C;&#x4E0A;&#x5C55;&#x5F00;&#xFF0C;make&#x4F7F;&#x7528;&#x7684;&#x662F;&#x62D6;&#x5EF6;&#x6218;&#x672F;&#xFF0C;&#x5982;&#x679C;&#x53D8;&#x91CF;&#x51FA;&#x73B0;&#x5728;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684;&#x89C4;&#x5219;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x4EC5;&#x5F53;&#x8FD9;&#x6761;&#x4F9D;&#x8D56;&#x88AB;&#x51B3;&#x5B9A;&#x8981;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x53D8;&#x91CF;&#x624D;&#x4F1A;&#x5728;&#x5176;&#x5185;&#x90E8;&#x5C55;&#x5F00;&#x3002;</p>
<h3 id="&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;"><a href="#&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;" class="headerlink" title="&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;"></a>&#x4F7F;&#x7528;&#x901A;&#x914D;&#x7B26;</h3><p>make&#x652F;&#x6301;&#x4E09;&#x5404;&#x901A;&#x914D;&#x7B26;&#xFF1A;&#x201C;*&#x201D;&#xFF0C;&#x201C;?&#x201D;&#x548C;&#x201C;[&#x2026;]&#x201D;&#x3002;&#x8FD9;&#x662F;&#x548C;Unix&#x7684;B-Shell&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;</p>
<p>&#x6CE2;&#x6D6A;&#x53F7;&#xFF08;&#x201C;~&#x201D;&#xFF09;&#x5B57;&#x7B26;&#x5728;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x4E5F;&#x6709;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x7684;&#x7528;&#x9014;&#xFF0C;&#x8868;&#x793A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x7684;$HOME&#x76EE;&#x5F55;&#x3002;</p>
<h3 id="&#x81EA;&#x52A8;&#x6587;&#x4EF6;&#x641C;&#x5BFB;"><a href="#&#x81EA;&#x52A8;&#x6587;&#x4EF6;&#x641C;&#x5BFB;" class="headerlink" title="&#x81EA;&#x52A8;&#x6587;&#x4EF6;&#x641C;&#x5BFB;"></a>&#x81EA;&#x52A8;&#x6587;&#x4EF6;&#x641C;&#x5BFB;</h3><p>Makefile&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7279;&#x6B8A;&#x53D8;&#x91CF;&#x201C;VPATH&#x201D;&#x5C31;&#x662F;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x660E;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;make&#x53EA;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x53BB;&#x627E;&#x5BFB;&#x4F9D;&#x8D56;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x5C31;&#x4F1A;&#x5728;&#x5F53;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x627E;&#x4E0D;&#x5230;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5230;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x53BB;&#x627E;&#x5BFB;&#x6587;&#x4EF6;&#x4E86;&#x3002;</p>
<p>&#x200B;    VPATH = src:../headers</p>
<p>&#x4E0A;&#x9762;&#x7684;&#x7684;&#x5B9A;&#x4E49;&#x6307;&#x5B9A;&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x201C;src&#x201D;&#x548C;&#x201C;../headers&#x201D;&#xFF0C;make&#x4F1A;&#x6309;&#x7167;&#x8FD9;&#x4E2A;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#x3002;&#x76EE;&#x5F55;&#x7531;&#x201C;&#x5192;&#x53F7;&#x201D;&#x5206;&#x9694;&#x3002;&#xFF08;&#x5F53;&#x7136;&#xFF0C;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x6C38;&#x8FDC;&#x662F;&#x6700;&#x9AD8;&#x4F18;&#x5148;&#x641C;&#x7D22;&#x7684;&#x5730;&#x65B9;&#xFF09;</p>
<hr>
<p>&#x53E6;&#x4E00;&#x4E2A;&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x641C;&#x7D22;&#x8DEF;&#x5F84;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x4F7F;&#x7528;make&#x7684;&#x201C;vpath&#x201D;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x6CE8;&#x610F;&#xFF0C;&#x5B83;&#x662F;&#x5168;&#x5C0F;&#x5199;&#x7684;&#xFF09;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;make&#x7684;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x8FD9;&#x548C;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x90A3;&#x4E2A;VPATH&#x53D8;&#x91CF;&#x5F88;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x6587;&#x4EF6;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x641C;&#x7D22;&#x76EE;&#x5F55;&#x4E2D;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x7075;&#x6D3B;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5B83;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x6709;&#x4E09;&#x79CD;&#xFF1A;</p>
<p>&#x200B;    1&#x3001;<code>vpath &lt;pattern&gt; &lt;directories&gt;</code></p>
<p>&#x200B;    &#x4E3A;&#x7B26;&#x5408;&#x6A21;&#x5F0F;<code>&lt;pattern&gt;</code>&#x7684;&#x6587;&#x4EF6;&#x6307;&#x5B9A;&#x641C;&#x7D22;&#x76EE;&#x5F55;<code>&lt;directories&gt;</code>&#x3002;</p>
<p>&#x200B;    2&#x3001;<code>vpath &lt;pattern&gt;</code></p>
<p>&#x200B;    &#x6E05;&#x9664;&#x7B26;&#x5408;&#x6A21;&#x5F0F;<code>&lt;pattern&gt;</code>&#x7684;&#x6587;&#x4EF6;&#x7684;&#x641C;&#x7D22;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x200B;    3&#x3001;vpath</p>
<p>&#x200B;    &#x6E05;&#x9664;&#x6240;&#x6709;&#x5DF2;&#x88AB;&#x8BBE;&#x7F6E;&#x597D;&#x4E86;&#x7684;&#x6587;&#x4EF6;&#x641C;&#x7D22;&#x76EE;&#x5F55;&#x3002;</p>
<p>vapth&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;<code>&lt;pattern&gt;</code>&#x9700;&#x8981;&#x5305;&#x542B;&#x201C;%&#x201D;&#x5B57;&#x7B26;&#x3002;&#x201C;%&#x201D;&#x7684;&#x610F;&#x601D;&#x662F;&#x5339;&#x914D;&#x96F6;&#x6216;&#x82E5;&#x5E72;&#x5B57;&#x7B26;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x201C;%.h&#x201D;&#x8868;&#x793A;&#x6240;&#x6709;&#x4EE5;&#x201C;.h&#x201D;&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x8FDE;&#x7EED;&#x5730;&#x4F7F;&#x7528;vpath&#x8BED;&#x53E5;&#xFF0C;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x641C;&#x7D22;&#x7B56;&#x7565;&#x3002;&#x5982;&#x679C;&#x8FDE;&#x7EED;&#x7684;vpath&#x8BED;&#x53E5;&#x4E2D;&#x51FA;&#x73B0;&#x4E86;&#x76F8;&#x540C;&#x7684;<code>&lt;pattern&gt;</code>&#xFF0C;&#x6216;&#x662F;&#x88AB;&#x91CD;&#x590D;&#x4E86;&#x7684;<code>&lt;pattern&gt;</code>&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;make&#x4F1A;&#x6309;&#x7167;vpath&#x8BED;&#x53E5;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#x6765;&#x6267;&#x884C;&#x641C;&#x7D22;&#x3002;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vpath %.c foo:bar</span><br><span class="line">vpath %   blish</span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x5219;&#x8868;&#x793A;&#x201C;.c&#x201D;&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5148;&#x5728;&#x201C;foo&#x201D;&#x76EE;&#x5F55;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x201C;bar&#x201D;&#x76EE;&#x5F55;&#xFF0C;&#x6700;&#x540E;&#x624D;&#x662F;&#x201C;blish&#x201D;&#x76EE;&#x5F55;&#x3002;</p>
<h3 id="&#x4F2A;&#x76EE;&#x6807;"><a href="#&#x4F2A;&#x76EE;&#x6807;" class="headerlink" title="&#x4F2A;&#x76EE;&#x6807;"></a>&#x4F2A;&#x76EE;&#x6807;</h3><p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x548C;&#x6587;&#x4EF6;&#x91CD;&#x540D;&#x7684;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x6807;&#x8BB0;&#x201C;.PHONY&#x201D;&#x6765;&#x663E;&#x793A;&#x5730;&#x6307;&#x660E;&#x4E00;&#x4E2A;&#x76EE;&#x6807;&#x662F;&#x201C;&#x4F2A;&#x76EE;&#x6807;&#x201D;&#xFF0C;&#x5411;make&#x8BF4;&#x660E;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x201C;&#x4F2A;&#x76EE;&#x6807;&#x201D;&#x3002;</p>
<p>&#x200B;    .PHONY : clean</p>
<p>&#x53EA;&#x8981;&#x6709;&#x8FD9;&#x4E2A;&#x58F0;&#x660E;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x6709;&#x201C;clean&#x201D;&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x8FD0;&#x884C;&#x201C;clean&#x201D;&#x8FD9;&#x4E2A;&#x76EE;&#x6807;&#xFF0C;&#x53EA;&#x6709;&#x201C;make clean&#x201D;&#x8FD9;&#x6837;&#x3002;&#x4E8E;&#x662F;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A;</p>
<p>&#x200B;     .PHONY: clean<br>&#x200B;    clean:<br>&#x200B;            rm *.o temp</p>
<hr>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4E3A;&#x4F2A;&#x76EE;&#x6807;&#x6307;&#x5B9A;&#x6240;&#x4F9D;&#x8D56;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x4F2A;&#x76EE;&#x6807;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x201C;&#x9ED8;&#x8BA4;&#x76EE;&#x6807;&#x201D;&#xFF0C;&#x53EA;&#x8981;&#x5C06;&#x5176;&#x653E;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x3002;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x5C31;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;Makefile&#x9700;&#x8981;&#x4E00;&#x53E3;&#x6C14;&#x751F;&#x6210;&#x82E5;&#x5E72;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x4F46;&#x4F60;&#x53EA;&#x60F3;&#x7B80;&#x5355;&#x5730;&#x6572;&#x4E00;&#x4E2A;make&#x5B8C;&#x4E8B;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x90FD;&#x5199;&#x5728;&#x4E00;&#x4E2A;Makefile&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;&#x4F2A;&#x76EE;&#x6807;&#x201D;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF1A;</p>
<p>&#x200B;    all : prog1 prog2 prog3<br>&#x200B;    .PHONY : all</p>
<p>&#x200B;    prog1 : prog1.o utils.o<br>&#x200B;            cc -o prog1 prog1.o utils.o</p>
<p>&#x200B;    prog2 : prog2.o<br>&#x200B;            cc -o prog2 prog2.o</p>
<p>&#x200B;    prog3 : prog3.o sort.o utils.o<br>&#x200B;            cc -o prog3 prog3.o sort.o utils.o</p>
<h3 id="&#x9759;&#x6001;&#x6A21;&#x5F0F;"><a href="#&#x9759;&#x6001;&#x6A21;&#x5F0F;" class="headerlink" title="&#x9759;&#x6001;&#x6A21;&#x5F0F;"></a>&#x9759;&#x6001;&#x6A21;&#x5F0F;</h3><p>&#x9759;&#x6001;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x5730;&#x5B9A;&#x4E49;&#x591A;&#x76EE;&#x6807;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x89C4;&#x5219;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x7684;&#x6709;&#x5F39;&#x6027;&#x548C;&#x7075;&#x6D3B;&#x3002;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x8BED;&#x6CD5;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;targets ...&gt;: &lt;target-pattern&gt;: &lt;prereq-patterns ...&gt;</span><br><span class="line">        &lt;commands&gt;</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure>
<p>&#x200B;    targets&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x901A;&#x914D;&#x7B26;&#x3002;&#x662F;&#x76EE;&#x6807;&#x7684;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x3002;</p>
<p>&#x200B;    target-parrtern&#x662F;&#x6307;&#x660E;&#x4E86;targets&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7684;&#x76EE;&#x6807;&#x96C6;&#x6A21;&#x5F0F;&#x3002;</p>
<p>&#x200B;    prereq-parrterns&#x662F;&#x76EE;&#x6807;&#x7684;&#x4F9D;&#x8D56;&#x6A21;&#x5F0F;&#xFF0C;&#x5B83;&#x5BF9;target-parrtern&#x5F62;&#x6210;&#x7684;&#x6A21;&#x5F0F;&#x518D;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x4F9D;&#x8D56;&#x76EE;&#x6807;&#x7684;&#x5B9A;&#x4E49;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x7684;&#x201C;&#x76EE;&#x6807;&#x6A21;&#x5F0F;&#x201D;&#x6216;&#x662F;&#x201C;&#x4F9D;&#x8D56;&#x6A21;&#x5F0F;&#x201D;&#x4E2D;&#x90FD;&#x5E94;&#x8BE5;&#x6709;&#x201C;%&#x201D;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x6709;&#x201C;%&#x201D;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53CD;&#x659C;&#x6760;&#x201C;\&#x201D;&#x8FDB;&#x884C;&#x8F6C;&#x4E49;&#xFF0C;&#x6765;&#x6807;&#x660E;&#x771F;&#x5B9E;&#x7684;&#x201C;%&#x201D;&#x5B57;&#x7B26;&#x3002;</p>
<p>&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">objects = foo.o bar.o</span><br><span class="line"></span><br><span class="line">all: $(objects)</span><br><span class="line"></span><br><span class="line">$(objects): %.o: %.c</span><br><span class="line">        $(CC) -c $(CFLAGS) $&lt; -o $@</span><br></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6307;&#x660E;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x6807;&#x4ECE;<code>$object</code>&#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x201C;%.o&#x201D;&#x8868;&#x660E;&#x8981;&#x6240;&#x6709;&#x4EE5;&#x201C;.o&#x201D;&#x7ED3;&#x5C3E;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x201C;foo.o bar.o&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53D8;&#x91CF;<code>$object</code>&#x96C6;&#x5408;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x800C;&#x4F9D;&#x8D56;&#x6A21;&#x5F0F;&#x201C;%.c&#x201D;&#x5219;&#x53D6;&#x6A21;&#x5F0F;&#x201C;%.o&#x201D;&#x7684;&#x201C;%&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x201C;foo bar&#x201D;&#xFF0C;&#x5E76;&#x4E3A;&#x5176;&#x52A0;&#x4E0B;&#x201C;.c&#x201D;&#x7684;&#x540E;&#x7F00;&#xFF0C;&#x4E8E;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x201C;foo.c bar.c&#x201D;&#x3002;&#x800C;&#x547D;&#x4EE4;&#x4E2D;&#x7684;&#x201C;<code>$&lt;</code>&#x201D;&#x548C;&#x201C;<code>$@</code>&#x201D;&#x5219;&#x662F;&#x81EA;&#x52A8;&#x5316;&#x53D8;&#x91CF;&#xFF0C;&#x201C;<code>$&lt;</code>&#x201D;&#x8868;&#x793A;&#x6240;&#x6709;&#x7684;&#x4F9D;&#x8D56;&#x76EE;&#x6807;&#x96C6;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x201C;foo.c bar.c&#x201D;&#xFF09;&#xFF0C;&#x201C;<code>$@</code>&#x201D;&#x8868;&#x793A;&#x76EE;&#x6807;&#x96C6;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x201C;foo.o bar.o&#x201D;&#xFF09;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x89C4;&#x5219;&#x5C55;&#x5F00;&#x540E;&#x7B49;&#x4EF7;&#x4E8E;&#x4E0B;&#x9762;&#x7684;&#x89C4;&#x5219;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo.o : foo.c</span><br><span class="line">        $(CC) -c $(CFLAGS) foo.c -o foo.o</span><br><span class="line">bar.o : bar.c</span><br><span class="line">        $(CC) -c $(CFLAGS) bar.c -o bar.o</span><br></pre></td></tr></table></figure>
<p>&#x201C;&#x9759;&#x6001;&#x6A21;&#x5F0F;&#x89C4;&#x5219;&#x201D;&#x7684;&#x7528;&#x6CD5;&#x5F88;&#x7075;&#x6D3B;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x5F97;&#x597D;&#xFF0C;&#x90A3;&#x4F1A;&#x4E00;&#x4E2A;&#x5F88;&#x5F3A;&#x5927;&#x7684;&#x529F;&#x80FD;&#x3002;&#x518D;&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">files = foo.elc bar.o lose.o</span><br><span class="line"></span><br><span class="line">$(filter %.o,$(files)): %.o: %.c</span><br><span class="line">        $(CC) -c $(CFLAGS) $&lt; -o $@</span><br><span class="line">$(filter %.elc,$(files)): %.elc: %.el</span><br><span class="line">        emacs -f batch-byte-compile $&lt;</span><br></pre></td></tr></table></figure></p>
<p><code>$(filter %.o,$(files))</code>&#x8868;&#x793A;&#x8C03;&#x7528;Makefile&#x7684;filter&#x51FD;&#x6570;&#xFF0C;&#x8FC7;&#x6EE4;&#x201C;<code>$filter</code>&#x201D;&#x96C6;&#xFF0C;&#x53EA;&#x8981;&#x5176;&#x4E2D;&#x6A21;&#x5F0F;&#x4E3A;&#x201C;%.o&#x201D;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<h2 id="&#x5F85;&#x7EED;"><a href="#&#x5F85;&#x7EED;" class="headerlink" title="&#x5F85;&#x7EED;"></a>&#x5F85;&#x7EED;</h2>
                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2018-12-15T12:58:57.000Z" itemprop="datePublished">2018-12-15</time>

    </span>
    <span class="post-description-item">
        
    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a href="/2018/12/24/Network/Tcp/TCP网络拥塞控制/" class="ui tiny button">

                    <i class="angle left icon"></i>
                    
                    (No Title)
                    

                </a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2018/12/07/C_C++/C++STL/" class="ui tiny button">
                    
                    C++ STL
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#文件依赖规则"><span>文件依赖规则</span></a></li><li><a href="#一个示例"><span>一个示例</span></a></li><li><a href="#使用变量"><span>使用变量</span></a></li><li><a href="#让make自动推导"><span>让make自动推导</span></a></li><li><a href="#另类风格的makefile"><span>另类风格的makefile</span></a></li><li><a href="#amp-amp"><span>@ & - &</span></a></li><li><a href="#makefile的文件名"><span>makefile的文件名</span></a></li><li><a href="#引用其它的Makefile"><span>引用其它的Makefile</span></a></li><li><a href="#环境变量-MAKEFILES"><span>环境变量 MAKEFILES</span></a></li><li><a href="#make工作方式"><span>make工作方式</span></a></li><li><a href="#使用通配符"><span>使用通配符</span></a></li><li><a href="#自动文件搜寻"><span>自动文件搜寻</span></a></li><li><a href="#伪目标"><span>伪目标</span></a></li><li><a href="#静态模式"><span>静态模式</span></a></li></ol><li><a href="#待续"><span>待续</span></a>
                </li></div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2019 <a href="/">John Doe</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script>



</body>
</html>
