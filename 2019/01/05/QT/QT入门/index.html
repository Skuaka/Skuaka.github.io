

<!DOCTYPE html>
<html lang>
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.8.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <meta name="description" content="For you, a thousand times over.">
    <title>QT 入门 | Skuaka</title>

    <!-- Open Graph -->
    <meta name="description" content="Qt5 &amp;#x5165;&amp;#x95E8;&amp;#x6982;&amp;#x5FF5;QT&amp;#x4E0E;OpenGLQt 5.2.0 for Windows 32-bit (MinGW 4.8, OpenGL, 689 MB)Qt 5.2.0 for Windows 32-bit (VS 2010, 570 MB) &amp;#x3001;Qt 5.2.0 for Windows 32-bit (VS 2010, O">
<meta name="keywords" content="skuaka">
<meta property="og:type" content="article">
<meta property="og:title" content="QT 入门">
<meta property="og:url" content="http://yoursite.com/2019/01/05/QT/QT入门/index.html">
<meta property="og:site_name" content="Skuaka">
<meta property="og:description" content="Qt5 &amp;#x5165;&amp;#x95E8;&amp;#x6982;&amp;#x5FF5;QT&amp;#x4E0E;OpenGLQt 5.2.0 for Windows 32-bit (MinGW 4.8, OpenGL, 689 MB)Qt 5.2.0 for Windows 32-bit (VS 2010, 570 MB) &amp;#x3001;Qt 5.2.0 for Windows 32-bit (VS 2010, O">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/brush-fill-pattern.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/pen-style.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/cap-style-2.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/join-style-2.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/dash_pattern.jpg">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/qt-antialiasing.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/ps-points.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/QLinearGradient.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/QRadialGradient.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/QConicalGradient.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/gradient-demo.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/color-wheel.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/coordinate-system-demo.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/coordinate-system-demo.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/mutilpx-painting.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/anti-aliasing-painting.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/coordinate-transformations-demo.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/coordinate-system-instruction.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/paint-device-qt5.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/qpixmap-qbitmap-demo.png">
<meta property="og:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/qimage-32bit.png">
<meta property="og:updated_time" content="2019-03-02T15:31:13.032Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="QT 入门">
<meta name="twitter:description" content="Qt5 &amp;#x5165;&amp;#x95E8;&amp;#x6982;&amp;#x5FF5;QT&amp;#x4E0E;OpenGLQt 5.2.0 for Windows 32-bit (MinGW 4.8, OpenGL, 689 MB)Qt 5.2.0 for Windows 32-bit (VS 2010, 570 MB) &amp;#x3001;Qt 5.2.0 for Windows 32-bit (VS 2010, O">
<meta name="twitter:image" content="http://yoursite.com/2019/01/05/QT/QT入门/Picture/brush-fill-pattern.png">

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Person",
  "email": "mailto:",
  "image": "",
  "name": "Skuaka",
  "url": "http://yoursite.com"
}
</script>
    <script>
    var algoliaEnabled = false;
    
</script>

    

    
    
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
    
    
    
        <!-- stylesheets list from config.yml -->
        
        <link rel="stylesheet" href="/css/aloha.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.css">
        
        <link rel="stylesheet" href="//cdn.bootcss.com/magnific-popup.js/1.1.0/magnific-popup.min.css">
        
    

</head>
<body id="body" style="margin-bottom: 0;" class="pushable">

    <div class="ui top fixed menu">
        <a class="item" id="menu-icon"><i class="sidebar icon"></i></a>
    </div>

    <div id="menu-sidebar" class="ui left vertical sidebar menu">

    <div id="sidebar-top">
        <div class="content">
            <h3>Skuaka</h3>
        </div>
    </div>
    <div class="ui container sidebar-card">
    <div class="ui people shape content">
        <div class="active side">
            <div class="ui card">
                <div class="image">
                    <img class="ui medium bordered image" src="/images/avatar.jpg">
                </div>
                <div class="content">
                    <a class="header">Skuaka</a>
                    
                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                        
                    </div>

                </div>
                <div class="extra content">
                    <div class="ui list">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

    
    

    

    
    <a href="/index.html" class="item">
        <i class="home icon"></i>
        HOME
    </a>

    
    

    

    
    <a href="/about" class="item">
        <i class="about icon"></i>
        ABOUT
    </a>

    

    
</div>

    <div class="pusher body-content">
        <div id="content" class="ui main container">
            <!--<div class="ui one column grid">-->
                <!--<div class="column">-->
                    <!--<div class="ui main container">-->
                        <div id="post-QT/QT入门" class="ui main container article-type-post">

    

    <div class="ui divided grid">

        <div class="two column row" id="article-content">

            <div class="thirteen wide computer thirteen wide tablet sixteen wide mobile column">
                

<h1 class="ui header">
    
    QT 入门
</h1>



                <div class="article-inner">

                    <div class="article-entry" itemprop="articleBody">
                        
                        <h1 id="Qt5-&#x5165;&#x95E8;"><a href="#Qt5-&#x5165;&#x95E8;" class="headerlink" title="Qt5 &#x5165;&#x95E8;"></a>Qt5 &#x5165;&#x95E8;</h1><h2 id="&#x6982;&#x5FF5;"><a href="#&#x6982;&#x5FF5;" class="headerlink" title="&#x6982;&#x5FF5;"></a>&#x6982;&#x5FF5;</h2><h3 id="QT&#x4E0E;OpenGL"><a href="#QT&#x4E0E;OpenGL" class="headerlink" title="QT&#x4E0E;OpenGL"></a>QT&#x4E0E;OpenGL</h3><p>Qt 5.2.0 for Windows 32-bit (MinGW 4.8, OpenGL, 689 MB)<br>Qt 5.2.0 for Windows 32-bit (VS 2010, 570 MB) &#x3001;<br>Qt 5.2.0 for Windows 32-bit (VS 2010, OpenGL, 569 MB)&#x3001;<br>Qt 5.2.0 for Windows 32-bit (VS 2012, 579 MB)</p>
<p>&#x8FD9;&#x56DB;&#x4E2A;&#x9996;&#x5148;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x7684;&#x533A;&#x522B;&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;MinGW&#xFF1B;&#x7B2C;&#x4E8C;&#x3001;&#x4E09;&#x4E2A;&#x662F;VS2010&#xFF1B;&#x7B2C;&#x56DB;&#x4E2A;&#x662F;VS2012&#x3002;<strong>&#x6807;&#x8BB0;&#x6709;OpenGL&#x7684;&#x542B;&#x4E49;&#x662F;&#x4F7F;&#x7528;OpenGL&#x540E;&#x7AEF;&#xFF1B;&#x5426;&#x5219;&#x7684;&#x8BDD;&#x4F7F;&#x7528;ANGLE&#x540E;&#x7AEF;&#x3002;</strong>ANGLE&#x662F;Google&#x53D1;&#x8D77;&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x65E8;&#x5728;&#x5C06;OpenGL ES 2.0 API&#x6620;&#x5C04;&#x5230;DirectX 9 API&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x4E86;&#x4E0D;&#x5305;&#x542B;&#x5728;OpenGL ES&#x4E2D;&#x7684;OpenGL API&#xFF1B;&#x6216;&#x8005;<strong>&#x9700;&#x8981;&#x8FD0;&#x884C;&#x5728;Windows XP&#x5E73;&#x53F0;&#xFF0C;&#x90A3;&#x4E48;&#x9700;&#x8981;&#x9009;&#x62E9;OpenGL&#x7248;&#x672C;&#xFF08;&#x610F;&#x601D;&#x662F;&#x8BF4;OpenGL&#x7248;&#x672C;&#x662F;&#x5168;&#x7248;&#x672C;&#xFF0C;&#x81EA;&#x5E26;&#x6240;&#x6709;API&#xFF09;</strong></p>
<h3 id="&#x5143;&#x5BF9;&#x8C61;"><a href="#&#x5143;&#x5BF9;&#x8C61;" class="headerlink" title="&#x5143;&#x5BF9;&#x8C61;"></a>&#x5143;&#x5BF9;&#x8C61;</h3><p>&#x5143;&#x5BF9;&#x8C61;&#xFF08;meta object&#xFF09;&#x610F;&#x601D;&#x662F;<strong>&#x63CF;&#x8FF0;&#x53E6;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED3;&#x6784;&#x7684;&#x5BF9;&#x8C61;</strong>&#xFF0C;&#x6BD4;&#x5982;&#x83B7;&#x5F97;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6709;&#x591A;&#x5C11;&#x6210;&#x5458;&#x51FD;&#x6570;&#xFF0C;&#x6709;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#x3002;&#x5728;Qt&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x8981;&#x7528;&#x5230;&#x7684;&#x662F;QMetaObject&#x8FD9;&#x4E2A;&#x7C7B;&#x3002;</p>
<p>&#x5143;&#x5BF9;&#x8C61;&#x7CFB;&#x7EDF;&#x57FA;&#x4E8E;&#x4EE5;&#x4E0B;3&#x70B9;&#xFF1A;</p>
<ul class="ui list">
<li>&#x4EE5;QObject&#x4F5C;&#x4E3A;&#x57FA;&#x7C7B;</li>
<li>&#x7C7B;&#x58F0;&#x660E;&#x7684;&#x79C1;&#x6709;&#x533A;&#x57DF;&#x4E2D;&#xFF0C;Q_Object&#x5B8F;&#x6307;&#x4EE4;&#x4F7F;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#x5143;&#x5BF9;&#x8C61;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x6BD4;&#x5982;&#x52A8;&#x6001;&#x5C5E;&#x6027;&#x3001;&#x4FE1;&#x53F7;&#x3001;&#x69FD;&#x7B49;</li>
<li>&#x5143;&#x5BF9;&#x8C61;&#x7F16;&#x8BD1;&#x5668;&#xFF08;<strong>Meta-Object Compiler</strong>  moc&#xFF09;&#x4E3A;QObject&#x5B50;&#x7C7B;&#x751F;&#x6210;&#x5177;&#x6709;&#x5143;&#x5BF9;&#x8C61;&#x7279;&#x6027;&#x7684;&#x4EE3;&#x7801;</li>
</ul>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;QObject&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x6210;&#x5458;&#x51FD;&#x6570;&#x83B7;&#x5F97;&#x8BE5;&#x7C7B;&#x7684;&#x5143;&#x5BF9;&#x8C61;&#xFF1A;</p>
<p><code>QMetaObject *QObject::metaObject() const</code>&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x5143;&#x5BF9;&#x8C61;&#xFF0C;&#x8FDB;&#x800C;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;QObject&#x5BF9;&#x8C61;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF1A;</p>
<p><code>QMetaObject::className()</code> &#x8FD4;&#x56DE;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x7684;&#x540D;&#x79F0;&#xFF08;&#x4E0D;&#x9700;&#x8981;C++&#x4E2D;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x8BC6;&#x522B;&#x673A;&#x5236;RTTI&#xFF09;</p>
<p><code>QMetaObject::methodCount()</code> &#x8FD4;&#x56DE;&#x7C7B;&#x4E2D;&#x65B9;&#x6CD5;&#x7684;&#x4E2A;&#x6570;</p>
<h2 id="&#x57FA;&#x7840;"><a href="#&#x57FA;&#x7840;" class="headerlink" title="&#x57FA;&#x7840;"></a>&#x57FA;&#x7840;</h2><h3 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QLabel&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QLabel <span class="title">label</span><span class="params">(<span class="string">&quot;Hello, world&quot;</span>)</span></span>;</span><br><span class="line">    label.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><strong>&#x6CE8;&#x610F;&#xFF01;&#xFF01;&#xFF01;</strong> </p>
<p>&#x4E0D;&#x80FD;&#x4F7F;&#x7528;new&#x521B;&#x5EFA;Qlabel&#xFF0C;<code>QLabel *label = new QLabel(&quot;Hello, world&quot;);</code></p>
<p>label &#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x5806;&#x4E0A;&#x7684;&#xFF0C;app &#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x6808;&#x4E0A;&#x7684;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;label &#x4F1A;&#x5728; app &#x4E4B;&#x540E;&#x6790;&#x6784;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;label &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x957F;&#x4E8E; app &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;<strong>&#x8FD9;&#x662F; Qt &#x7F16;&#x7A0B;&#x7684;&#x5927;&#x5FCC;</strong>&#x3002;</p>
<h3 id="&#x4FE1;&#x53F7;&#x4E0E;&#x69FD;"><a href="#&#x4FE1;&#x53F7;&#x4E0E;&#x69FD;" class="headerlink" title="&#x4FE1;&#x53F7;&#x4E0E;&#x69FD;"></a>&#x4FE1;&#x53F7;&#x4E0E;&#x69FD;</h3><p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// !!! Qt 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QPushButton&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">QPushButton <span class="title">button</span><span class="params">(<span class="string">&quot;Quit&quot;</span>)</span></span>;</span><br><span class="line">    QObject::connect(&amp;button, &amp;QPushButton::clicked, &amp;QApplication::quit);</span><br><span class="line">    button.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h4 id="connect"><a href="#connect" class="headerlink" title="connect()"></a>connect()</h4><p>&#x5728; <strong>Qt 5 &#x4E2D;</strong>&#xFF0C;QObject::connect() &#x6709;&#x4E94;&#x4E2A;&#x91CD;&#x8F7D;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">QMetaObject::<span class="function">Connection <span class="title">connect</span><span class="params">(<span class="keyword">const</span> QObject *, <span class="keyword">const</span> <span class="keyword">char</span> *,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">const</span> QObject *, <span class="keyword">const</span> <span class="keyword">char</span> *,</span></span></span><br><span class="line"><span class="function"><span class="params">                                Qt::ConnectionType)</span></span>;</span><br><span class="line"></span><br><span class="line">QMetaObject::<span class="function">Connection <span class="title">connect</span><span class="params">(<span class="keyword">const</span> QObject *, <span class="keyword">const</span> QMetaMethod &amp;,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">const</span> QObject *, <span class="keyword">const</span> QMetaMethod &amp;,</span></span></span><br><span class="line"><span class="function"><span class="params">                                Qt::ConnectionType)</span></span>;</span><br><span class="line"></span><br><span class="line">QMetaObject::<span class="function">Connection <span class="title">connect</span><span class="params">(<span class="keyword">const</span> QObject *, <span class="keyword">const</span> <span class="keyword">char</span> *,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">const</span> <span class="keyword">char</span> *,</span></span></span><br><span class="line"><span class="function"><span class="params">                                Qt::ConnectionType)</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">QMetaObject::<span class="function">Connection <span class="title">connect</span><span class="params">(<span class="keyword">const</span> QObject *, PointerToMemberFunction,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="keyword">const</span> QObject *, PointerToMemberFunction,</span></span></span><br><span class="line"><span class="function"><span class="params">                                Qt::ConnectionType)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line">QMetaObject::Connection connect(const QObject *, PointerToMemberFunction,</span><br><span class="line">                                Functor);</span><br></pre></td></tr></table></figure>
<p>&#x6700;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x822C;&#x5F62;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connect(sender, signal,</span><br><span class="line">        receiver, slot);</span><br></pre></td></tr></table></figure>
<p>connect() &#x4E00;&#x822C;&#x4F1A;&#x4F7F;&#x7528;&#x524D;&#x9762;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x53D1;&#x9001;&#x5BF9;&#x8C61;&#x53D1;&#x51FA;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x662F;&#x63A5;&#x6536;&#x4FE1;&#x53F7;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x7B2C;&#x56DB;&#x4E2A;&#x662F;&#x63A5;&#x6536;&#x5BF9;&#x8C61;&#x5728;&#x63A5;&#x6536;&#x5230;&#x4FE1;&#x53F7;&#x4E4B;&#x540E;&#x6240;&#x9700;&#x8981;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x5957;&#x7528;&#x8FD9;&#x4E2A;&#x5F62;&#x5F0F;&#x53BB;&#x5206;&#x6790;&#x4E0A;&#x9762;&#x7ED9;&#x51FA;&#x7684;&#x4E94;&#x4E2A;&#x91CD;&#x8F7D;&#x3002;</p>
<ul class="ui list">
<li>&#x7B2C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5C06; signal &#x548C; slot &#x4F5C;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x5904;&#x7406;&#x3002;</li>
<li>&#x7B2C;&#x4E8C;&#x4E2A;&#x51FD;&#x6570;&#x7684; signal &#x548C; slot &#x90FD;&#x662F; const QMetaMethod &amp;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x770B;&#x505A;&#x662F; QMetaMethod &#x7684;&#x5B50;&#x7C7B;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; QMetaMethod &#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x6BD4;&#x5BF9;&#x3002;</li>
<li>&#x7B2C;&#x4E09;&#x4E2A;&#x51FD;&#x6570;&#x7F3A;&#x5C11;&#x4E86; receiver&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5176;&#x5B9E;&#x662F;&#x5C06; this &#x6307;&#x9488;&#x4F5C;&#x4E3A; receiver&#x3002;</li>
<li>&#x7B2C;&#x56DB;&#x4E2A;&#x51FD;&#x6570; signal &#x548C; slot &#x7C7B;&#x578B;&#x5219;&#x662F; PointerToMemberFunction&#xFF0C;&#x8FD9;&#x662F;&#x6307;&#x5411;&#x6210;&#x5458;&#x51FD;&#x6570;&#x7684;&#x6307;&#x9488;&#x3002;</li>
<li>&#x7B2C;&#x4E94;&#x4E2A;&#xFF0C;&#x524D;&#x9762;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F; Functor &#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x63A5;&#x53D7; static &#x51FD;&#x6570;&#x3001;&#x5168;&#x5C40;&#x51FD;&#x6570;&#x4EE5;&#x53CA; Lambda &#x8868;&#x8FBE;&#x5F0F;&#x3002;</li>
</ul>
<hr>
<p><strong>&#x6CE8;&#x610F;&#x4E8B;&#x9879;</strong>&#xFF1A;</p>
<ul class="ui list">
<li><p>&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x6307;&#x9488;&#x80FD;&#x591F;&#x83B7;&#x5F97;<strong>&#x7F16;&#x8BD1;&#x671F;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;</strong>&#x3002;&#x4FE1;&#x53F7;&#x69FD;&#x8981;&#x6C42;&#x4FE1;&#x53F7;&#x548C;&#x69FD;&#x7684;&#x53C2;&#x6570;&#x4E00;&#x81F4;&#xFF0C;&#x6240;&#x8C13;&#x4E00;&#x81F4;&#xFF0C;&#x662F;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x4E00;&#x81F4;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5141;&#x8BB8;&#x7684;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x69FD;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6BD4;&#x4FE1;&#x53F7;&#x7684;&#x5C11;&#xFF0C;&#x5373;&#x4FBF;&#x5982;&#x6B64;&#xFF0C;&#x69FD;&#x51FD;&#x6570;&#x5B58;&#x5728;&#x7684;&#x90A3;&#x4E9B;&#x53C2;&#x6570;&#x7684;&#x987A;&#x5E8F;&#x4E5F;&#x5FC5;&#x987B;&#x548C;&#x4FE1;&#x53F7;&#x7684;&#x524D;&#x9762;&#x51E0;&#x4E2A;&#x4E00;&#x81F4;&#x8D77;&#x6765;&#x3002;</p>
</li>
<li><p><strong>&#x5982;&#x679C;&#x4FE1;&#x53F7;&#x6709;&#x91CD;&#x8F7D;</strong>&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6307;&#x9488;&#x6765;&#x6307;&#x660E;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x3002;</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> (Newspaper:: *newPaperNameDate)(<span class="keyword">const</span> QString &amp;, <span class="keyword">const</span> QDate &amp;) = &amp;Newspaper::newPaper;</span><br><span class="line">QObject::connect(&amp;newspaper, newPaperNameDate,</span><br><span class="line">                 &amp;reader,    &amp;Reader::receiveNewspaper);</span><br></pre></td></tr></table></figure>
<p>  &#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x533F;&#x540D;&#x6307;&#x9488;&#xFF1A;</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QObject::connect(&amp;newspaper,</span><br><span class="line">                 <span class="keyword">static_cast</span>&lt;<span class="keyword">void</span> (Newspaper:: *)(<span class="keyword">const</span> QString &amp;, <span class="keyword">const</span> QDate &amp;)&gt;(&amp;Newspaper::newPaper),</span><br><span class="line">                 <span class="comment">//(void (Newspaper:: *)(const QString &amp;, const QDate &amp;))&amp;Newspaper::newPaper,</span></span><br><span class="line">                 &amp;reader,</span><br><span class="line">                 &amp;Reader::receiveNewspaper);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; C &#x98CE;&#x683C;&#x7684;&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x3002;&#x4F46;&#x6B64;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6539;&#x53D8;&#x4E86;&#x4FE1;&#x53F7;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x6F5C;&#x5728;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x9519;&#x8BEF;&#x3002;</p>
<p>&#x800C;<code>static_cast&lt;&gt;</code>&#x5219;&#x662F; C++ &#x63A8;&#x8350;&#x7684;&#x98CE;&#x683C;&#xFF0C;&#x5F53;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x68C0;&#x6D4B;&#x5230;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x3002;</p>
</li>
</ul>
</li>
<li><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x5F3A;&#x8C03;&#x4E86;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5982;&#x679C;&#x524D;&#x9762;&#x7684;&#x5BF9;&#x8C61;&#x90FD;&#x9519;&#x4E86;&#x5462;&#xFF1F;&#x6B64;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x76F4;&#x63A5;&#x5931;&#x8D25;&#xFF0C;&#x56E0;&#x4E3A; connect() &#x51FD;&#x6570;&#x4F1A;&#x53BB;&#x5BFB;&#x627E; <code>sender-&gt;*signal</code>&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x4E0D;&#x6EE1;&#x8DB3;&#xFF0C;&#x5219;&#x4F1A;&#x76F4;&#x63A5;&#x62A5;&#x9519;&#x3002;</p>
</li>
<li><p>&#x6709;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x69FD;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6BD4;&#x4FE1;&#x53F7;&#x7684;&#x591A;&#xFF0C;&#x90A3;&#x5C31;&#x662F;<strong>&#x69FD;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5E26;&#x6709;&#x9ED8;&#x8BA4;&#x503C;</strong>&#x3002;</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Newspaper</span></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">newPaper</span><span class="params">(<span class="keyword">const</span> QString &amp;name)</span></span>;</span><br><span class="line"><span class="comment">// Reader</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">receiveNewspaper</span><span class="params">(<span class="keyword">const</span> QString &amp;name, <span class="keyword">const</span> QDate &amp;date = QDate::currentDate())</span></span>;</span><br></pre></td></tr></table></figure>
<p>  &#x4E0D;&#x8FC7;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x5728;&#x51FD;&#x6570;&#x6307;&#x9488;&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x8FD9;&#x662F; <strong>C++ &#x8BED;&#x8A00;&#x7684;&#x9650;&#x5236;</strong>&#xFF1A;&#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x503C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x5728;&#x76F4;&#x63A5;&#x5730;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E2D;&#x3002;&#x5F53;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x6307;&#x9488;&#x53D6;&#x5176;&#x5730;&#x5740;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#x662F;&#x4E0D;&#x53EF;&#x89C1;&#x7684;&#xFF01;</p>
<p>  &#x5F53;&#x7136;&#xFF0C;&#x6B64;&#x65F6;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9; Qt 4 &#x7684;&#x8FDE;&#x63A5;&#x8BED;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x4F60;&#x8FD8;&#x662F;&#x60F3;&#x4F7F;&#x7528; Qt 5 &#x7684;&#x65B0;&#x8BED;&#x6CD5;&#xFF0C;&#x76EE;&#x524D;&#x7684;&#x529E;&#x6CD5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF1A;<strong>Lambda &#x8868;&#x8FBE;&#x5F0F;</strong>&#x3002;&#x76EE;&#x524D;&#x80FD;&#x591F;&#x652F;&#x6301; Qt 5 &#x7684;&#x7F16;&#x8BD1;&#x5668;&#x90FD;&#x662F;&#x652F;&#x6301; Lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x3002;&#x4E8E;&#x662F;&#xFF0C;&#x4F7F;&#x7528;connect&#x7684;&#x7B2C;&#x4E94;&#x4E2A;&#x91CD;&#x8F7D;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#xFF1A;</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QObject::connect(&amp;newspaper,</span><br><span class="line">                 <span class="keyword">static_cast</span>&lt;<span class="keyword">void</span> (Newspaper:: *)(<span class="keyword">const</span> QString &amp;)&gt;(&amp;Newspaper::newPaper),</span><br><span class="line">                 [=](<span class="keyword">const</span> QString &amp;name) { <span class="comment">/* Your code here. */</span> });</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="&#x81EA;&#x5B9A;&#x4E49;&#x4FE1;&#x53F7;&#x69FD;-&#x57FA;&#x672C;&#x6846;&#x67B6;"><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x4FE1;&#x53F7;&#x69FD;-&#x57FA;&#x672C;&#x6846;&#x67B6;" class="headerlink" title="&#x81EA;&#x5B9A;&#x4E49;&#x4FE1;&#x53F7;&#x69FD;(&#x57FA;&#x672C;&#x6846;&#x67B6;)"></a>&#x81EA;&#x5B9A;&#x4E49;&#x4FE1;&#x53F7;&#x69FD;(&#x57FA;&#x672C;&#x6846;&#x67B6;)</h4><p>&#x8BFB;&#x8005;&#x63A5;&#x6536;&#x62A5;&#x7EB8;&#x4FE1;&#x606F;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//!!! Qt5</span></span><br><span class="line"><span class="comment">////////// newspaper.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QObject&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Newspaper</span> :</span> <span class="keyword">public</span> QObject</span><br><span class="line">{</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Newspaper(<span class="keyword">const</span> QString &amp; name) :</span><br><span class="line">        m_name(name)</span><br><span class="line">    {}</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">send</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        <span class="function">emit <span class="title">newPaper</span><span class="params">(m_name)</span></span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">newPaper</span><span class="params">(<span class="keyword">const</span> QString &amp;name)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QString m_name;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">////////// reader.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QObject&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QDebug&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Reader</span> :</span> <span class="keyword">public</span> QObject</span><br><span class="line">{</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Reader() {}</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">receiveNewspaper</span><span class="params">(<span class="keyword">const</span> QString &amp; name)</span></span></span><br><span class="line"><span class="function">    </span>{</span><br><span class="line">        qDebug() &lt;&lt; <span class="string">&quot;Receives Newspaper: &quot;</span> &lt;&lt; name;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">////////// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QCoreApplication&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;newspaper.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;reader.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QCoreApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Newspaper <span class="title">newspaper</span><span class="params">(<span class="string">&quot;Newspaper A&quot;</span>)</span></span>;</span><br><span class="line">    Reader reader;</span><br><span class="line">    QObject::connect(&amp;newspaper, &amp;Newspaper::newPaper,</span><br><span class="line">                     &amp;reader,    &amp;Reader::receiveNewspaper);</span><br><span class="line">    newspaper.send();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><strong>&#x5206;&#x6790;</strong></p>
<ul class="ui list">
<li>&#x4E3A;&#x4E86;&#x4F7F;&#x7528;&#x4FE1;&#x53F7;&#x69FD;&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F; QObject&#x3002;</li>
<li><p>&#x51E1;&#x662F; QObject &#x7C7B;&#xFF08;&#x4E0D;&#x7BA1;&#x662F;&#x76F4;&#x63A5;&#x5B50;&#x7C7B;&#x8FD8;&#x662F;&#x95F4;&#x63A5;&#x5B50;&#x7C7B;&#xFF09;&#xFF0C;&#x90FD;&#x5E94;&#x8BE5;&#x5728;&#x7B2C;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5199;&#x4E0A; Q_OBJECT&#x3002;</p>
<ul>
<li>&#x4E0D;&#x7BA1;&#x662F;&#x4E0D;&#x662F;&#x4F7F;&#x7528;&#x4FE1;&#x53F7;&#x69FD;&#xFF0C;<strong>&#x90FD;&#x5E94;&#x8BE5;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x5B8F;</strong>&#x3002;&#x8FD9;&#x4E2A;&#x5B8F;&#x7684;&#x5C55;&#x5F00;&#x5C06;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x7C7B;&#x63D0;&#x4F9B;&#x4FE1;&#x53F7;&#x69FD;&#x673A;&#x5236;&#x3001;&#x56FD;&#x9645;&#x5316;&#x673A;&#x5236;&#x4EE5;&#x53CA; Qt &#x63D0;&#x4F9B;&#x7684;&#x4E0D;&#x57FA;&#x4E8E; C++ RTTI &#x7684;&#x53CD;&#x5C04;&#x80FD;&#x529B;&#x3002;&#x9664;&#x4E86;&#x4FE1;&#x53F7;&#x69FD;&#xFF0C;&#x5176;&#x5B83;&#x5F88;&#x591A;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x4F9D;&#x8D56;&#x4E8E;&#x8FD9;&#x4E2A;&#x5B8F;&#x3002;</li>
<li>&#x8FD9;&#x4E2A;&#x5B8F;&#x5C06;&#x7531; moc &#x505A;&#x7279;&#x6B8A;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5B8F;&#x5C55;&#x5F00;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#x3002;moc &#x4F1A;&#x8BFB;&#x53D6;&#x6807;&#x8BB0;&#x4E86; Q_OBJECT &#x7684;<strong>&#x5934;&#x6587;&#x4EF6;</strong>&#xFF0C;&#x751F;&#x6210;&#x4EE5; moc_ &#x4E3A;&#x524D;&#x7F00;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982; newspaper.h &#x5C06;&#x751F;&#x6210; moc_newspaper.cpp&#x3002;&#x53EF;&#x4EE5;&#x5230;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x770B;&#x770B;&#x5230;&#x5E95;&#x589E;&#x52A0;&#x4E86;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;&#x3002;</li>
<li>&#x6CE8;&#x610F;&#xFF0C;&#x7531;&#x4E8E; moc &#x53EA;&#x5904;&#x7406;&#x5934;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6807;&#x8BB0;&#x4E86; Q_OBJECT &#x7684;&#x7C7B;&#x58F0;&#x660E;&#xFF0C;&#x4E0D;&#x4F1A;&#x5904;&#x7406; cpp &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7C7B;&#x4F3C;&#x58F0;&#x660E;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684; Newspaper &#x548C; Reader &#x7C7B;&#x4F4D;&#x4E8E; main.cpp &#x4E2D;&#xFF0C;&#x662F;&#x65E0;&#x6CD5;&#x5F97;&#x5230; moc &#x7684;&#x5904;&#x7406;&#x7684;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x624B;&#x52A8;&#x8C03;&#x7528; moc &#x5DE5;&#x5177;&#x5904;&#x7406; main.cpp&#xFF0C;&#x5E76;&#x4E14;&#x5C06; main.cpp &#x4E2D;&#x7684; include &#x201C;newspaper.h&#x201D; &#x6539;&#x4E3A; include &#x201C;moc_newspaper.h&#x201D; &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x662F;&#x76F8;&#x5F53;&#x7E41;&#x7410;&#x7684;&#x6B65;&#x9AA4;&#x3002;</li>
</ul>
</li>
<li>signals &#x5757;&#x6240;&#x5217;&#x51FA;&#x7684;&#xFF0C;&#x5C31;&#x662F;&#x8BE5;&#x7C7B;&#x7684;&#x4FE1;&#x53F7;&#x3002;&#x4FE1;&#x53F7;&#x5C31;&#x662F;&#x51FD;&#x6570;&#x540D;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x662F; void&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x8BE5;&#x7C7B;&#x9700;&#x8981;&#x8BA9;&#x5916;&#x754C;&#x77E5;&#x9053;&#x7684;&#x6570;&#x636E;&#x3002;&#xFF08;moc &#x4F1A;&#x81EA;&#x52A8;&#x5E2E;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4FE1;&#x53F7;&#x51FD;&#x6570;&#x6240;&#x9700;&#x8981;&#x7684;&#x51FD;&#x6570;&#x4F53;&#xFF09;</li>
<li><p>emit &#x662F; Qt &#x5BF9; C++ &#x7684;&#x6269;&#x5C55;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x5B57;&#xFF08;&#x5B8F;&#xFF09;&#x3002;emit &#x7528;&#x6765;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#x3002;</p>
</li>
<li><p>&#x69FD;&#x51FD;&#x6570;&#x662F;&#x666E;&#x901A;&#x7684;&#x6210;&#x5458;&#x51FD;&#x6570;&#xFF0C;&#x4F5C;&#x4E3A;&#x6210;&#x5458;&#x51FD;&#x6570;&#xFF0C;&#x4F1A;&#x53D7;&#x5230; public&#x3001;private&#x3001;protected &#x7684;&#x5F71;&#x54CD;&#xFF1B;</p>
</li>
</ul>
<h3 id="Qt&#x6A21;&#x5757;"><a href="#Qt&#x6A21;&#x5757;" class="headerlink" title="Qt&#x6A21;&#x5757;"></a>Qt&#x6A21;&#x5757;</h3><p>Qt 5 &#x6A21;&#x5757;&#x5206;&#x4E3A; Essentials Modules &#x548C; Add-on Modules &#x4E24;&#x90E8;&#x5206;&#x3002;&#x524D;&#x8005;&#x662F;&#x57FA;&#x7840;&#x6A21;&#x5757;&#xFF0C;&#x5728;&#x6240;&#x6709;&#x5E73;&#x53F0;&#x4E0A;&#x90FD;&#x53EF;&#x7528;&#xFF1B;&#x540E;&#x8005;&#x662F;&#x6269;&#x5C55;&#x6A21;&#x5757;&#xFF0C;&#x5EFA;&#x7ACB;&#x5728;&#x57FA;&#x7840;&#x6A21;&#x5757;&#x7684;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#xFF0C;&#x5728;&#x80FD;&#x591F;&#x8FD0;&#x884C; Qt &#x7684;&#x5E73;&#x53F0;&#x4E4B;&#x4E0A;&#x53EF;&#x4EE5;&#x914C;&#x60C5;&#x5F15;&#x5165;&#x3002;</p>
<p><strong>Qt &#x57FA;&#x7840;&#x6A21;&#x5757;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- Qt Core&#xFF0C;&#x63D0;&#x4F9B;&#x6838;&#x5FC3;&#x7684;&#x975E; GUI &#x529F;&#x80FD;&#xFF0C;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x9700;&#x8981;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x3002;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x7C7B;&#x5305;&#x62EC;&#x4E86;&#x52A8;&#x753B;&#x6846;&#x67B6;&#x3001;&#x5B9A;&#x65F6;&#x5668;&#x3001;&#x5404;&#x4E2A;&#x5BB9;&#x5668;&#x7C7B;&#x3001;&#x65F6;&#x95F4;&#x65E5;&#x671F;&#x7C7B;&#x3001;&#x4E8B;&#x4EF6;&#x3001;IO&#x3001;JSON&#x3001;&#x63D2;&#x4EF6;&#x673A;&#x5236;&#x3001;&#x667A;&#x80FD;&#x6307;&#x9488;&#x3001;&#x56FE;&#x5F62;&#xFF08;&#x77E9;&#x5F62;&#x3001;&#x8DEF;&#x5F84;&#x7B49;&#xFF09;&#x3001;&#x7EBF;&#x7A0B;&#x3001;XML &#x7B49;&#x3002;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x7C7B;&#x90FD;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtCore&gt; &#x5934;&#x6587;&#x4EF6;&#x5F15;&#x5165;&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Gui&#xFF0C;&#x63D0;&#x4F9B; GUI &#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x4E0E;&#x7A97;&#x53E3;&#x7CFB;&#x7EDF;&#x7684;&#x96C6;&#x6210;&#x3001;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x3001;OpenGL &#x548C; OpenGL ES &#x96C6;&#x6210;&#x3001;<span class="number">2</span>D &#x56FE;&#x50CF;&#x3001;&#x5B57;&#x4F53;&#x3001;&#x62D6;&#x653E;&#x7B49;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x4E00;&#x822C;&#x7531; Qt &#x7528;&#x6237;&#x754C;&#x9762;&#x7C7B;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x5E95;&#x5C42;&#x7684; OpenGL ES &#x56FE;&#x50CF; API&#x3002;Qt Gui &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x7684;&#x662F;&#x6240;&#x6709;&#x56FE;&#x5F62;&#x7528;&#x6237;&#x754C;&#x9762;&#x7A0B;&#x5E8F;&#x90FD;&#x9700;&#x8981;&#x7684;&#x901A;&#x7528;&#x529F;&#x80FD;&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Multimedia&#xFF0C;&#x63D0;&#x4F9B;&#x89C6;&#x9891;&#x3001;&#x97F3;&#x9891;&#x3001;&#x6536;&#x97F3;&#x673A;&#x4EE5;&#x53CA;&#x6444;&#x50CF;&#x5934;&#x7B49;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtMultimedia&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += multimedia&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Network&#xFF0C;&#x63D0;&#x4F9B;&#x8DE8;&#x5E73;&#x53F0;&#x7684;&#x7F51;&#x7EDC;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtNetwork&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += network&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Qml&#xFF0C;&#x63D0;&#x4F9B;&#x4F9B; QML&#xFF08;&#x4E00;&#x79CD;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x4E5F;&#x63D0;&#x4F9B; JavaScript &#x7684;&#x4EA4;&#x4E92;&#x673A;&#x5236;&#xFF09; &#x4F7F;&#x7528;&#x7684; C++ API&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtQml&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += qml&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Quick&#xFF0C;&#x5141;&#x8BB8;&#x5728; Qt/C++ &#x7A0B;&#x5E8F;&#x4E2D;&#x5D4C;&#x5165; Qt Quick&#xFF08;&#x4E00;&#x79CD;&#x57FA;&#x4E8E; Qt &#x7684;&#x9AD8;&#x5EA6;&#x52A8;&#x753B;&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF0C;&#x9002;&#x5408;&#x4E8E;&#x79FB;&#x52A8;&#x5E73;&#x53F0;&#x5F00;&#x53D1;&#xFF09;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtQuick&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += quick&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt SQL&#xFF0C;&#x5141;&#x8BB8;&#x4F7F;&#x7528; SQL &#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtSql&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += sql&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Test&#xFF0C;&#x63D0;&#x4F9B; Qt &#x7A0B;&#x5E8F;&#x7684;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; &lt;QtTest&gt; &#x5F15;&#x5165;&#xFF0C;&#x800C;&#x4E14;&#x9700;&#x8981;&#x5728; pro &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; QT += testlib&#x3002;</span><br><span class="line"></span><br><span class="line">- Qt Webkit&#xFF0C;&#x57FA;&#x4E8E; WebKit2 &#x7684;&#x5B9E;&#x73B0;&#x4EE5;&#x53CA;&#x4E00;&#x5957;&#x5168;&#x65B0;&#x7684; QML API&#xFF08;&#x987A;&#x4FBF;&#x8BF4;&#x4E00;&#x4E0B;&#xFF0C;Qt <span class="number">4.8</span> &#x9644;&#x5E26;&#x7684;&#x662F; QtWebkit <span class="number">2.2</span>&#xFF09;&#x3002;</span><br></pre></td></tr></table></figure>
<p><strong>Qt &#x6269;&#x5C55;&#x6A21;&#x5757;</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Qt 3D&#xFF0C;&#x63D0;&#x4F9B;&#x58F0;&#x660E;&#x5F0F;&#x8BED;&#x6CD5;&#xFF0C;&#x5728; Qt &#x7A0B;&#x5E8F;&#x4E2D;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x5730;&#x5D4C;&#x5165; 3D &#x56FE;&#x50CF;&#x3002;Qt 3D &#x4E3A; Qt Quick &#x6DFB;&#x52A0;&#x4E86; 3D &#x5185;&#x5BB9;&#x6E32;&#x67D3;&#x3002;Qt 3D &#x63D0;&#x4F9B;&#x4E86; QML &#x548C; C++ &#x4E24;&#x5957; API&#xFF0C;&#x7528;&#x4E8E;&#x5F00;&#x53D1; 3D &#x7A0B;&#x5E8F;&#x3002;</span><br><span class="line">Qt Bluetooth&#xFF0C;&#x63D0;&#x4F9B;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x84DD;&#x7259;&#x65E0;&#x7EBF;&#x8BBE;&#x5907;&#x7684; C++ &#x548C; QML API&#x3002;</span><br><span class="line">Qt Contacts&#xFF0C;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x7C3F;&#x6216;&#x8005;&#x8054;&#x7CFB;&#x4EBA;&#x6570;&#x636E;&#x5E93;&#x7684; C++ &#x548C; QML API&#x3002;</span><br><span class="line">Qt Concurrent&#xFF0C;&#x5C01;&#x88C5;&#x4E86;&#x5E95;&#x5C42;&#x7EBF;&#x7A0B;&#x6280;&#x672F;&#x7684;&#x7C7B;&#x5E93;&#xFF0C;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x3002;</span><br><span class="line">Qt D-Bus&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4EC5;&#x4F9B; Unix &#x5E73;&#x53F0;&#x4F7F;&#x7528;&#x7684;&#x7C7B;&#x5E93;&#xFF0C;&#x7528;&#x4E8E;&#x5229;&#x7528; D-Bus &#x534F;&#x8BAE;&#x8FDB;&#x884C;&#x8FDB;&#x7A0B;&#x95F4;&#x4EA4;&#x4E92;&#x3002;</span><br><span class="line">Qt Graphical Effects&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x56FE;&#x50CF;&#x7279;&#x6548;&#x7684;&#x7C7B;&#xFF0C;&#x6BD4;&#x5982;&#x6A21;&#x7CCA;&#x3001;&#x9510;&#x5316;&#x7B49;&#x3002;</span><br><span class="line">Qt Image Formats&#xFF0C;&#x652F;&#x6301;&#x56FE;&#x7247;&#x683C;&#x5F0F;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x63D2;&#x4EF6;&#xFF0C;&#x5305;&#x62EC; TIFF&#x3001;MNG&#x3001;TGA &#x548C; WBMP&#x3002;</span><br><span class="line">Qt JS Backend&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x6CA1;&#x6709;&#x516C;&#x5F00;&#x7684; API&#xFF0C;&#x662F; V8 JavaScript &#x5F15;&#x64CE;&#x7684;&#x4E00;&#x4E2A;&#x79FB;&#x690D;&#x3002;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x4EC5;&#x4F9B; QtQml &#x6A21;&#x5757;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x3002;</span><br><span class="line">Qt Location&#xFF0C;&#x63D0;&#x4F9B;&#x5B9A;&#x4F4D;&#x673A;&#x5236;&#x3001;&#x5730;&#x56FE;&#x548C;&#x5BFC;&#x822A;&#x6280;&#x672F;&#x3001;&#x4F4D;&#x7F6E;&#x641C;&#x7D22;&#x7B49;&#x529F;&#x80FD;&#x7684; QML &#x548C; C++ API&#x3002;</span><br><span class="line">Qt OpenGL&#xFF0C;&#x65B9;&#x4FBF;&#x5728; Qt &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528; OpenGL&#x3002;&#x8BE5;&#x6A21;&#x5757;&#x4EC5;&#x4EC5;&#x4E3A;&#x4E86;&#x7A0B;&#x5E8F;&#x4ECE; Qt 4 &#x79FB;&#x690D;&#x5230; Qt 5 &#x7684;&#x65B9;&#x4FBF;&#x624D;&#x4FDD;&#x7559;&#x4E0B;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5728;&#x65B0;&#x7684; Qt 5 &#x7A0B;&#x5E8F;&#x4E2D;&#x4F7F;&#x7528; OpenGL &#x76F8;&#x5173;&#x6280;&#x672F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x662F; QtGui &#x6A21;&#x5757;&#x4E2D;&#x7684; QOpenGL&#x3002;</span><br><span class="line">Qt Organizer&#xFF0C;&#x4F7F;&#x7528; QML &#x548C; C++ API &#x8BBF;&#x95EE;&#x7EC4;&#x7EC7;&#x4E8B;&#x4EF6;&#xFF08;organizer event&#xFF09;&#x3002;organizer API &#x662F; Personal Information Management API &#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x7528;&#x4E8E;&#x8BBF;&#x95EE; Calendar &#x4FE1;&#x606F;&#x3002;&#x901A;&#x8FC7; Organizer API &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#xFF1A;&#x4ECE;&#x65E5;&#x5386;&#x6570;&#x636E;&#x5E93;&#x8BBF;&#x95EE;&#x65E5;&#x5386;&#x65F6;&#x95F4;&#x3001;&#x5BFC;&#x5165; iCalendar &#x4E8B;&#x4EF6;&#x6216;&#x8005;&#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x4E8B;&#x4EF6;&#x5BFC;&#x51FA;&#x5230; iCalendar&#x3002;</span><br><span class="line">Qt Print Support&#xFF0C;&#x63D0;&#x4F9B;&#x5BF9;&#x6253;&#x5370;&#x529F;&#x80FD;&#x7684;&#x652F;&#x6301;&#x3002;</span><br><span class="line">Qt Publish and Subscribe&#xFF0C;&#x4E3A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x5BF9;&#x9879;&#x76EE;&#x503C;&#x7684;&#x8BFB;&#x53D6;&#x3001;&#x5BFC;&#x822A;&#x3001;&#x8BA2;&#x9605;&#x7B49;&#x7684;&#x529F;&#x80FD;&#x3002;</span><br><span class="line">Qt Quick 1&#xFF0C;&#x4ECE; Qt 4 &#x79FB;&#x690D;&#x8FC7;&#x6765;&#x7684; QtDeclarative &#x6A21;&#x5757;&#xFF0C;&#x7528;&#x4E8E;&#x63D0;&#x4F9B;&#x4E0E; Qt 4 &#x7684;&#x517C;&#x5BB9;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x5F00;&#x53D1;&#x65B0;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; QtQuick &#x6A21;&#x5757;&#x3002;</span><br><span class="line">Qt Script&#xFF0C;&#x63D0;&#x4F9B;&#x811A;&#x672C;&#x5316;&#x673A;&#x5236;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x4E3A;&#x63D0;&#x4F9B;&#x4E0E; Qt 4 &#x7684;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x811A;&#x672C;&#x5316;&#x652F;&#x6301;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; QtQml &#x6A21;&#x5757;&#x7684; QJS* &#x7C7B;&#x3002;</span><br><span class="line">Qt Script Tools&#xFF0C;&#x4E3A;&#x4F7F;&#x7528;&#x4E86; Qt Script &#x6A21;&#x5757;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7684;&#x989D;&#x5916;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</span><br><span class="line">Qt Sensors&#xFF0C;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x5404;&#x7C7B;&#x4F20;&#x611F;&#x5668;&#x7684; QML &#x548C; C++ &#x63A5;&#x53E3;&#x3002;</span><br><span class="line">Qt Service Framework&#xFF0C;&#x63D0;&#x4F9B;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x73B0;&#x5176;&#x4ED6;&#x8BBE;&#x5907;&#x7684;&#x670D;&#x52A1;&#x3002;Qt Service Framework &#x4E3A;&#x5728;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x4E0A;&#x53D1;&#x73B0;&#x3001;&#x5B9E;&#x73B0;&#x548C;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x5957;&#x7EDF;&#x4E00;&#x7684;&#x673A;&#x5236;&#x3002;</span><br><span class="line">Qt SVG&#xFF0C;&#x63D0;&#x4F9B;&#x6E32;&#x67D3;&#x548C;&#x521B;&#x5EFA; SVG &#x6587;&#x4EF6;&#x7684;&#x529F;&#x80FD;&#x3002;</span><br><span class="line">Qt System Info&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x5957; API&#xFF0C;&#x7528;&#x4E8E;&#x53D1;&#x73B0;&#x7CFB;&#x7EDF;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x7535;&#x6C60;&#x4F7F;&#x7528;&#x91CF;&#x3001;&#x9501;&#x5C4F;&#x3001;&#x786C;&#x4EF6;&#x7279;&#x6027;&#x7B49;&#x3002;</span><br><span class="line">Qt Tools&#xFF0C;&#x63D0;&#x4F9B;&#x4E86; Qt &#x5F00;&#x53D1;&#x7684;&#x65B9;&#x4FBF;&#x5DE5;&#x5177;&#xFF0C;&#x5305;&#x62EC; Qt CLucene&#x3001;Qt Designer&#x3001;Qt Help &#x4EE5;&#x53CA; Qt UI Tools &#x3002;</span><br><span class="line">Qt Versit&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9; Versit API &#x7684;&#x652F;&#x6301;&#x3002;Versit API &#x662F; Personal Information Management API &#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x7528;&#x4E8E; QContacts &#x548C; vCard &#x4EE5;&#x53CA; QOrganizerItems &#x548C; iCalendar &#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4E92;&#x8F6C;&#x6362;&#x3002;</span><br><span class="line">Qt Wayland&#xFF0C;&#x4EC5;&#x7528;&#x4E8E; Linux &#x5E73;&#x53F0;&#xFF0C;&#x7528;&#x4E8E;&#x66FF;&#x4EE3; QWS&#xFF0C;&#x5305;&#x62EC; Qt Compositor API&#xFF08;server&#xFF09;&#x548C; Wayland &#x5E73;&#x53F0;&#x63D2;&#x4EF6;&#xFF08;clients&#xFF09;&#x3002;</span><br><span class="line">Qt WebKit&#xFF0C;&#x4ECE; Qt 4 &#x79FB;&#x690D;&#x6765;&#x7684;&#x57FA;&#x4E8E; WebKit1 &#x548C; QWidget &#x7684; API&#x3002;</span><br><span class="line">Qt Widgets&#xFF0C;&#x4F7F;&#x7528; C++ &#x6269;&#x5C55;&#x7684; Qt Gui &#x6A21;&#x5757;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x754C;&#x9762;&#x7EC4;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;&#x6309;&#x94AE;&#x3001;&#x5355;&#x9009;&#x6846;&#x7B49;&#x3002;</span><br><span class="line">Qt XML&#xFF0C;SAX &#x548C; DOM &#x7684; C++ &#x5B9E;&#x73B0;&#x3002;&#x8BE5;&#x6A21;&#x5757;&#x5DF2;&#x7ECF;&#x5E9F;&#x9664;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; QXmlStreamReader/Writer&#x3002;</span><br><span class="line">Qt XML Patterns&#xFF0C;&#x63D0;&#x4F9B;&#x5BF9; XPath&#x3001;XQuery&#x3001;XSLT &#x548C; XML Schema &#x9A8C;&#x8BC1;&#x7684;&#x652F;&#x6301;&#x3002;</span><br></pre></td></tr></table></figure>
<h3 id="QMainWindow"><a href="#QMainWindow" class="headerlink" title="QMainWindow"></a>QMainWindow</h3><p>QMainWindow &#x662F; Qt &#x6846;&#x67B6;&#x5E26;&#x6765;&#x7684;&#x4E00;&#x4E2A;&#x9884;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x4E3B;&#x7A97;&#x53E3;&#x7C7B;&#x3002;&#x7ECF;&#x5178;&#x7684;&#x4E3B;&#x7A97;&#x53E3;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x7531;&#x4E00;&#x4E2A;&#x6807;&#x9898;&#x680F;&#xFF0C;&#x4E00;&#x4E2A;&#x83DC;&#x5355;&#x680F;&#xFF0C;&#x82E5;&#x5E72;&#x5DE5;&#x5177;&#x680F;&#x548C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x680F;&#x3002;&#x5728;&#x8FD9;&#x4E9B;&#x5B50;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x5219;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;&#x533A;&#x3002;QMainWindow &#x6B63;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x4E00;&#x79CD;&#x5E03;&#x5C40;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x4E3B;&#x7A97;&#x53E3;&#x4F1A;&#x7EE7;&#x627F;&#x81EA; QMainWindow&#xFF0C;&#x4EE5;&#x4FBF;&#x83B7;&#x5F97; QMainWindow &#x63D0;&#x4F9B;&#x7684;&#x5404;&#x79CD;&#x4FBF;&#x5229;&#x7684;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x4E5F;&#x662F; Qt Creator &#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x6240;&#x505A;&#x7684;&#x3002;</p>
<h3 id="Pro&#x6587;&#x4EF6;"><a href="#Pro&#x6587;&#x4EF6;" class="headerlink" title="Pro&#x6587;&#x4EF6;"></a>Pro&#x6587;&#x4EF6;</h3><p>TARGET &#x662F;&#x751F;&#x6210;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x540D;&#x5B57;&#x3002;</p>
<p>TEMPLATE &#x662F;&#x751F;&#x6210; makefile &#x6240;&#x4F7F;&#x7528;&#x7684;&#x6A21;&#x677F;&#xFF0C;&#x6BD4;&#x5982; app &#x5C31;&#x662F;&#x7F16;&#x8BD1;&#x6210;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x800C; lib &#x5219;&#x662F;&#x7F16;&#x8BD1;&#x6210;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x5E93;&#xFF08;&#x9ED8;&#x8BA4;&#x662F;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#xFF09;&#x3002;</p>
<h3 id="QAction"><a href="#QAction" class="headerlink" title="QAction"></a>QAction</h3><p>Qt &#x4F7F;&#x7528; QAction &#x7C7B;&#x4F5C;&#x4E3A;&#x52A8;&#x4F5C;&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x662F;&#x4EE3;&#x8868;&#x4E86;&#x7A97;&#x53E3;&#x7684;&#x4E00;&#x4E2A;&#x201C;&#x52A8;&#x4F5C;&#x201D;&#x3002;</p>
<p>&#x65E0;&#x8BBA;&#x662F;&#x51FA;&#x73B0;&#x5728;&#x83DC;&#x5355;&#x680F;&#x8FD8;&#x662F;&#x5DE5;&#x5177;&#x680F;&#xFF0C;&#x7528;&#x6237;&#x9009;&#x62E9;&#x4E4B;&#x540E;&#xFF0C;&#x6240;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x5E94;&#x8BE5;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;&#x56E0;&#x6B64;&#xFF0C;Qt &#x5E76;&#x6CA1;&#x6709;&#x4E13;&#x95E8;&#x7684;&#x83DC;&#x5355;&#x9879;&#x7C7B;&#xFF0C;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; QAction &#x7C7B;&#xFF0C;&#x62BD;&#x8C61;&#x51FA;&#x516C;&#x5171;&#x7684;&#x52A8;&#x4F5C;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x628A; QAction &#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5230;&#x83DC;&#x5355;&#xFF0C;&#x5C31;&#x663E;&#x793A;&#x6210;&#x4E00;&#x4E2A;&#x83DC;&#x5355;&#x9879;&#xFF0C;&#x6DFB;&#x52A0;&#x5230;&#x5DE5;&#x5177;&#x680F;&#xFF0C;&#x5C31;&#x663E;&#x793A;&#x6210;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x6309;&#x94AE;&#x3002;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x70B9;&#x51FB;&#x83DC;&#x5355;&#x9879;&#x3001;&#x70B9;&#x51FB;&#x5DE5;&#x5177;&#x680F;&#x6309;&#x94AE;&#x3001;&#x70B9;&#x51FB;&#x5FEB;&#x6377;&#x952E;&#x6765;&#x6FC0;&#x6D3B;&#x8FD9;&#x4E2A;&#x52A8;&#x4F5C;&#x3002;</p>
<p>QAction &#x5305;&#x542B;&#x4E86;&#x56FE;&#x6807;&#x3001;&#x83DC;&#x5355;&#x6587;&#x5B57;&#x3001;&#x5FEB;&#x6377;&#x952E;&#x3001;&#x72B6;&#x6001;&#x680F;&#x6587;&#x5B57;&#x3001;&#x6D6E;&#x52A8;&#x5E2E;&#x52A9;&#x7B49;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// !!! Qt 5</span></span><br><span class="line"><span class="comment">// ========== mainwindow.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MAINWINDOW_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAINWINDOW_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMainWindow&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">{</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MainWindow(QWidget *parent = <span class="number">0</span>);</span><br><span class="line">    ~MainWindow();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line">    QAction *openAction;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// MAINWINDOW_H</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== mainwindow.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QAction&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMenuBar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QMessageBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QStatusBar&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;QToolBar&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;mainwindow.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">MainWindow::MainWindow(QWidget *parent) :</span><br><span class="line">    QMainWindow(parent)</span><br><span class="line">{</span><br><span class="line">    setWindowTitle(tr(<span class="string">&quot;Main Window&quot;</span>));</span><br><span class="line"></span><br><span class="line">    openAction = <span class="keyword">new</span> QAction(QIcon(<span class="string">&quot;:/images/doc-open&quot;</span>), tr(<span class="string">&quot;&amp;Open...&quot;</span>), <span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">//openAction = new QAction(&quot;open&quot;, this);</span></span><br><span class="line">    openAction-&gt;setShortcuts(QKeySequence::Open);</span><br><span class="line">    openAction-&gt;setStatusTip(tr(<span class="string">&quot;Open an existing file&quot;</span>));</span><br><span class="line">    connect(openAction, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;MainWindow::open);</span><br><span class="line"></span><br><span class="line">    QMenu *file = menuBar()-&gt;addMenu(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">    file-&gt;addAction(openAction);</span><br><span class="line"></span><br><span class="line">    QToolBar *toolBar = addToolBar(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">    toolBar-&gt;addAction(openAction);</span><br><span class="line"></span><br><span class="line">    statusBar() ;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">MainWindow::~MainWindow()</span><br><span class="line">{</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MainWindow::open()</span><br><span class="line">{</span><br><span class="line">    QMessageBox::information(<span class="keyword">this</span>, tr(<span class="string">&quot;Information&quot;</span>), tr(<span class="string">&quot;Open&quot;</span>));</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7A0B;&#x5E8F;&#x89E3;&#x91CA;&#xFF1A;</p>
<ul class="ui list">
<li><p>QIcon&#xFF0C;&#x4F20;&#x5165;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x5E94;&#x4E8E; Qt &#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x4E00;&#x6BB5;&#x8DEF;&#x5F84;&#x3002;</p>
</li>
<li><p>QAction &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E2D;&#xFF0C;&#x6587;&#x672C;&#x503C;&#x524D;&#x9762;&#x6709;&#x4E00;&#x4E2A; &amp;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x5C06;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x5FEB;&#x6377;&#x952E;&#x3002;</p>
</li>
<li><p>setShortcut() &#x51FD;&#x6570;&#x7528;&#x4E8E;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A; QAction &#x7684;&#x5FEB;&#x6377;&#x952E;&#x3002;</p>
<p>Qt &#x7684; QKeySequence &#x4E3A;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86;&#x5F88;&#x591A;&#x5185;&#x7F6E;&#x7684;&#x5FEB;&#x6377;&#x952E;&#xFF0C;&#x6839;&#x636E;&#x5E73;&#x53F0;&#x4E0D;&#x540C;&#x800C;&#x4E0D;&#x540C;&#x3002;</p>
</li>
<li><p>setStatusTip() &#x5B9E;&#x73B0;&#x4E86;&#x5F53;&#x7528;&#x6237;&#x9F20;&#x6807;&#x6ED1;&#x8FC7;&#x8FD9;&#x4E2A; action &#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x4E3B;&#x7A97;&#x53E3;&#x4E0B;&#x65B9;&#x7684;&#x72B6;&#x6001;&#x680F;&#x663E;&#x793A;&#x76F8;&#x5E94;&#x7684;&#x63D0;&#x793A;&#x3002;</p>
</li>
<li><p>connect() &#x51FD;&#x6570;&#xFF0C;&#x5C06;&#x8FD9;&#x4E2A; QAction &#x7684; triggered() &#x4FE1;&#x53F7;&#x4E0E; MainWindow &#x7C7B;&#x7684; open() &#x51FD;&#x6570;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x3002;</p>
</li>
<li><p>&#x4E0B;&#x9762;&#x7684; menuBar()&#x3001;toolBar() &#x548C; statusBar() &#x4E09;&#x4E2A;&#x662F; QMainWindow &#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5E76;&#x8FD4;&#x56DE;&#x83DC;&#x5355;&#x680F;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x548C;&#x72B6;&#x6001;&#x680F;&#x3002;&#x6211;&#x4EEC;&#x628A; QAction &#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5230;&#x8FD9;&#x4E2A;&#x83DC;&#x5355;&#x548C;&#x5DE5;&#x5177;&#x680F;&#x3002;</p>
</li>
</ul>
<h3 id="tr"><a href="#tr" class="headerlink" title="tr()"></a>tr()</h3><p>&#x51FD;&#x6570; tr()&#x5168;&#x540D;&#x662F;QObject::tr(),&#x88AB;&#x5B83;&#x5904;&#x7406;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x7FFB;&#x8BD1;&#x6210;&#x5176;&#x4ED6;&#x8BED;&#x8A00;, &#x4E5F;&#x5C31;&#x662F;&#x505A;&#x56FD;&#x9645;&#x5316;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x53EA;&#x8981;&#x8BB0;&#x4F4F;,Qt &#x7684;&#x6700;&#x4F73;&#x5B9E;&#x8DF5;:&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x56FD;&#x9645;&#x5316;&#x7684;&#x8BDD;,&#x90A3;&#x4E48;,&#x6240;&#x6709;&#x7528;&#x6237;&#x53EF;&#x89C1;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x90FD;&#x8981;&#x4F7F;&#x7528; QObject::tr()!</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;<code>tr(&quot;Cannot open file:\n%1&quot;).arg(path)</code></p>
<h3 id="&#x8D44;&#x6E90;&#x6587;&#x4EF6;"><a href="#&#x8D44;&#x6E90;&#x6587;&#x4EF6;" class="headerlink" title="&#x8D44;&#x6E90;&#x6587;&#x4EF6;"></a>&#x8D44;&#x6E90;&#x6587;&#x4EF6;</h3><ul class="ui list">
<li><p>Qt &#x8D44;&#x6E90;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x4E2A;<strong>&#x8DE8;&#x5E73;&#x53F0;</strong>&#x7684;&#x8D44;&#x6E90;&#x673A;&#x5236;&#xFF0C;&#x7528;&#x4E8E;&#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#x6240;&#x9700;&#x8981;&#x7684;&#x8D44;&#x6E90;&#x4EE5;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#x4E8E;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x52A0;&#x8F7D;&#x7279;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF08;&#x56FE;&#x6807;&#x3001;&#x6587;&#x672C;&#x7FFB;&#x8BD1;&#x7B49;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x5C06;&#x5176;&#x653E;&#x7F6E;&#x5728;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5C31;&#x518D;&#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x62C5;&#x5FC3;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x7684;&#x4E22;&#x5931;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5C06;&#x8D44;&#x6E90;&#x4EE5;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#xFF0C;&#x5B83;&#x662F;&#x4F1A;&#x7F16;&#x8BD1;&#x5230;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x5185;&#x90E8;&#x3002;</p>
</li>
<li><p>&#x5F53;&#x6211;&#x4EEC;&#x7F16;&#x8BD1;&#x5DE5;&#x7A0B;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6784;&#x5EFA;&#x76EE;&#x5F55;&#x4E2D;&#x627E;&#x5230; qrc_res.cpp &#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; Qt &#x5C06;&#x6211;&#x4EEC;&#x7684;&#x8D44;&#x6E90;&#x7F16;&#x8BD1;&#x6210;&#x4E86; C++ &#x4EE3;&#x7801;&#x3002;</p>
</li>
<li><p>&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x5192;&#x53F7;&#x5F00;&#x5934;&#x7684;&#x8DEF;&#x5F84;&#x6765;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x524D;&#x7F00;&#x662F; <code>/images</code>&#xFF0C;&#x6587;&#x4EF6;&#x662F; <code>document-open.png</code>&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>:/images/document-open.png</code> &#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;</p>
</li>
</ul>
<p><strong>&#x522B;&#x540D;</strong></p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x66F4;&#x6539;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x6BD4;&#x5982;&#x5C06; docuemnt-open.png &#x6539;&#x6210; docopen.png&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x6240;&#x6709;&#x4F7F;&#x7528;&#x4E86;&#x8FD9;&#x4E2A;&#x540D;&#x5B57;&#x7684;&#x8DEF;&#x5F84;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x66F4;&#x597D;&#x7684;&#x529E;&#x6CD5;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x7ED9;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x53D6;&#x4E00;&#x4E2A;&#x201C;&#x522B;&#x540D;&#x201D;(Alias)&#xFF0C;&#x4EE5;&#x540E;&#x5C31;&#x4EE5;&#x8FD9;&#x4E2A;&#x522B;&#x540D;&#x6765;&#x5F15;&#x7528;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;</p>
<p><strong>&#x8BED;&#x8A00;</strong>&#xFF08;&#x5F85;&#x5B9E;&#x8DF5;&#xFF09;</p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8D44;&#x6E90;&#x7F16;&#x8F91;&#x7A97;&#x53E3;&#x6700;&#x4E0B;&#x65B9;&#x6709;&#x4E00;&#x4E2A;&#x201C;&#x8BED;&#x8A00;&#x201D;&#x3002;&#x8FD9;&#x4E2A;&#x53EF;&#x4EE5;&#x5BF9;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x56FD;&#x9645;&#x5316;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x524D;&#x7F00;&#xFF0C;&#x5C06;&#x8BED;&#x8A00;&#x8BBE;&#x7F6E;&#x4E3A; fr&#xFF0C;&#x518D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6587;&#x4EF6; document-open-fr.png&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>:/images/fr/doc-open</code> &#x5F15;&#x7528;&#x5230; document-open-fr.png &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x201C;&#x8BED;&#x8A00;&#x201D;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x5982;&#x679C; Qt &#x53D1;&#x73B0;&#xFF0C;&#x672C;&#x673A;&#x7684;&#x672C;&#x5730;&#x5316;&#x4FE1;&#x606F;&#x662F; fr &#x7684;&#x8BDD;&#xFF08;<code>QLocale::system().name()</code> &#x8FD4;&#x56DE; fr_FR&#xFF09;&#xFF0C;&#x5219;&#x4F7F;&#x7528; <code>:/images/fr/doc-open</code> &#x8FD9;&#x4E2A;&#x56FE;&#x7247;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528; :/images/doc-open &#x8FD9;&#x4E2A;&#x3002;</p>
<h3 id="&#x5BF9;&#x8C61;&#x6A21;&#x578B;"><a href="#&#x5BF9;&#x8C61;&#x6A21;&#x578B;" class="headerlink" title="&#x5BF9;&#x8C61;&#x6A21;&#x578B;"></a>&#x5BF9;&#x8C61;&#x6A21;&#x578B;</h3><p>&#x200B;    &#x6807;&#x51C6; C++ &#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6548;&#x7387;&#x65B9;&#x9762;&#x5353;&#x6709;&#x6210;&#x6548;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#x57DF;&#x4E0B;&#x7684;&#x9759;&#x6001;&#x7279;&#x6027;&#x5C31;&#x663E;&#x5F97;&#x6349;&#x895F;&#x89C1;&#x8098;&#x3002;GUI &#x754C;&#x9762;&#x9700;&#x8981;&#x540C;&#x65F6;&#x5177;&#x6709;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x6548;&#x7387;&#x4EE5;&#x53CA;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E00;&#x95EE;&#x9898;&#xFF0C;Qt &#x201C;&#x6269;&#x5C55;&#x201D;&#x4E86;&#x6807;&#x51C6; C++&#x3002;&#x6240;&#x8C13;&#x201C;&#x6269;&#x5C55;&#x201D;&#xFF0C;&#x5B9E;&#x9645;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x6807;&#x51C6; C++ &#x7F16;&#x8BD1;&#x5668;&#x7F16;&#x8BD1; Qt &#x6E90;&#x7A0B;&#x5E8F;&#x4E4B;&#x524D;&#xFF0C;Qt &#x5148;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x53EB;&#x505A; moc&#xFF08;Meta Object Compiler&#xFF0C;&#x5143;&#x5BF9;&#x8C61;&#x7F16;&#x8BD1;&#x5668;&#xFF09;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x5148;&#x5BF9; Qt &#x6E90;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x9884;&#x5904;&#x7406;&#xFF08;<em>&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x9884;&#x5904;&#x7406;&#x4E0E;&#x6807;&#x51C6; C++ &#x7684;&#x9884;&#x5904;&#x7406;&#x6709;&#x6240;&#x4E0D;&#x540C;&#x3002;Qt &#x7684; moc &#x9884;&#x5904;&#x7406;&#x53D1;&#x751F;&#x5728;&#x6807;&#x51C6; C++ &#x9884;&#x5904;&#x7406;&#x5668;&#x5DE5;&#x4F5C;&#x4E4B;&#x524D;&#xFF0C;&#x5E76;&#x4E14; Qt &#x7684; moc &#x9884;&#x5904;&#x7406;&#x4E0D;&#x662F;&#x9012;&#x5F52;&#x7684;&#x3002;</em>&#xFF09;&#xFF0C;&#x751F;&#x6210;&#x6807;&#x51C6; C++ &#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4F7F;&#x7528;&#x6807;&#x51C6; C++ &#x7F16;&#x8BD1;&#x5668;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x3002;</p>
<p><strong>&#x7279;&#x6027;</strong></p>
<p>Qt &#x4F7F;&#x7528; moc&#xFF0C;&#x4E3A;&#x6807;&#x51C6; C++ &#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x7279;&#x6027;&#xFF1A;</p>
<ul class="ui list">
<li>&#x4FE1;&#x53F7;&#x69FD;&#x673A;&#x5236;&#xFF0C;&#x7528;&#x4E8E;&#x89E3;&#x51B3;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x8BAF;&#xFF0C;&#x8FD9;&#x4E2A;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x4E86;&#x89E3;&#x8FC7;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F; Qt &#x6700;&#x660E;&#x663E;&#x7684;&#x7279;&#x6027;&#x4E4B;&#x4E00;&#xFF1B;</li>
<li>&#x53EF;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x8BBE;&#x8BA1;&#x7684;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#xFF1B;</li>
<li>&#x5F3A;&#x5927;&#x7684;&#x4E8B;&#x4EF6;&#x673A;&#x5236;&#x4EE5;&#x53CA;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF1B;</li>
<li>&#x57FA;&#x4E8E;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7FFB;&#x8BD1;&#x673A;&#x5236;&#xFF08;&#x56FD;&#x9645;&#x5316;&#xFF09;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; tr() &#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x5730;&#x4ECB;&#x7ECD;&#x8FC7;&#xFF1B;</li>
<li>&#x590D;&#x6742;&#x7684;&#x5B9A;&#x65F6;&#x5668;&#x5B9E;&#x73B0;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7684; GUI &#x4E2D;&#x5D4C;&#x5165;&#x80FD;&#x591F;&#x7CBE;&#x786E;&#x63A7;&#x5236;&#x7684;&#x4EFB;&#x52A1;&#x96C6;&#x6210;&#xFF1B;</li>
<li>&#x5C42;&#x6B21;&#x5316;&#x7684;&#x53EF;&#x67E5;&#x8BE2;&#x7684;&#x5BF9;&#x8C61;&#x6811;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x81EA;&#x7136;&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x3002;</li>
<li>&#x667A;&#x80FD;&#x6307;&#x9488;&#xFF08;QPointer&#xFF09;&#xFF0C;&#x5728;&#x5BF9;&#x8C61;&#x6790;&#x6784;&#x4E4B;&#x540E;&#x81EA;&#x52A8;&#x8BBE;&#x4E3A; 0&#xFF0C;&#x9632;&#x6B62;&#x91CE;&#x6307;&#x9488;&#xFF1B;</li>
<li>&#x80FD;&#x591F;&#x8DE8;&#x8D8A;&#x5E93;&#x8FB9;&#x754C;&#x7684;&#x52A8;&#x6001;&#x8F6C;&#x6362;&#x673A;&#x5236;&#x3002;</li>
</ul>
<p>&#x901A;&#x8FC7;&#x7EE7;&#x627F; QObject &#x7C7B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x83B7;&#x5F97;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x3002;moc &#x5176;&#x5B9E;&#x5B9E;&#x73B0;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x5143;&#x5BF9;&#x8C61;&#x7CFB;&#x7EDF;&#xFF08;meta-object system&#xFF09;&#x7684;&#x673A;&#x5236;&#x3002;</p>
<p>&#x867D;&#x7136;&#x5229;&#x7528;&#x6A21;&#x677F;&#x53EF;&#x4EE5;&#x8FBE;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4F46;&#x662F; Qt &#x6CA1;&#x6709;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x3002;&#x6309;&#x7167; Qt &#x5B98;&#x65B9;&#x7684;&#x8BF4;&#x6CD5;&#xFF0C;&#x6A21;&#x677F;&#x867D;&#x7136;&#x662F;&#x5185;&#x7F6E;&#x8BED;&#x8A00;&#x7279;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x8BED;&#x6CD5;&#x5B9E;&#x5728;&#x662F;&#x590D;&#x6742;&#xFF0C;&#x5E76;&#x4E14;&#x7531;&#x4E8E; GUI &#x662F;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x5229;&#x7528;&#x9759;&#x6001;&#x7684;&#x6A21;&#x677F;&#x673A;&#x5236;&#x6709;&#x65F6;&#x5019;&#x5F88;&#x96BE;&#x5904;&#x7406;&#x3002;&#x800C;&#x81EA;&#x5DF1;&#x4F7F;&#x7528; moc &#x751F;&#x6210;&#x4EE3;&#x7801;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#xFF0C;&#x867D;&#x7136;&#x6548;&#x7387;&#x6709;&#x4E9B;&#x964D;&#x4F4E;&#xFF08;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x69FD;&#x7684;&#x8C03;&#x7528;&#x5927;&#x7EA6;&#x76F8;&#x5F53;&#x4E8E;&#x56DB;&#x4E2A;&#x6A21;&#x677F;&#x51FD;&#x6570;&#x8C03;&#x7528;&#xFF09;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x73B0;&#x4EE3;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#xFF0C;&#x8FD9;&#x70B9;&#x6027;&#x80FD;&#x635F;&#x8017;&#x5B9E;&#x5728;&#x662F;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x3002;</p>
<p><strong>&#x5BF9;&#x8C61;&#x6811;</strong></p>
<p>QObjects &#x662F;&#x4EE5;&#x5BF9;&#x8C61;&#x6811;&#x7684;&#x5F62;&#x5F0F;&#x7EC4;&#x7EC7;&#x8D77;&#x6765;&#x7684;&#x3002;&#x5F53;&#x4F60;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; QObject &#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4F1A;&#x770B;&#x5230; QObject &#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x4E00;&#x4E2A; QObject &#x6307;&#x9488;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5C31;&#x662F; parent&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7236;&#x5BF9;&#x8C61;&#x6307;&#x9488;&#x3002;</p>
<p>&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#xFF0C;&#x5728;&#x521B;&#x5EFA; QObject &#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5176;&#x7236;&#x5BF9;&#x8C61;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x7684;&#x8FD9;&#x4E2A; QObject &#x5BF9;&#x8C61;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x5230;&#x5176;&#x7236;&#x5BF9;&#x8C61;&#x7684; children() &#x5217;&#x8868;&#x3002;&#x5F53;&#x7236;&#x5BF9;&#x8C61;&#x6790;&#x6784;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x4E5F;&#x4F1A;&#x88AB;&#x6790;&#x6784;&#x3002;&#xFF08;<strong>&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x7236;&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x662F;&#x7EE7;&#x627F;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x7236;&#x7C7B;&#xFF01;</strong>&#xFF09;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x5728; GUI &#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x4E2D;&#x76F8;&#x5F53;&#x6709;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x6309;&#x94AE;&#x6709;&#x4E00;&#x4E2A; QShortcut&#xFF08;&#x5FEB;&#x6377;&#x952E;&#xFF09;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x5176;&#x5B50;&#x5BF9;&#x8C61;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x4E2A;&#x5FEB;&#x6377;&#x952E;&#x7406;&#x5E94;&#x88AB;&#x5220;&#x9664;&#x3002;</p>
<p>QWidget &#x662F;&#x80FD;&#x591F;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x663E;&#x793A;&#x7684;&#x4E00;&#x5207;&#x7EC4;&#x4EF6;&#x7684;&#x7236;&#x7C7B;&#x3002;QWidget &#x7EE7;&#x627F;&#x81EA; QObject&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x4E2A; QObject &#x5BF9;&#x8C61;&#x5728;&#x5806;&#x4E0A;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#xFF0C;Qt &#x4F1A;&#x540C;&#x65F6;&#x4E3A;&#x5176;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6811;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5BF9;&#x8C61;&#x6811;&#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x9500;&#x6BC1;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x7684;&#x987A;&#x5E8F;&#x4E5F;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x3002;Qt &#x4FDD;&#x8BC1;&#x7684;&#x662F;&#xFF0C;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x6811;&#x4E2D;&#x7684; QObject &#x5BF9;&#x8C61; delete &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x6709; parent&#xFF0C;&#x5219;&#x81EA;&#x52A8;&#x5C06;&#x5176;&#x4ECE; parent &#x7684; children() &#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#xFF1B;&#x5982;&#x679C;&#x6709;&#x5B69;&#x5B50;&#xFF0C;&#x5219;&#x81EA;&#x52A8; delete &#x6BCF;&#x4E00;&#x4E2A;&#x5B69;&#x5B50;&#x3002;Qt &#x4FDD;&#x8BC1;&#x6CA1;&#x6709; QObject &#x4F1A;&#x88AB; delete &#x4E24;&#x6B21;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x6790;&#x6784;&#x987A;&#x5E8F;&#x51B3;&#x5B9A;&#x7684;&#x3002;</p>
<p><strong>&#x8865;&#x5145;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    QWidget window;</span><br><span class="line">    <span class="function">QPushButton <span class="title">quit</span><span class="params">(<span class="string">&quot;Quit&quot;</span>, &amp;window)</span></span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4F5C;&#x4E3A;&#x7236;&#x7EC4;&#x4EF6;&#x7684; window &#x548C;&#x4F5C;&#x4E3A;&#x5B50;&#x7EC4;&#x4EF6;&#x7684; quit &#x90FD;&#x662F; QObject &#x7684;&#x5B50;&#x7C7B;&#xFF08;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x662F; QWidget &#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x800C; QWidget &#x662F; QObject &#x7684;&#x5B50;&#x7C7B;&#xFF09;&#x3002;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x5C40;&#x90E8;&#x5BF9;&#x8C61;&#x7684;&#x6790;&#x6784;&#x987A;&#x5E8F;&#x5E94;&#x8BE5;&#x6309;&#x7167;&#x5176;&#x521B;&#x5EFA;&#x987A;&#x5E8F;&#x7684;&#x76F8;&#x53CD;&#x8FC7;&#x7A0B;&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    <span class="function">QPushButton <span class="title">quit</span><span class="params">(<span class="string">&quot;Quit&quot;</span>)</span></span>;</span><br><span class="line">    QWidget window;</span><br><span class="line"></span><br><span class="line">    quit.setParent(&amp;window);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6790;&#x6784;&#x987A;&#x5E8F;&#x5C31;&#x6709;&#x4E86;&#x95EE;&#x9898;&#x3002;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x4F5C;&#x4E3A;&#x7236;&#x5BF9;&#x8C61;&#x7684; window &#x4F1A;&#x9996;&#x5148;&#x88AB;&#x6790;&#x6784;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5728;&#x6790;&#x6784;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5B83;&#x4F1A;&#x8C03;&#x7528;&#x5B50;&#x5BF9;&#x8C61;&#x5217;&#x8868;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6790;&#x6784;&#x51FD;&#x6570;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C; quit &#x6B64;&#x65F6;&#x5C31;&#x88AB;&#x6790;&#x6784;&#x4E86;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x5728; window &#x6790;&#x6784;&#x4E4B;&#x540E;&#xFF0C;quit &#x4E5F;&#x4F1A;&#x88AB;&#x6790;&#x6784;&#xFF0C;&#x56E0;&#x4E3A; quit &#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#xFF0C;&#x5728;&#x8D85;&#x51FA;&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x65F6;&#x5019;&#x5F53;&#x7136;&#x4E5F;&#x9700;&#x8981;&#x6790;&#x6784;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5DF2;&#x7ECF;&#x662F;&#x7B2C;&#x4E8C;&#x6B21;&#x8C03;&#x7528; quit &#x7684;&#x6790;&#x6784;&#x51FD;&#x6570;&#x4E86;&#xFF0C;C++ &#x4E0D;&#x5141;&#x8BB8;&#x8C03;&#x7528;&#x4E24;&#x6B21;&#x6790;&#x6784;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x4E86;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x6700;&#x597D;&#x4ECE;&#x5F00;&#x59CB;&#x5C31;&#x517B;&#x6210;&#x826F;&#x597D;&#x4E60;&#x60EF;&#xFF0C;&#x5728; Qt &#x4E2D;&#xFF0C;<strong>&#x5C3D;&#x91CF;&#x5728;&#x6784;&#x9020;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x6307;&#x5B9A; parent &#x5BF9;&#x8C61;</strong>&#xFF0C;&#x5E76;&#x4E14;&#x5927;&#x80C6;&#x5728;&#x5806;&#x4E0A;&#x521B;&#x5EFA;&#x3002;</p>
<h3 id="&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;"><a href="#&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;" class="headerlink" title="&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;"></a>&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QWidget window;</span><br><span class="line">    window.setWindowTitle(<span class="string">&quot;Enter your age&quot;</span>);</span><br><span class="line"></span><br><span class="line">    QSpinBox *spinBox = <span class="keyword">new</span> QSpinBox(&amp;window);</span><br><span class="line">    QSlider *slider = <span class="keyword">new</span> QSlider(Qt::Horizontal, &amp;window);</span><br><span class="line">    spinBox-&gt;setRange(<span class="number">0</span>, <span class="number">130</span>);</span><br><span class="line">    slider-&gt;setRange(<span class="number">0</span>, <span class="number">130</span>);</span><br><span class="line"></span><br><span class="line">    QObject::connect(slider, &amp;QSlider::valueChanged, spinBox, &amp;QSpinBox::setValue);</span><br><span class="line">    <span class="keyword">void</span> (QSpinBox:: *spinBoxSignal)(<span class="keyword">int</span>) = &amp;QSpinBox::valueChanged;	<span class="comment">// 1</span></span><br><span class="line">    QObject::connect(spinBox, spinBoxSignal, slider, &amp;QSlider::setValue);</span><br><span class="line">    spinBox-&gt;setValue(<span class="number">35</span>);</span><br><span class="line"></span><br><span class="line">    QHBoxLayout *layout = <span class="keyword">new</span> QHBoxLayout;</span><br><span class="line">    layout-&gt;addWidget(spinBox);</span><br><span class="line">    layout-&gt;addWidget(slider);</span><br><span class="line">    window.setLayout(layout);</span><br><span class="line"></span><br><span class="line">    window.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><strong>&#x89E3;&#x91CA;</strong></p>
<ol class="ui list">
<li><p>&#x5C06; slider &#x7684; valueChanged() &#x4FE1;&#x53F7;&#x540C; spinBox &#x7684; setValue() &#x51FD;&#x6570;&#x76F8;&#x8FDE;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x5199;<code>&amp;QSpinBox::valueChanged</code>&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x7F16;&#x8BD1;&#x5668;&#x8BA4;&#x4E3A; QSpinBox::valueChanged &#x662F;&#x4E00;&#x4E2A; overloaded &#x7684;&#x51FD;&#x6570;&#x3002;&#x770B;&#x4E00;&#x4E0B; QSpinBox &#x7684;&#x6587;&#x6863;&#x53D1;&#x73B0;&#xFF0C;QSpinBox &#x7684;&#x786E;&#x6709;&#x4E24;&#x4E2A;&#x4FE1;&#x53F7;&#xFF1A;</p>
<ul>
<li>void valueChanged(int)</li>
<li>void valueChanged(const QString &amp;)</li>
</ul>
<p>&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x663E;&#x5F0F;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6307;&#x9488;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6307;&#x9488;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x4E3A; int&#x3002;</p>
</li>
<li><p>&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x8FD9;&#x4E24;&#x4E2A; connect() &#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5B83;&#x4EEC;&#x5B9E;&#x9645;&#x5B8C;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x53CC;&#x5411;&#x7684;&#x6570;&#x636E;&#x7ED1;&#x5B9A;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5BF9;&#x4E8E; Qt &#x81EA;&#x5DF1;&#x7684;&#x4FE1;&#x53F7;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x653E;&#x5FC3;&#x5730;&#x4F7F;&#x7528;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x5E94;&#x5F53;&#x6CE8;&#x610F;&#x907F;&#x514D;&#x53D1;&#x751F;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#xFF01;</p>
</li>
<li><p>&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A; QHBoxLayout &#x5BF9;&#x8C61;&#x3002;&#x663E;&#x7136;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#x3002;&#x7136;&#x540E;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x6DFB;&#x52A0;&#x5230;&#x8FD9;&#x4E2A;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x628A;&#x8BE5;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#x8BBE;&#x7F6E;&#x4E3A;&#x7A97;&#x53E3;&#x7684;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#x3002;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#x5F88;&#x806A;&#x660E;&#x5730;&#x505A;&#x51FA;&#x4E86;&#x6B63;&#x786E;&#x7684;&#x884C;&#x4E3A;&#xFF1A;&#x4FDD;&#x6301; QSpinBox &#x5BBD;&#x5EA6;&#x4E0D;&#x53D8;&#xFF0C;&#x81EA;&#x52A8;&#x62C9;&#x4F38; QSlider &#x7684;&#x5BBD;&#x5EA6;&#x3002;</p>
</li>
</ol>
<p>Qt &#x63D0;&#x4F9B;&#x4E86;&#x51E0;&#x79CD;&#x5E03;&#x5C40;&#x7BA1;&#x7406;&#x5668;&#x4F9B;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#xFF1A;</p>
<ul class="ui list">
<li>QHBoxLayout&#xFF1A;&#x6309;&#x7167;&#x6C34;&#x5E73;&#x65B9;&#x5411;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x5E03;&#x5C40;&#xFF1B;</li>
<li>QVBoxLayout&#xFF1A;&#x6309;&#x7167;&#x7AD6;&#x76F4;&#x65B9;&#x5411;&#x4ECE;&#x4E0A;&#x5230;&#x4E0B;&#x5E03;&#x5C40;&#xFF1B;</li>
<li>QGridLayout&#xFF1A;&#x5728;&#x4E00;&#x4E2A;&#x7F51;&#x683C;&#x4E2D;&#x8FDB;&#x884C;&#x5E03;&#x5C40;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; HTML &#x7684; table&#xFF1B;</li>
<li>QFormLayout&#xFF1A;&#x6309;&#x7167;&#x8868;&#x683C;&#x5E03;&#x5C40;&#xFF0C;&#x6BCF;&#x4E00;&#x884C;&#x524D;&#x9762;&#x662F;&#x4E00;&#x6BB5;&#x6587;&#x672C;&#xFF0C;&#x6587;&#x672C;&#x540E;&#x9762;&#x8DDF;&#x968F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x8F93;&#x5165;&#x6846;&#xFF09;&#xFF0C;&#x7C7B;&#x4F3C; HTML &#x7684; form&#xFF1B;</li>
<li>QStackedLayout&#xFF1A;&#x5C42;&#x53E0;&#x7684;&#x5E03;&#x5C40;&#xFF0C;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5C06;&#x51E0;&#x4E2A;&#x7EC4;&#x4EF6;&#x6309;&#x7167; Z &#x8F74;&#x65B9;&#x5411;&#x5806;&#x53E0;&#xFF0C;&#x53EF;&#x4EE5;&#x5F62;&#x6210;&#x5411;&#x5BFC;&#x90A3;&#x79CD;&#x4E00;&#x9875;&#x4E00;&#x9875;&#x7684;&#x6548;&#x679C;&#x3002;</li>
</ul>
<h3 id="&#x83DC;&#x5355;&#x680F;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x3001;&#x72B6;&#x6001;&#x680F;"><a href="#&#x83DC;&#x5355;&#x680F;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x3001;&#x72B6;&#x6001;&#x680F;" class="headerlink" title="&#x83DC;&#x5355;&#x680F;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x3001;&#x72B6;&#x6001;&#x680F;"></a>&#x83DC;&#x5355;&#x680F;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x3001;&#x72B6;&#x6001;&#x680F;</h3><ul class="ui list">
<li><p>Qt &#x5C06;&#x7528;&#x6237;&#x4E0E;&#x754C;&#x9762;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5143;&#x7D20;&#x62BD;&#x8C61;&#x4E3A;&#x4E00;&#x79CD;&#x201C;&#x52A8;&#x4F5C;&#x201D;&#xFF0C;&#x4F7F;&#x7528; QAction &#x7C7B;&#x8868;&#x793A;&#x3002;QAction &#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;&#x83DC;&#x5355;&#x4E0A;&#x3001;&#x5DE5;&#x5177;&#x680F;&#x4E0A;&#x3002;</p>
</li>
<li><p>&#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x7A97;&#x53E3;&#x8FD8;&#x662F;&#x5EFA;&#x7ACB;&#x5728; QMainWindow &#x7C7B;&#x4E4B;&#x4E0A;&#xFF0C;&#x8FD9;&#x4F1A;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x7B80;&#x5355;&#x8BB8;&#x591A;&#x3002;</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;QMainWindow &#x901A;&#x5E38;&#x53EA;&#x4F5C;&#x4E3A;&#x201C;&#x4E3B;&#x7A97;&#x53E3;&#x201D;&#xFF0C;&#x5BF9;&#x8BDD;&#x6846;&#x7A97;&#x53E3;&#x5219;&#x66F4;&#x591A;&#x5730;&#x4F7F;&#x7528; QDialog &#x7C7B;&#x3002;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x540E;&#x9762;&#x770B;&#x5230;&#xFF0C;QDialog &#x7C7B;&#x4F1A;&#x7F3A;&#x5C11;&#x4E00;&#x4E9B; QMainWindow &#x7C7B;&#x63D0;&#x4F9B;&#x65B9;&#x4FBF;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x6BD4;&#x5982; menuBar() &#x4EE5;&#x53CA; toolBar()&#x3002;</p>
</li>
</ul>
<p><strong>&#x83DC;&#x5355;&#x680F;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QMenu *file = menuBar()-&gt;addMenu(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">file-&gt;addAction(openAction);</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>menuBar() &#x662F; QMainWindow &#x63D0;&#x4F9B;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x662F;&#x4E0D;&#x4F1A;&#x5728; QWidget &#x6216;&#x8005; QDialog &#x4E2D;&#x627E;&#x5230;&#x5B83;&#x7684;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4F1A;&#x8FD4;&#x56DE;&#x7A97;&#x53E3;&#x7684;&#x83DC;&#x5355;&#x680F;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x83DC;&#x5355;&#x680F;&#x5219;&#x4F1A;&#x65B0;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x3002;</p>
</li>
<li><p>&#x4F7F;&#x7528;&#x5176; addMenu() &#x51FD;&#x6570;&#x4E3A;&#x5176;&#x6DFB;&#x52A0;&#x83DC;&#x5355;&#x3002;</p>
</li>
<li><p>&#x81F3;&#x4E8E; &amp; &#x7B26;&#x53F7;&#xFF0C;&#x5DF2;&#x7ECF;&#x89E3;&#x91CA;&#x8FC7;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x4E3A;&#x83DC;&#x5355;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5FEB;&#x6377;&#x952E;&#x3002;</p>
</li>
<li>&#x5F53;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x51FA;&#x6765;&#x4E86;&#x83DC;&#x5355;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x628A; QAction &#x6DFB;&#x52A0;&#x5230;&#x8FD9;&#x4E2A;&#x83DC;&#x5355;&#x4E0A;&#x9762;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; addAction() &#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x3002;</li>
</ul>
<p><strong>&#x5DE5;&#x5177;&#x680F;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QToolBar *toolBar = addToolBar(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">toolBar-&gt;addAction(openAction);</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li>&#x4E3A;&#x4EC0;&#x4E48;&#x524D;&#x9762;&#x4E00;&#x4E2A;&#x662F; menuBar() &#x800C;&#x73B0;&#x5728;&#x7684;&#x662F; addToolBar() &#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x83DC;&#x5355;&#x680F;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x5DE5;&#x5177;&#x680F;&#x3002;</li>
<li><p>&#x5DE5;&#x5177;&#x680F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6210;&#x56FA;&#x5B9A;&#x7684;&#x3001;&#x6D6E;&#x52A8;&#x7684;&#x7B49;&#x7B49;&#xFF0C;&#x5177;&#x4F53;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x53C2;&#x8003; Qt &#x6587;&#x6863;&#x3002;</p>
<p><strong>&#x72B6;&#x6001;&#x680F;</strong></p>
</li>
</ul>
<p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BF4;&#x8FC7;&#xFF0C;&#x4F7F;&#x7528; QAction::setStatusTip() &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8BE5;&#x52A8;&#x4F5C;&#x5728;&#x72B6;&#x6001;&#x680F;&#x4E0A;&#x7684;&#x63D0;&#x793A;&#x6587;&#x672C;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x628A;&#x9F20;&#x6807;&#x653E;&#x5728;&#x6309;&#x94AE;&#x4E0A;&#xFF0C;&#x662F;&#x770B;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A;&#x63D0;&#x793A;&#x6587;&#x672C;&#x7684;&#x3002;&#x539F;&#x56E0;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x680F;&#x3002;QMainWindow &#x6709;&#x4E00;&#x4E2A; statusBar() &#x51FD;&#x6570;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E0B;&#x53E5;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">statusBar();</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>&#x540C;&#x524D;&#x9762;&#x7684; menuBar() &#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; QStatusBar &#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5219;&#x5148;&#x521B;&#x5EFA;&#x518D;&#x8FD4;&#x56DE;&#x3002;</p>
</li>
<li><p>QStatusBar &#x7EE7;&#x627F;&#x4E86; QWidget&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x5B83;&#x4EFB;&#x610F; QWidget &#x5B50;&#x7C7B;&#x6DFB;&#x52A0;&#x5230;&#x72B6;&#x6001;&#x680F;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C; Photoshop &#x7A97;&#x53E3;&#x5E95;&#x90E8;&#x90A3;&#x79CD;&#x6709;&#x6BD4;&#x4F8B;&#x663E;&#x793A;&#x3001;&#x6709;&#x7F51;&#x683C;&#x5F00;&#x5173;&#x7684;&#x590D;&#x6742;&#x72B6;&#x6001;&#x680F;&#x3002;&#x8BF7;&#x53C2;&#x8003; Qt &#x6587;&#x6863;&#x3002;</p>
</li>
</ul>
<h3 id="&#x5BF9;&#x8BDD;&#x6846;"><a href="#&#x5BF9;&#x8BDD;&#x6846;" class="headerlink" title="&#x5BF9;&#x8BDD;&#x6846;"></a>&#x5BF9;&#x8BDD;&#x6846;</h3><ul class="ui list">
<li><p>Qt &#x4E2D;&#x4F7F;&#x7528; QDialog &#x7C7B;&#x5B9E;&#x73B0;&#x5BF9;&#x8BDD;&#x6846;&#x3002;&#x50CF;&#x4E3B;&#x7A97;&#x53E3;&#x4E00;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F1A;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x7C7B;&#x7EE7;&#x627F; QDialog&#x3002;</p>
</li>
<li><p>QDialog &#x5BF9;&#x4E8E;&#x5176; parent &#x6307;&#x9488;&#x90FD;&#x6709;&#x989D;&#x5916;&#x7684;&#x89E3;&#x91CA;&#xFF1A;</p>
<p>&#x5982;&#x679C; parent &#x4E3A; NULL&#xFF0C;&#x5219;&#x8BE5;&#x5BF9;&#x8BDD;&#x6846;&#x4F1A;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9876;&#x5C42;&#x7A97;&#x53E3;&#xFF0C;&#x5426;&#x5219;&#x5219;&#x4F5C;&#x4E3A;&#x5176;&#x7236;&#x7EC4;&#x4EF6;&#x7684;&#x5B50;&#x5BF9;&#x8BDD;&#x6846;&#xFF08;&#x6B64;&#x65F6;&#xFF0C;&#x5176;&#x9ED8;&#x8BA4;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;&#x662F; parent &#x7684;&#x4E2D;&#x5FC3;&#xFF09;&#x3002;</p>
<p>&#x9876;&#x5C42;&#x7A97;&#x53E3;&#x4E0E;&#x975E;&#x9876;&#x5C42;&#x7A97;&#x53E3;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;&#x9876;&#x5C42;&#x7A97;&#x53E3;&#x5728;&#x4EFB;&#x52A1;&#x680F;&#x4F1A;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x800C;&#x975E;&#x9876;&#x5C42;&#x7A97;&#x53E3;&#x5219;&#x4F1A;&#x5171;&#x4EAB;&#x5176;&#x7236;&#x7EC4;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>
</li>
</ul>
<p>&#x4E0B;&#x9762;&#x4FEE;&#x6539;&#x4E86;&#x524D;&#x9762;QAction&#x793A;&#x4F8B;&#x7684; open&#x51FD;&#x6570;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::open()</span><br><span class="line">{</span><br><span class="line">    QDialog dialog;			<span class="comment">//&#x9876;&#x5C42;&#x7A97;&#x53E3;</span></span><br><span class="line">    <span class="comment">//QDialog dialog(this);	//&#x975E;&#x9876;&#x5C42;&#x7A97;&#x53E3;</span></span><br><span class="line">    dialog.setWindowTitle(tr(<span class="string">&quot;Hello, dialog!&quot;</span>));</span><br><span class="line">    dialog.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h4 id="&#x6A21;&#x6001;&#x548C;&#x975E;&#x6A21;&#x6001;"><a href="#&#x6A21;&#x6001;&#x548C;&#x975E;&#x6A21;&#x6001;" class="headerlink" title="&#x6A21;&#x6001;&#x548C;&#x975E;&#x6A21;&#x6001;"></a>&#x6A21;&#x6001;&#x548C;&#x975E;&#x6A21;&#x6001;</h4><p>&#x5BF9;&#x8BDD;&#x6846;&#x5206;&#x4E3A;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x548C;&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF1A;</p>
<ul class="ui list">
<li>&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x5C31;&#x662F;&#x4F1A;&#x963B;&#x585E;&#x540C;&#x4E00;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x5176;&#x5B83;&#x7A97;&#x53E3;&#x7684;&#x8F93;&#x5165;&#x3002;&#x6BD4;&#x5982;&#x201C;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x201D;&#x529F;&#x80FD;&#x3002;</li>
<li>&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x540C;&#x4E00;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x5176;&#x5B83;&#x7A97;&#x53E3;&#x7684;&#x8F93;&#x5165;&#x3002;&#x4F8B;&#x5982;&#x67E5;&#x627E;&#x5BF9;&#x8BDD;&#x6846;&#x3002;</li>
</ul>
<p>Qt &#x6709;&#x4E24;&#x79CD;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF1A;</p>
<ul class="ui list">
<li>&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;(&#x9ED8;&#x8BA4;)&#xFF0C;&#x5F53;&#x8BE5;&#x79CD;&#x6A21;&#x6001;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x51FA;&#x73B0;&#x65F6;&#xFF0C;&#x7528;&#x6237;&#x5FC5;&#x987B;&#x9996;&#x5148;&#x5BF9;&#x5BF9;&#x8BDD;&#x6846;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x76F4;&#x5230;&#x5173;&#x95ED;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x7A0B;&#x5E8F;&#x4E2D;&#x5176;&#x4ED6;&#x7684;&#x7A97;&#x53E3;&#x3002;</li>
<li>&#x7A97;&#x53E3;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;&#xFF0C;&#x8BE5;&#x6A21;&#x6001;&#x4EC5;&#x4EC5;&#x963B;&#x585E;&#x4E0E;&#x5BF9;&#x8BDD;&#x6846;&#x5173;&#x8054;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x4E0E;&#x7A0B;&#x5E8F;&#x4E2D;&#x5176;&#x5B83;&#x7A97;&#x53E3;&#x4EA4;&#x4E92;&#x3002;&#x7A97;&#x53E3;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x7A97;&#x53E3;&#x6A21;&#x5F0F;&#x3002;</li>
</ul>
<p>&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul class="ui list">
<li><p>&#x4F7F;&#x7528; QDialog::exec() &#x5B9E;&#x73B0;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;</p>
</li>
<li><p>&#x4F7F;&#x7528; QDialog::open() &#x5B9E;&#x73B0;&#x7A97;&#x53E3;&#x7EA7;&#x522B;&#x7684;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;</p>
</li>
<li><p>&#x4F7F;&#x7528; QDialog::show() &#x5B9E;&#x73B0;&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x3002;</p>
</li>
</ul>
<h5 id="&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x4F7F;&#x7528;"><a href="#&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x4F7F;&#x7528;" class="headerlink" title="&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x4F7F;&#x7528;"></a>&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x4F7F;&#x7528;</h5><p>&#x6211;&#x4EEC;&#x8BD5;&#x7740;&#x5C06; exec() &#x4FEE;&#x6539;&#x4E3A; show()&#xFF0C;&#x770B;&#x770B;&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x8BDD;&#x6846;&#x7ADF;&#x7136;&#x4E00;&#x95EA;&#x800C;&#x8FC7;&#xFF01;</p>
<p>&#x56E0;&#x4E3A;&#xFF0C;show() &#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#xFF0C;&#x5BF9;&#x8BDD;&#x6846;&#x4F1A;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x51FD;&#x6570;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#xFF0C;&#x4EE3;&#x7801;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;dialog &#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x6808;&#x4E0A;&#x7684;&#xFF0C;show() &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#xFF0C;MainWindow::open() &#x51FD;&#x6570;&#x7ED3;&#x675F;&#xFF0C;dialog &#x8D85;&#x51FA;&#x4F5C;&#x7528;&#x57DF;&#x88AB;&#x6790;&#x6784;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x8BDD;&#x6846;&#x6D88;&#x5931;&#x4E86;&#x3002;</p>
<ol class="ui list">
<li><p>&#x6211;&#x4EEC;&#x5C06; dialog &#x6539;&#x6210;&#x5806;&#x4E0A;&#x5EFA;&#x7ACB;&#xFF1A;</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::open()</span><br><span class="line">{</span><br><span class="line">    QDialog *dialog = <span class="keyword">new</span> QDialog;</span><br><span class="line">    dialog-&gt;setWindowTitle(tr(<span class="string">&quot;Hello, dialog!&quot;</span>));</span><br><span class="line">    dialog-&gt;show();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p> &#x4F46;&#x662F;dialog &#x8FD9;&#x65F6;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#xFF01;dialog &#x4F7F;&#x7528; new &#x5728;&#x5806;&#x4E0A;&#x5206;&#x914D;&#x7A7A;&#x95F4;&#xFF0C;&#x5374;&#x4E00;&#x76F4;&#x6CA1;&#x6709; delete&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF1A;&#x5C06; MainWindow &#x7684;&#x6307;&#x9488;&#x8D4B;&#x7ED9; dialog &#x5373;&#x53EF;&#x3002;&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x8BF4;&#x8FC7;&#x7684; Qt &#x7684;&#x5BF9;&#x8C61;&#x7CFB;&#x7EDF;&#x5417;&#xFF1F;</p>
<p> &#x4E0D;&#x8FC7;&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#x6709;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<p> &#x5982;&#x679C;&#x6211;&#x4EEC;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x4E0D;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x754C;&#x9762;&#x7C7B;&#x4E2D;&#x51FA;&#x73B0;&#x5462;&#xFF1F;&#x7531;&#x4E8E; QWidget &#x7684; parent &#x5FC5;&#x987B;&#x662F; QWidget &#x6307;&#x9488;&#xFF0C;&#x90A3;&#x5C31;&#x9650;&#x5236;&#x4E86;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x5C06;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684; C++ &#x7C7B;&#x6307;&#x9488;&#x4F20;&#x7ED9; Qt &#x5BF9;&#x8BDD;&#x6846;&#x3002;</p>
<p> &#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x5185;&#x5B58;&#x5360;&#x7528;&#x6709;&#x4E25;&#x683C;&#x9650;&#x5236;&#x7684;&#x8BDD;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5C06;&#x4E3B;&#x7A97;&#x53E3;&#x4F5C;&#x4E3A; parent &#x65F6;&#xFF0C;&#x4E3B;&#x7A97;&#x53E3;&#x4E0D;&#x5173;&#x95ED;&#xFF0C;&#x5BF9;&#x8BDD;&#x6846;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x4E00;&#x76F4;&#x5360;&#x7528;&#x5185;&#x5B58;&#x3002;</p>
</li>
<li><p>&#x66F4;&#x597D;&#x5730;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; dialog &#x7684; WindowAttribute&#xFF1A;</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::open()</span><br><span class="line">{</span><br><span class="line">    QDialog *dialog = <span class="keyword">new</span> QDialog;</span><br><span class="line">    dialog-&gt;setAttribute(Qt::WA_DeleteOnClose);</span><br><span class="line">    dialog-&gt;setWindowTitle(tr(<span class="string">&quot;Hello, dialog!&quot;</span>));</span><br><span class="line">    dialog-&gt;show();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p> setAttribute() &#x51FD;&#x6570;&#x8BBE;&#x7F6E;&#x5BF9;&#x8BDD;&#x6846;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x81EA;&#x52A8;&#x9500;&#x6BC1;&#x5BF9;&#x8BDD;&#x6846;&#x3002;</p>
</li>
<li><p>&#x53E6;&#x5916;&#xFF0C;QObject &#x8FD8;&#x6709;&#x4E00;&#x4E2A; deleteLater() &#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x7ED3;&#x675F;&#x65F6;&#x9500;&#x6BC1;&#x8BE5;&#x5BF9;&#x8BDD;&#x6846;&#xFF08;&#x5177;&#x4F53;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; exec() &#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF09;&#x3002;&#x5173;&#x4E8E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x540E;&#x9762;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x3002;</p>
</li>
</ol>
<h4 id="&#x5BF9;&#x8BDD;&#x6846;&#x6570;&#x636E;&#x4F20;&#x9012;"><a href="#&#x5BF9;&#x8BDD;&#x6846;&#x6570;&#x636E;&#x4F20;&#x9012;" class="headerlink" title="&#x5BF9;&#x8BDD;&#x6846;&#x6570;&#x636E;&#x4F20;&#x9012;"></a>&#x5BF9;&#x8BDD;&#x6846;&#x6570;&#x636E;&#x4F20;&#x9012;</h4><p>&#x5BF9;&#x8BDD;&#x6846;&#x7528;&#x4E8E;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x5BF9;&#x8BDD;&#x6846;&#x4E0E;&#x4E3B;&#x7A97;&#x53E3;&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x76F8;&#x5F53;&#x91CD;&#x8981;&#x3002;</p>
<p>&#x672C;&#x8282;&#x5C06;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x5728;&#x5BF9;&#x8BDD;&#x6846;&#x548C;&#x4E3B;&#x7A97;&#x53E3;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x3002;&#x5BF9;&#x8BDD;&#x6846;&#x5206;&#x4E3A;&#x6A21;&#x6001;&#x548C;&#x975E;&#x6A21;&#x6001;&#x4E24;&#x79CD;&#xFF0C;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x9610;&#x8FF0;&#x3002;</p>
<p><strong>&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;</strong></p>
<p>&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x4F7F;&#x7528;&#x4E86; exec() &#x51FD;&#x6570;&#x5C06;&#x5176;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;exec() &#x51FD;&#x6570;&#x7684;&#x771F;&#x6B63;&#x542B;&#x4E49;&#x662F;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x65E2;&#x7136;&#x662F;&#x65E0;&#x9650;&#x5FAA;&#x73AF;&#xFF0C;&#x5728;&#x5F00;&#x542F;&#x4E86;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x4EE3;&#x7801;&#x5C31;&#x4F1A;&#x88AB;&#x963B;&#x585E;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x4E5F;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#x5230;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; exec() &#x51FD;&#x6570;&#x4E4B;&#x540E;&#x76F4;&#x63A5;&#x4ECE;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x5BF9;&#x8C61;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x503C;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::open()</span><br><span class="line">{</span><br><span class="line">    <span class="function">QDialog <span class="title">dialog</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    dialog.setWindowTitle(tr(<span class="string">&quot;Hello, dialog!&quot;</span>));</span><br><span class="line">    dialog.exec();</span><br><span class="line">    qDebug() &lt;&lt; dialog.result();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li>qDebug() &#x7C7B;&#x4F3C;&#x4E8E; std::cout&#xFF0C;&#x5C06;&#x540E;&#x9762;&#x7684;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x63A7;&#x5236;&#x53F0;&#x3002;&#x9700;&#x8981;&#x5934;&#x6587;&#x4EF6;&#x3002;</li>
<li>&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E; dialog &#x7684;&#x5C5E;&#x6027;&#x4E3A; WA_DeleteOnClose&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x5BF9;&#x8BDD;&#x6846;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x5BF9;&#x8C61;&#x88AB;&#x9500;&#x6BC1;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x529E;&#x6CD5;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x4E86;&#x3002;</li>
</ul>
<p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;QDialog::exec() &#x662F;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x503C;&#x662F; QDialog::Accepted &#x6216;&#x8005; QDialog::Rejected&#x3002;&#x53EF;&#x4EE5;&#x4EE5;&#x6B64;&#x5224;&#x65AD;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x6237;&#x662F;&#x70B9;&#x51FB;&#x4E86;&#x201C;&#x786E;&#x5B9A;&#x201D;&#x8FD8;&#x662F;&#x201C;&#x53D6;&#x6D88;&#x201D;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QDialog <span class="title">dialog</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line"><span class="keyword">if</span> (dialog.exec() == QDialog::Accepted) {</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="comment">// do something else</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><strong>&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;</strong></p>
<p>&#x56E0;&#x4E3A; show() &#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x963B;&#x585E;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x7528;&#x6237;&#x8FD8;&#x6CA1;&#x6709;&#x6765;&#x5F97;&#x53CA;&#x8F93;&#x5165;&#xFF0C;&#x5C31;&#x8981;&#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x5E94;&#x8BE5;&#x6362;&#x4E00;&#x79CD;&#x601D;&#x8DEF;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4FE1;&#x53F7;&#x69FD;&#x673A;&#x5236;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#x5728;&#x5173;&#x95ED;&#x65F6;&#x53EF;&#x4EE5;&#x8C03;&#x7528; QDialog::accept() &#x6216;&#x8005; QDialog::reject() &#x6216;&#x8005;&#x66F4;&#x901A;&#x7528;&#x7684; QDialog::done() &#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5408;&#x9002;&#x7684;&#x4FE1;&#x53F7;&#x53D1;&#x51FA;&#x70B9;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91CD;&#x5199; QDialog::closeEvent() &#x51FD;&#x6570;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x53D1;&#x51FA;&#x4FE1;&#x53F7;&#x3002;&#x5728;&#x9700;&#x8981;&#x63A5;&#x6536;&#x6570;&#x636E;&#x7684;&#x7A97;&#x53E3;&#xFF08;&#x8FD9;&#x91CC;&#x662F;&#x4E3B;&#x7A97;&#x53E3;&#xFF09;&#x8FDE;&#x63A5;&#x5230;&#x8FD9;&#x4E2A;&#x4FE1;&#x53F7;&#x5373;&#x53EF;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//!!! Qt 5</span></span><br><span class="line"><span class="comment">// in dialog:</span></span><br><span class="line"><span class="keyword">void</span> UserAgeDialog::accept()</span><br><span class="line">{</span><br><span class="line">    <span class="function">emit <span class="title">userAgeChanged</span><span class="params">(newAge)</span></span>; <span class="comment">// newAge is an int</span></span><br><span class="line">    QDialog::accept();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// in main window:</span></span><br><span class="line"><span class="keyword">void</span> MainWindow::showUserAgeDialog()</span><br><span class="line">{</span><br><span class="line">    UserAgeDialog *dialog = <span class="keyword">new</span> UserAgeDialog(<span class="keyword">this</span>);</span><br><span class="line">    connect(dialog, &amp;UserAgeDialog::userAgeChanged, <span class="keyword">this</span>, &amp;MainWindow::setUserAge);</span><br><span class="line">    dialog-&gt;show();</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MainWindow::setUserAge(<span class="keyword">int</span> age)</span><br><span class="line">{</span><br><span class="line">    userAge = age;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4E0D;&#x8981;&#x62C5;&#x5FC3;&#x5982;&#x679C;&#x5BF9;&#x8BDD;&#x6846;&#x5173;&#x95ED;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x8FD8;&#x80FD;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x3002;&#x56E0;&#x4E3A; Qt &#x4FE1;&#x53F7;&#x69FD;&#x7684;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#xFF0C;&#x5728;&#x69FD;&#x51FD;&#x6570;&#x5728;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x59CB;&#x7EC8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; sender() &#x51FD;&#x6570;&#x83B7;&#x53D6;&#x5230; signal &#x7684;&#x53D1;&#x51FA;&#x8005;&#x3002;</p>
<p>&#x987A;&#x4FBF;&#x8BF4;&#x4E00;&#x53E5;&#xFF0C;sender() &#x51FD;&#x6570;&#x7684;&#x5B58;&#x5728;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x53EA;&#x80FD;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7684;&#x975E;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF08;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5728;&#x5BF9;&#x8BDD;&#x6846;&#x6253;&#x5F00;&#x65F6;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x6620;&#x5C04;&#x8868;&#x4E2D;&#x8BB0;&#x5F55;&#x4E0B;&#x6807;&#x8BB0;&#xFF0C;&#x5728;&#x5BF9;&#x8BDD;&#x6846;&#x5173;&#x95ED;&#x65F6;&#x5229;&#x7528; sender() &#x51FD;&#x6570;&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x8BE5;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x7136;&#x540E;&#x4ECE;&#x6620;&#x5C04;&#x8868;&#x4E2D;&#x5C06;&#x5176;&#x5220;&#x9664;&#xFF09;&#x3002;</p>
<h4 id="&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;"><a href="#&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;" class="headerlink" title="&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;"></a>&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;</h4><p>&#x6240;&#x8C13;&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x662F; Qt &#x5185;&#x7F6E;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x7528;&#x4E8E;&#x7B80;&#x5316;&#x5F00;&#x53D1;&#x3002;</p>
<hr>
<p>Qt &#x7684;&#x5185;&#x7F6E;&#x5BF9;&#x8BDD;&#x6846;&#x5927;&#x81F4;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x7C7B;&#xFF1A;</p>
<ul class="ui list">
<li>QColorDialog&#xFF1A;&#x9009;&#x62E9;&#x989C;&#x8272;&#xFF1B;</li>
<li>QFileDialog&#xFF1A;&#x9009;&#x62E9;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x76EE;&#x5F55;&#xFF1B;</li>
<li>QFontDialog&#xFF1A;&#x9009;&#x62E9;&#x5B57;&#x4F53;&#xFF1B;</li>
<li>QInputDialog&#xFF1A;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x503C;&#x8FD4;&#x56DE;&#xFF1B;</li>
<li>QMessageBox&#xFF1A;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x4FE1;&#x606F;&#x3001;&#x8BE2;&#x95EE;&#x95EE;&#x9898;&#x7B49;&#xFF1B;</li>
<li>QProgressDialog&#xFF1A;&#x663E;&#x793A;&#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002;</li>
</ul>
<p>&#x5728;&#x524D;&#x9762;&#x6709;&#x4E86;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#xFF0C;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6587;&#x6863;&#x5F88;&#x8F7B;&#x677E;&#x5730;&#x5B66;&#x4E60; Qt &#x7684;&#x6807;&#x51C6;&#x5BF9;&#x8BDD;&#x6846;&#x3002;</p>
<hr>
<h5 id="&#x6D88;&#x606F;&#x5BF9;&#x8BDD;&#x6846;"><a href="#&#x6D88;&#x606F;&#x5BF9;&#x8BDD;&#x6846;" class="headerlink" title="&#x6D88;&#x606F;&#x5BF9;&#x8BDD;&#x6846;"></a>&#x6D88;&#x606F;&#x5BF9;&#x8BDD;&#x6846;</h5><p>&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x5730;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B; QMessageBox &#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x4F1A;&#x4F7F;&#x7528;&#x5176;&#x63D0;&#x4F9B;&#x7684;&#x51E0;&#x4E2A; static &#x51FD;&#x6570;&#xFF1A;</p>
<ul class="ui list">
<li><p>void about(QWidget * parent, const QString &amp; title, const QString &amp; text)&#xFF1A;&#x663E;&#x793A;&#x5173;&#x4E8E;&#x5BF9;&#x8BDD;&#x6846;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x5176;&#x6807;&#x9898;&#x662F; title&#xFF0C;&#x5185;&#x5BB9;&#x662F; text&#xFF0C;&#x7236;&#x7A97;&#x53E3;&#x662F; parent&#x3002;&#x5BF9;&#x8BDD;&#x6846;&#x53EA;&#x6709;&#x4E00;&#x4E2A; OK &#x6309;&#x94AE;&#x3002;</p>
</li>
<li><p>void aboutQt(QWidget * parent, const QString &amp; title = QString())&#xFF1A;&#x663E;&#x793A;&#x5173;&#x4E8E; Qt &#x5BF9;&#x8BDD;&#x6846;&#x3002;&#x8BE5;&#x5BF9;&#x8BDD;&#x6846;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x6709;&#x5173; Qt &#x7684;&#x4FE1;&#x606F;&#x3002;</p>
</li>
<li><p>StandardButton critical(QWidget * parent, const QString &amp; title, const QString &amp; text, StandardButtons buttons = Ok, StandardButton defaultButton = NoButton)&#xFF1A;&#x663E;&#x793A;&#x4E25;&#x91CD;&#x9519;&#x8BEF;&#x5BF9;&#x8BDD;&#x6846;&#x3002;&#x8FD9;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x5C06;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x7EA2;&#x8272;&#x7684;&#x9519;&#x8BEF;&#x7B26;&#x53F7;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; buttons &#x53C2;&#x6570;&#x6307;&#x660E;&#x5176;&#x663E;&#x793A;&#x7684;&#x6309;&#x94AE;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x53EA;&#x6709;&#x4E00;&#x4E2A; Ok &#x6309;&#x94AE;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; StandardButtons &#x7C7B;&#x578B;&#x6307;&#x5B9A;&#x591A;&#x79CD;&#x6309;&#x94AE;&#x3002;</p>
</li>
<li><p>StandardButton information(QWidget * parent, const QString &amp; title, const QString &amp; text, StandardButtons buttons = Ok, StandardButton defaultButton = NoButton)&#xFF1A;QMessageBox::information() &#x51FD;&#x6570;&#x4E0E; QMessageBox::critical() &#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x8FD9;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x4FE1;&#x606F;&#x56FE;&#x6807;&#x3002;</p>
</li>
<li><p>StandardButton question(QWidget * parent, const QString &amp; title, const QString &amp; text, StandardButtons buttons = StandardButtons( Yes | No ), StandardButton defaultButton = NoButton)&#xFF1A;QMessageBox::question() &#x51FD;&#x6570;&#x4E0E; QMessageBox::critical() &#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x8FD9;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x95EE;&#x53F7;&#x56FE;&#x6807;&#xFF0C;&#x5E76;&#x4E14;&#x5176;&#x663E;&#x793A;&#x7684;&#x6309;&#x94AE;&#x662F;&#x201C;&#x662F;&#x201D;&#x548C;&#x201C;&#x5426;&#x201D;&#x4E24;&#x4E2A;&#x3002;</p>
</li>
<li><p>StandardButton warning(QWidget * parent, const QString &amp; title, const QString &amp; text, StandardButtons buttons = Ok, StandardButton defaultButton = NoButton)&#xFF1A;QMessageBox::warning() &#x51FD;&#x6570;&#x4E0E; QMessageBox::critical() &#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x8FD9;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x53F9;&#x53F7;&#x56FE;&#x6807;&#x3002;</p>
</li>
</ul>
<p><strong>&#x4F8B;&#x5B50;&#xFF1A;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (QMessageBox::Yes == QMessageBox::question(<span class="keyword">this</span>,</span><br><span class="line">                                              tr(<span class="string">&quot;Question&quot;</span>),</span><br><span class="line">                                              tr(<span class="string">&quot;Are you OK?&quot;</span>),</span><br><span class="line">                                              QMessageBox::Yes | QMessageBox::No,</span><br><span class="line">                                              QMessageBox::Yes)) {</span><br><span class="line">    QMessageBox::information(<span class="keyword">this</span>, tr(<span class="string">&quot;Hmmm...&quot;</span>), tr(<span class="string">&quot;I&apos;m glad to hear that!&quot;</span>));</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    QMessageBox::information(<span class="keyword">this</span>, tr(<span class="string">&quot;Hmmm...&quot;</span>), tr(<span class="string">&quot;I&apos;m sorry!&quot;</span>));</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>&#x8FD9;&#x4E2A;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x7236;&#x7A97;&#x53E3;&#x662F; this&#x3002;QMessageBox &#x662F; QDialog &#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x7684;&#x521D;&#x59CB;&#x663E;&#x793A;&#x4F4D;&#x7F6E;&#x5C06;&#x4F1A;&#x662F;&#x5728; parent &#x7A97;&#x53E3;&#x7684;&#x4E2D;&#x592E;&#x3002;</p>
</li>
<li><p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6216;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;|&#xFF09;&#x6307;&#x5B9A;&#x5BF9;&#x8BDD;&#x6846;&#x5E94;&#x8BE5;&#x51FA;&#x73B0;&#x7684;&#x6309;&#x94AE;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x662F;&#x4E00;&#x4E2A; Yes &#x548C;&#x4E00;&#x4E2A; No&#x3002;</p>
</li>
<li>&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#x7684;&#x6309;&#x94AE;&#x3002;</li>
</ul>
<hr>
<p>QMessageBox &#x7C7B;&#x7684; static &#x51FD;&#x6570;&#x4F18;&#x70B9;&#x662F;&#x65B9;&#x4FBF;&#x4F7F;&#x7528;&#xFF0C;&#x7F3A;&#x70B9;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF1A;&#x975E;&#x5E38;&#x4E0D;&#x7075;&#x6D3B;&#x3002;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x51E0;&#x79CD;&#x5F62;&#x5F0F;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x5B9A;&#x5236; QMessageBox &#x7EC6;&#x8282;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x4F7F;&#x7528; QMessageBox &#x7684;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E; API&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">QMessageBox msgBox;</span><br><span class="line">msgBox.setText(tr(<span class="string">&quot;The document has been modified.&quot;</span>));</span><br><span class="line">msgBox.setInformativeText(tr(<span class="string">&quot;Do you want to save your changes?&quot;</span>));</span><br><span class="line">msgBox.setDetailedText(tr(<span class="string">&quot;Differences here...&quot;</span>));</span><br><span class="line">msgBox.setStandardButtons(QMessageBox::Save</span><br><span class="line">                          | QMessageBox::Discard</span><br><span class="line">                          | QMessageBox::Cancel);</span><br><span class="line">msgBox.setDefaultButton(QMessageBox::Save);</span><br><span class="line"><span class="keyword">int</span> ret = msgBox.exec();</span><br><span class="line"><span class="keyword">switch</span> (ret) {</span><br><span class="line"><span class="keyword">case</span> QMessageBox::Save:</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">&quot;Save document!&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> QMessageBox::Discard:</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">&quot;Discard changes!&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> QMessageBox::Cancel:</span><br><span class="line">    qDebug() &lt;&lt; <span class="string">&quot;Close document!&quot;</span>;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li>&#x8BBE;&#x7F6E;&#x5176;&#x6807;&#x9898;&#x4E3A;&#x201C;The document has been modified.&#x201D;&#xFF0C;informationText &#x5219;&#x662F;&#x4F1A;&#x5728;&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x6587;&#x5B57;&#x3002;</li>
<li>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A; detailedText&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x4E86;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x6309;&#x94AE;&#x65F6;&#xFF0C;&#x5BF9;&#x8BDD;&#x6846;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x663E;&#x793A;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</li>
<li><p>&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x6309;&#x94AE;&#x6709;&#x4E09;&#x4E2A;&#xFF1A;&#x4FDD;&#x5B58;&#x3001;&#x4E22;&#x5F03;&#x548C;&#x53D6;&#x6D88;&#x3002;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; exec() &#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x4E00;&#x4E2A;&#x6A21;&#x6001;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x6839;&#x636E;&#x5176;&#x8FD4;&#x56DE;&#x503C;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
</li>
<li><p>&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x6309;&#x94AE;&#x7684;&#x987A;&#x5E8F;&#xFF0C;Qt &#x5DF2;&#x7ECF;&#x5E2E;&#x6211;&#x4EEC;&#x6309;&#x7167;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x7684;&#x4F7F;&#x7528;&#x4E60;&#x60EF;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x4E86;&#x8C03;&#x6574;&#x3002;&#x8FD9;&#x4E00;&#x70B9;&#x5728; Mac OS &#x4E0A;&#x4E5F;&#x4F1A;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x4F53;&#x73B0;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684; QDialog &#x800C;&#x8A00;&#xFF0C;Qt &#x4F7F;&#x7528;&#x7684;&#x662F; QDialogButtonBox &#x8FD9;&#x4E2A;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x7684;&#x5BF9;&#x8BDD;&#x6846;&#x6309;&#x94AE;&#x987A;&#x5E8F;&#x7684;&#x663E;&#x793A;&#x7684;&#x3002;</p>
</li>
</ul>
<hr>
<h5 id="&#x6587;&#x4EF6;&#x5BF9;&#x8BDD;&#x6846;"><a href="#&#x6587;&#x4EF6;&#x5BF9;&#x8BDD;&#x6846;" class="headerlink" title="&#x6587;&#x4EF6;&#x5BF9;&#x8BDD;&#x6846;"></a>&#x6587;&#x4EF6;&#x5BF9;&#x8BDD;&#x6846;</h5><p>&#x5728;&#x672C;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5C1D;&#x8BD5;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528; QFileDialog &#x6765;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5230;&#x786C;&#x76D8;&#x3002;</p>
<p>&#xFF08;&#x6B64;&#x7A0B;&#x5E8F;&#x4EC5;&#x7528;&#x4E8E;&#x6F14;&#x793A;&#xFF0C;&#x5F88;&#x591A;&#x5FC5;&#x987B;&#x7684;&#x64CD;&#x4F5C;&#x5E76;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x68C0;&#x67E5;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x5B9E;&#x9645;&#x7C7B;&#x578B;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x5E76;&#x4E14;&#x76F4;&#x63A5;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x8FC7;&#x5927;&#xFF0C;&#x7A0B;&#x5E8F;&#x4F1A;&#x7ACB;&#x523B;&#x6B7B;&#x6389;&#x3002;&#xFF09;</p>
<ol class="ui list">
<li><p>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x7684;&#x7A97;&#x53E3;&#xFF1A;</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">openAction = <span class="keyword">new</span> QAction(<span class="string">&quot;open&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">openAction-&gt;setShortcuts(QKeySequence::Open);</span><br><span class="line">openAction-&gt;setStatusTip(tr(<span class="string">&quot;Open an existing file&quot;</span>));</span><br><span class="line"></span><br><span class="line">saveAction = <span class="keyword">new</span> QAction(QIcon(<span class="string">&quot;file-save&quot;</span>), <span class="keyword">this</span>);</span><br><span class="line">saveAction-&gt;setShortcuts(QKeySequence::Save);</span><br><span class="line">saveAction-&gt;setStatusTip(tr(<span class="string">&quot;Save a new file&quot;</span>));</span><br><span class="line"></span><br><span class="line">QMenu *file = menuBar()-&gt;addMenu(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">file-&gt;addAction(openAction);</span><br><span class="line">file-&gt;addAction(saveAction);</span><br><span class="line"></span><br><span class="line">QToolBar *toolBar = addToolBar(tr(<span class="string">&quot;&amp;File&quot;</span>));</span><br><span class="line">toolBar-&gt;addAction(openAction);</span><br><span class="line">toolBar-&gt;addAction(saveAction);</span><br><span class="line"></span><br><span class="line">textEdit = <span class="keyword">new</span> QTextEdit(<span class="keyword">this</span>);</span><br><span class="line">setCentralWidget(textEdit);</span><br></pre></td></tr></table></figure>
<ul>
<li>&#x6211;&#x4EEC;&#x5728;&#x83DC;&#x5355;&#x548C;&#x5DE5;&#x5177;&#x680F;&#x6DFB;&#x52A0;&#x4E86;&#x4E24;&#x4E2A;&#x52A8;&#x4F5C;&#xFF1A;&#x6253;&#x5F00;&#x548C;&#x4FDD;&#x5B58;&#x3002;</li>
<li>&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x4E00;&#x4E2A; <strong>QTextEdit</strong> &#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x5BCC;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x4E0D;&#x4EC5;&#x4EC5;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x6587;&#x672C;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x56FE;&#x7247;&#x3001;&#x8868;&#x683C;&#x7B49;&#x7B49;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EA;&#x7528;&#x5B83;&#x663E;&#x793A;&#x7EAF;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;</li>
<li>QMainWindow &#x6709;&#x4E00;&#x4E2A; setCentralWidget() &#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x7A97;&#x53E3;&#x7684;&#x4E2D;&#x5FC3;&#x7EC4;&#x4EF6;&#xFF0C;&#x653E;&#x5728;&#x7A97;&#x53E3;&#x4E2D;&#x592E;&#x663E;&#x793A;&#x533A;&#x3002;</li>
</ul>
</li>
<li><p>&#x6211;&#x4EEC;&#x4F7F;&#x7528; connect() &#x51FD;&#x6570;&#xFF0C;&#x4E3A;&#x8FD9;&#x4E24;&#x4E2A; QAction &#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x54CD;&#x5E94;&#x7684;&#x52A8;&#x4F5C;&#xFF1A;</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">connect(openAction, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;MainWindow::openFile);</span><br><span class="line">connect(saveAction, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;MainWindow::saveFile);</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x4E0B;&#x9762;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684; openFile() &#x548C; saveFile() &#x8FD9;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> MainWindow::openFile()</span><br><span class="line">{</span><br><span class="line">    QString path = QFileDialog::getOpenFileName(<span class="keyword">this</span>,</span><br><span class="line">                                                tr(<span class="string">&quot;Open File&quot;</span>),</span><br><span class="line">                                                <span class="string">&quot;.&quot;</span>,</span><br><span class="line">                                                tr(<span class="string">&quot;Text Files(*.txt)&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span>(!path.isEmpty()) {</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(path)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (!file.open(QIODevice::ReadOnly | QIODevice::Text)) {</span><br><span class="line">            QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="string">&quot;Read File&quot;</span>),</span><br><span class="line">                                 tr(<span class="string">&quot;Cannot open file:\n%1&quot;</span>).arg(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="function">QTextStream <span class="title">in</span><span class="params">(&amp;file)</span></span>;</span><br><span class="line">        textEdit-&gt;setText(in.readAll());</span><br><span class="line">        file.close();</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="string">&quot;Path&quot;</span>),</span><br><span class="line">                             tr(<span class="string">&quot;You did not select any file.&quot;</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MainWindow::saveFile()</span><br><span class="line">{</span><br><span class="line">    QString path = QFileDialog::getSaveFileName(<span class="keyword">this</span>,</span><br><span class="line">                                                tr(<span class="string">&quot;Open File&quot;</span>),</span><br><span class="line">                                                <span class="string">&quot;.&quot;</span>,</span><br><span class="line">                                                tr(<span class="string">&quot;Text Files(*.txt)&quot;</span>));</span><br><span class="line">    <span class="keyword">if</span>(!path.isEmpty()) {</span><br><span class="line">        <span class="function">QFile <span class="title">file</span><span class="params">(path)</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (!file.open(QIODevice::WriteOnly | QIODevice::Text)) {</span><br><span class="line">            QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="string">&quot;Write File&quot;</span>),</span><br><span class="line">                                       tr(<span class="string">&quot;Cannot open file:\n%1&quot;</span>).arg(path));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="function">QTextStream <span class="title">out</span><span class="params">(&amp;file)</span></span>;</span><br><span class="line">        out &lt;&lt; textEdit-&gt;toPlainText();</span><br><span class="line">        file.close();</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        QMessageBox::warning(<span class="keyword">this</span>, tr(<span class="string">&quot;Path&quot;</span>),</span><br><span class="line">                             tr(<span class="string">&quot;You did not select any file.&quot;</span>));</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul>
<li><p>&#x5728; openFile() &#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; <code>QFileDialog::getOpenFileName()</code> &#x6765;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x957F;&#x957F;&#x7684;&#x7B7E;&#x540D;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QString <span class="title">getOpenFileName</span><span class="params">(QWidget * parent = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                        <span class="keyword">const</span> QString &amp; caption = QString(),</span></span></span><br><span class="line"><span class="function"><span class="params">                        <span class="keyword">const</span> QString &amp; dir = QString(),</span></span></span><br><span class="line"><span class="function"><span class="params">                        <span class="keyword">const</span> QString &amp; filter = QString(),</span></span></span><br><span class="line"><span class="function"><span class="params">                        QString * selectedFilter = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                        Options options = <span class="number">0</span>)</span></span></span><br></pre></td></tr></table></figure>
<p>&#x4E0D;&#x8FC7;&#x6CE8;&#x610F;&#xFF0C;&#x5B83;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x90FD;&#x662F;&#x53EF;&#x9009;&#x7684;</p>
<ul>
<li><p>parent&#xFF1A;&#x7236;&#x7A97;&#x53E3;&#xFF1B;</p>
</li>
<li><p>caption&#xFF1A;&#x5BF9;&#x8BDD;&#x6846;&#x6807;&#x9898;&#xFF1B;</p>
</li>
<li><p>dir&#xFF1A;&#x5BF9;&#x8BDD;&#x6846;&#x6253;&#x5F00;&#x65F6;&#x7684;&#x9ED8;&#x8BA4;&#x76EE;&#x5F55;&#xFF0C;&#x201C;.&#x201D; &#x4EE3;&#x8868;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x76EE;&#x5F55;&#xFF0C;&#x201C;/&#x201D; &#x4EE3;&#x8868; Windows &#x5F53;&#x524D;&#x76D8;&#x7B26;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x3001;Linux &#x5E73;&#x53F0;&#x7684;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5E73;&#x53F0;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x201C;C:\&#x201D;&#x7B49;&#xFF1B;</p>
</li>
<li><p>filter&#xFF1A;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x7528;&#x4E8E;&#x8FC7;&#x6EE4;&#x7279;&#x5B9A;&#x7684;&#x540E;&#x7F00;&#x540D;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;<code>&#x201C;Image Files(*.jpg *.png)&#x201D;</code>&#xFF0C;&#x5219;&#x53EA;&#x80FD;&#x663E;&#x793A;&#x540E;&#x7F00;&#x540D;&#x662F; jpg &#x6216;&#x8005; png &#x7684;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x4F7F;&#x7528;&#x201C;;;&#x201D;&#x5206;&#x5272;&#xFF0C;&#x6BD4;&#x5982;<code>&#x201C;JPEG Files(*.jpg);;PNG Files(*.png)&#x201D;</code>&#xFF1B;</p>
</li>
<li><p>selectedFilter&#xFF1A;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#xFF1B;</p>
</li>
<li><p>options&#xFF1A;&#x5BF9;&#x8BDD;&#x6846;&#x7684;&#x4E00;&#x4E9B;&#x53C2;&#x6570;&#x8BBE;&#x5B9A;&#xFF0C;&#x6BD4;&#x5982;&#x53EA;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x5939;&#x7B49;&#x7B49;&#xFF0C;&#x5B83;&#x7684;&#x53D6;&#x503C;&#x662F; enum QFileDialog::Option&#xFF0C;&#x6BCF;&#x4E2A;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; | &#x8FD0;&#x7B97;&#x7EC4;&#x5408;&#x8D77;&#x6765;&#x3002;</p>
</li>
</ul>
</li>
<li><p>QFileDialog::getOpenFileName() &#x8FD4;&#x56DE;&#x503C;&#x662F;&#x9009;&#x62E9;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x5176;&#x8D4B;&#x503C;&#x7ED9; path&#x3002;&#x901A;&#x8FC7;&#x5224;&#x65AD; path &#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x53EF;&#x4EE5;&#x786E;&#x5B9A;&#x7528;&#x6237;&#x662F;&#x5426;&#x9009;&#x62E9;&#x4E86;&#x67D0;&#x4E00;&#x6587;&#x4EF6;&#x3002;</p>
</li>
<li><p>&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; QFile &#x5BF9;&#x8C61;&#xFF0C;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4F20;&#x9012;&#x7ED9;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;</p>
</li>
<li><p>&#x7136;&#x540E;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F; QFile::open()&#xFF0C;&#x5176;&#x53C2;&#x6570;&#x662F;&#x6307;&#x5B9A;&#x7684;&#x6253;&#x5F00;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x53EA;&#x8BFB;&#x65B9;&#x5F0F;&#x548C;&#x6587;&#x672C;&#x65B9;&#x5F0F;&#x6253;&#x5F00;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x6253;&#x5F00;&#x6210;&#x529F;&#x5219;&#x8FD4;&#x56DE; true&#x3002;</p>
</li>
<li><p>&#x4F7F;&#x7528; QTextStream::readAll() &#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5176;&#x8D4B;&#x503C;&#x7ED9; QTextEdit &#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;&#x6700;&#x540E;&#x4E0D;&#x8981;&#x5FD8;&#x8BB0;&#x5173;&#x95ED;&#x6587;&#x4EF6;&#x3002;</p>
<p>saveFile() &#x51FD;&#x6570;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x6700;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; &lt;&lt; &#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x5C06; QTextEdit &#x7684;&#x5185;&#x5BB9;&#x8F93;&#x51FA;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
</li>
</ul>
</li>
</ol>
<h3 id="&#x4E8B;&#x4EF6;"><a href="#&#x4E8B;&#x4EF6;" class="headerlink" title="&#x4E8B;&#x4EF6;"></a>&#x4E8B;&#x4EF6;</h3><p>&#x4E8B;&#x4EF6;&#xFF08;event&#xFF09;&#x662F;&#x7531;&#x7CFB;&#x7EDF;&#x6216;&#x8005; Qt &#x672C;&#x8EAB;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x523B;&#x53D1;&#x51FA;&#x7684;&#x3002;&#x5F53;&#x7528;&#x6237;&#x6309;&#x4E0B;&#x9F20;&#x6807;&#x3001;&#x6572;&#x4E0B;&#x952E;&#x76D8;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x7A97;&#x53E3;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x7ED8;&#x5236;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x4F1A;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;&#x76F8;&#x5E94;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x4E00;&#x4E9B;&#x4E8B;&#x4EF6;&#x5728;&#x5BF9;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x505A;&#x51FA;&#x54CD;&#x5E94;&#x65F6;&#x53D1;&#x51FA;&#xFF0C;&#x5982;&#x952E;&#x76D8;&#x4E8B;&#x4EF6;&#x7B49;&#xFF1B;&#x53E6;&#x4E00;&#x4E9B;&#x4E8B;&#x4EF6;&#x5219;&#x662F;&#x7531;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x53D1;&#x51FA;&#xFF0C;&#x5982;&#x8BA1;&#x65F6;&#x5668;&#x4E8B;&#x4EF6;&#x3002;</p>
<p>Qt &#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x548C;&#x4FE1;&#x53F7;&#x69FD;&#x5E76;&#x4E0D;&#x662F;&#x76F8;&#x4E92;&#x66FF;&#x4EE3;&#x7684;&#x3002;</p>
<ul class="ui list">
<li><p>&#x4FE1;&#x53F7;&#x7531;&#x5177;&#x4F53;&#x7684;&#x5BF9;&#x8C61;&#x53D1;&#x51FA;&#xFF0C;&#x7136;&#x540E;&#x4F1A;&#x9A6C;&#x4E0A;&#x4EA4;&#x7ED9;&#x7531; connect() &#x51FD;&#x6570;&#x8FDE;&#x63A5;&#x7684;&#x69FD;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF1B;&#x800C;&#x5BF9;&#x4E8E;&#x4E8B;&#x4EF6;&#xFF0C;Qt &#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x5BF9;&#x6240;&#x6709;&#x53D1;&#x51FA;&#x7684;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x7EF4;&#x62A4;&#xFF0C;&#x5F53;&#x65B0;&#x7684;&#x4E8B;&#x4EF6;&#x4EA7;&#x751F;&#x65F6;&#xFF0C;&#x4F1A;&#x88AB;&#x8FFD;&#x52A0;&#x5230;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x7684;&#x5C3E;&#x90E8;&#x3002;&#x524D;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53D6;&#x51FA;&#x540E;&#x9762;&#x7684;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5FC5;&#x8981;&#x7684;&#x65F6;&#x5019;&#xFF0C;Qt &#x7684;&#x4E8B;&#x4EF6;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x8FDB;&#x5165;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5904;&#x7406;&#x3002;</p>
<p>&#x5373;<strong>&#x4FE1;&#x53F7;&#x69FD;&#x662F;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x4E8B;&#x4EF6;&#x53EF;&#x4EE5;&#x662F;&#x540C;&#x6B65;&#x7684;&#x6216;&#x8005;&#x5F02;&#x6B65;&#x7684;&#x3002;</strong></p>
</li>
<li><p><strong>&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x6709;&#x610F;&#x4E49;&#x7684;</strong>&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;&#x6765;&#x786E;&#x5B9A;&#x662F;&#x5426;&#x8FD8;&#x8981;&#x7EE7;&#x7EED;&#x4E8B;&#x4EF6;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x5728;QT&#x4E2D;&#xFF0C;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x5982;&#x679C;&#x8FD4;&#x56DE;true&#xFF0C;&#x5219;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5DF2;&#x5B8C;&#x6210;&#xFF0C;QApplication&#x4F1A;&#x63A5;&#x7740;&#x5904;&#x7406;&#x4E0B;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x8FD4;&#x56DE;false&#xFF0C;&#x90A3;&#x4E48;&#x4E8B;&#x4EF6;&#x5206;&#x6D3E;&#x51FD;&#x6570;&#x4F1A;&#x7EE7;&#x7EED;&#x5411;&#x4E0A;&#x5BFB;&#x627E;&#x4E0B;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x6CE8;&#x518C;&#x65B9;&#x6CD5;&#x3002;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5BF9;&#x4FE1;&#x53F7;&#x5206;&#x6D3E;&#x5668;&#x6765;&#x8BF4;&#x662F;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x3002;</p>
</li>
<li><p>&#x4FE1;&#x53F7;&#x4E00;&#x65E6;&#x53D1;&#x51FA;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x69FD;&#x51FD;&#x6570;&#x4E00;&#x5B9A;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#x3002;&#x4F46;&#x662F;&#xFF0C;<strong>&#x4E8B;&#x4EF6;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x201D;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</strong>&#xFF0C;&#x5BF9;&#x4E8E;&#x6709;&#x4E9B;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x989D;&#x5916;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x53E6;&#x5916;&#x7684;&#x4E8B;&#x4EF6;&#x5219;&#x4E0D;&#x5173;&#x5FC3;&#x3002;</p>
</li>
<li><p>&#x603B;&#x7684;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x7684;&#x662F;&#x4FE1;&#x53F7;&#x69FD;&#xFF1B;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x5173;&#x5FC3;&#x7684;&#x662F;&#x4E8B;&#x4EF6;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E8B;&#x4EF6;&#x6765;&#x6539;&#x53D8;&#x7EC4;&#x4EF6;&#x7684;&#x9ED8;&#x8BA4;&#x64CD;&#x4F5C;&#x3002;</p>
</li>
</ul>
<p>&#x5728;&#x6267;&#x884C; exec() &#x51FD;&#x6570;&#x4E4B;&#x540E;&#xFF0C;&#x7A0B;&#x5E8F;&#x5C06;&#x8FDB;&#x5165;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x6765;&#x76D1;&#x542C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x5F53;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#xFF0C;Qt &#x5C06;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x3002;Qt &#x4E2D;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x7C7B;&#x90FD;&#x7EE7;&#x627F;&#x4E8E; QEvent&#x3002;&#x5728;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;Qt &#x5C06;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x7ED9; QObject &#x7684; event() &#x51FD;&#x6570;&#x3002;event() &#x51FD;&#x6570;&#x5E76;&#x4E0D;&#x76F4;&#x63A5;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x6309;&#x7167;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#x5206;&#x6D3E;&#x7ED9;&#x7279;&#x5B9A;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF08;event handler&#xFF09;&#x3002;</p>
<p>&#x5728;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x7684;&#x7236;&#x7C7B; QWidget &#x4E2D;&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;&#x5F88;&#x591A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5982; keyPressEvent()&#x3001;keyReleaseEvent()&#x3001;mouseDoubleClickEvent()&#x3001;mouseMoveEvent ()&#x3001;mousePressEvent()&#x3001;mouseReleaseEvent() &#x7B49;&#x3002;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x90FD;&#x662F; protected virtual &#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5B50;&#x7C7B;&#x4E2D;&#x91CD;&#x65B0;&#x5B9E;&#x73B0;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventLabel</span> :</span> <span class="keyword">public</span> QLabel</span><br><span class="line">{</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mouseMoveEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mouseReleaseEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> EventLabel::mouseMoveEvent(QMouseEvent *event)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;setText(QString(<span class="string">&quot;&lt;center&gt;&lt;h1&gt;Move: (%1, %2)&lt;/h1&gt;&lt;/center&gt;&quot;</span>)</span><br><span class="line">                  .arg(QString::number(event-&gt;x()), QString::number(event-&gt;y())));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> EventLabel::mousePressEvent(QMouseEvent *event)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">this</span>-&gt;setText(QString(<span class="string">&quot;&lt;center&gt;&lt;h1&gt;Press: (%1, %2)&lt;/h1&gt;&lt;/center&gt;&quot;</span>)</span><br><span class="line">                  .arg(QString::number(event-&gt;x()), QString::number(event-&gt;y())));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> EventLabel::mouseReleaseEvent(QMouseEvent *event)</span><br><span class="line">{</span><br><span class="line">    QString msg;</span><br><span class="line">    msg.<span class="built_in">sprintf</span>(<span class="string">&quot;&lt;center&gt;&lt;h1&gt;Release: (%d, %d)&lt;/h1&gt;&lt;/center&gt;&quot;</span>,</span><br><span class="line">                event-&gt;x(), event-&gt;y());</span><br><span class="line">    <span class="keyword">this</span>-&gt;setText(msg);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    EventLabel *label = <span class="keyword">new</span> EventLabel;</span><br><span class="line">    label-&gt;setWindowTitle(<span class="string">&quot;MouseEvent Demo&quot;</span>);</span><br><span class="line">    label-&gt;resize(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">    label-&gt;show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>EventLabel &#x7EE7;&#x627F;&#x4E86; QLabel&#xFF0C;&#x8986;&#x76D6;&#x4E86; mousePressEvent()&#x3001;mouseMoveEvent() &#x548C; MouseReleaseEvent() &#x4E09;&#x4E2A;&#x51FD;&#x6570;&#x3002;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#x4EC0;&#x4E48;&#x529F;&#x80FD;&#xFF0C;&#x53EA;&#x662F;&#x5728;&#x9F20;&#x6807;&#x6309;&#x4E0B;&#xFF08;press&#xFF09;&#x3001;&#x9F20;&#x6807;&#x79FB;&#x52A8;&#xFF08;move&#xFF09;&#x548C;&#x9F20;&#x6807;&#x91CA;&#x653E;&#xFF08;release&#xFF09;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x9F20;&#x6807;&#x7684;&#x5750;&#x6807;&#x503C;&#x663E;&#x793A;&#x5728;&#x8FD9;&#x4E2A; Label &#x4E0A;&#x9762;&#x3002;&#x7531;&#x4E8E; QLabel &#x662F;&#x652F;&#x6301; HTML &#x4EE3;&#x7801;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E86; HTML &#x4EE3;&#x7801;&#x6765;&#x683C;&#x5F0F;&#x5316;&#x6587;&#x5B57;&#x3002;</p>
</li>
<li><p>&#x8FD0;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x4E86;&#x4E00;&#x4E0B;&#x9F20;&#x6807;&#x4E4B;&#x540E;&#xFF0C;label &#x4E0A;&#x5C06;&#x663E;&#x793A;&#x9F20;&#x6807;&#x5F53;&#x524D;&#x5750;&#x6807;&#x503C;&#x3002;</p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x70B9;&#x51FB;&#x9F20;&#x6807;&#x4E4B;&#x540E;&#x624D;&#x80FD;&#x5728; mouseMoveEvent() &#x51FD;&#x6570;&#x4E2D;&#x663E;&#x793A;&#x9F20;&#x6807;&#x5750;&#x6807;&#x503C;&#xFF1F;&#x8FD9;&#x662F;&#x56E0;&#x4E3A; QWidget &#x4E2D;&#x6709;&#x4E00;&#x4E2A; mouseTracking &#x5C5E;&#x6027;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x8FFD;&#x8E2A;&#x9F20;&#x6807;&#x3002;&#x53EA;&#x6709;&#x9F20;&#x6807;&#x88AB;&#x8FFD;&#x8E2A;&#x65F6;&#xFF0C;mouseMoveEvent() &#x624D;&#x4F1A;&#x53D1;&#x51FA;&#x3002;&#x9ED8;&#x8BA4;&#x7684; mouseTracking &#x662F; false&#xFF0C;&#x7EC4;&#x4EF6;&#x5728;&#x81F3;&#x5C11;&#x4E00;&#x6B21;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x4E4B;&#x540E;&#xFF0C;&#x624D;&#x80FD;&#x591F;&#x88AB;&#x8FFD;&#x8E2A;&#x3002;&#x5982;&#x679C; mouseTracking &#x4E3A; true&#xFF0C;&#x5219; mouseMoveEvent() &#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x88AB;&#x53D1;&#x51FA;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label-&gt;setMouseTracking(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h4 id="&#x63A5;&#x6536;&#x4E0E;&#x5FFD;&#x7565;"><a href="#&#x63A5;&#x6536;&#x4E0E;&#x5FFD;&#x7565;" class="headerlink" title="&#x63A5;&#x6536;&#x4E0E;&#x5FFD;&#x7565;"></a>&#x63A5;&#x6536;&#x4E0E;&#x5FFD;&#x7565;</h4><p>&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x540C;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A; Qt &#x7684;&#x4E8B;&#x4EF6;&#x4F20;&#x9012;&#x770B;&#x6210;&#x94FE;&#x72B6;&#xFF1A;&#x5982;&#x679C;&#x5B50;&#x7C7B;&#x6CA1;&#x6709;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x5C31;&#x4F1A;&#x7EE7;&#x7EED;&#x5411;&#x5176;&#x7236;&#x7C7B;&#x4F20;&#x9012;&#x3002;Qt &#x7684;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x6709;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;accept() &#x548C; ignore()&#x3002;&#x5728;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; isAccepted() &#x6765;&#x67E5;&#x8BE2;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x662F;&#x4E0D;&#x662F;&#x5DF2;&#x7ECF;&#x88AB;&#x63A5;&#x6536;&#x4E86;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x7684; accept() &#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x7EE7;&#x7EED;&#x4F20;&#x64AD;&#x7ED9;&#x5176;&#x7236;&#x7EC4;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x5B83;&#x8C03;&#x7528;&#x4E86;&#x4E8B;&#x4EF6;&#x7684; ignore() &#x51FD;&#x6570;&#xFF0C;Qt &#x4F1A;&#x4ECE;&#x5176;&#x7236;&#x7EC4;&#x4EF6;&#x4E2D;&#x5BFB;&#x627E;&#x53E6;&#x5916;&#x7684;&#x63A5;&#x53D7;&#x8005;&#x3002;</p>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5F88;&#x5C11;&#x4F1A;&#x4F7F;&#x7528; accept() &#x548C; ignore() &#x51FD;&#x6570;&#xFF0C;&#x800C;&#x662F;&#x50CF;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E00;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x5E0C;&#x671B;&#x5FFD;&#x7565;&#x4E8B;&#x4EF6;&#xFF08;&#x6240;&#x8C13;&#x5FFD;&#x7565;&#xFF0C;&#x662F;&#x6307;&#x81EA;&#x5DF1;&#x4E0D;&#x60F3;&#x8981;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF09;&#xFF0C;&#x53EA;&#x8981;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x54CD;&#x5E94;&#x51FD;&#x6570;&#x5373;&#x53EF;&#x3002;&#xFF08;Qt &#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x90FD;&#x662F; protected &#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x91CD;&#x5199;&#x7684;&#x51FD;&#x6570;&#x5FC5;&#x5B9A;&#x5B58;&#x5728;&#x7740;&#x5176;&#x7236;&#x7C7B;&#x4E2D;&#x7684;&#x54CD;&#x5E94;&#x51FD;&#x6570;&#x3002;&#xFF09;</p>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x81EA;&#x5DF1;&#x53BB;&#x8C03;&#x7528; accept() &#x548C; ignore() &#x51FD;&#x6570;&#xFF0C;&#x800C;&#x662F;&#x5C3D;&#x91CF;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x5B9E;&#x73B0;&#xFF0C;Qt &#x505A;&#x4E86;&#x7279;&#x6B8A;&#x7684;&#x8BBE;&#x8BA1;&#xFF1A;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x9ED8;&#x8BA4;&#x662F; accept &#x7684;&#xFF0C;&#x800C;&#x4F5C;&#x4E3A;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x7684;&#x7236;&#x7C7B; QWidget &#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x5219;&#x662F;&#x8C03;&#x7528; ignore()&#x3002;&#x8FD9;&#x4E48;&#x4E00;&#x6765;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x4E0D;&#x8C03;&#x7528; QWidget &#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#xFF0C;&#x4F60;&#x5C31;&#x7B49;&#x4E8E;&#x662F;&#x63A5;&#x53D7;&#x4E86;&#x4E8B;&#x4EF6;&#xFF1B;&#x5982;&#x679C;&#x4F60;&#x8981;&#x5FFD;&#x7565;&#x4E8B;&#x4EF6;&#xFF0C;&#x53EA;&#x9700;&#x8C03;&#x7528; QWidget &#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x3002;</p>
<hr>
<p>&#x5728;&#x4E00;&#x4E2A;&#x60C5;&#x5F62;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x4F7F;&#x7528; accept() &#x548C; ignore() &#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x5C31;&#x662F;<strong>&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x7684;&#x4E8B;&#x4EF6;</strong>&#x3002;&#x5BF9;&#x4E8E; QCloseEvent &#x4E8B;&#x4EF6;&#xFF0C;&#x8C03;&#x7528; accept() &#x610F;&#x5473;&#x7740; Qt &#x4F1A;&#x505C;&#x6B62;&#x4E8B;&#x4EF6;&#x7684;&#x4F20;&#x64AD;&#xFF08;&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x4E86;&#xFF09;&#xFF0C;&#x8C03;&#x7528; ignore() &#x5219;&#x610F;&#x5473;&#x7740;&#x4E8B;&#x4EF6;&#x7EE7;&#x7EED;&#x4F20;&#x64AD;&#x3002;</p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x5BF9;&#x8BDD;&#x6846;&#x4F8B;&#x5B50;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mainwindow.cpp</span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">connect(textEdit, &amp;QTextEdit::textChanged, [=]() {</span><br><span class="line">    <span class="keyword">this</span>-&gt;setWindowModified(<span class="literal">true</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> MainWindow::closeEvent(QCloseEvent *event)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">if</span> (isWindowModified()) {</span><br><span class="line">        <span class="keyword">bool</span> <span class="built_in">exit</span> = QMessageBox::question(<span class="keyword">this</span>,</span><br><span class="line">                                      tr(<span class="string">&quot;Quit&quot;</span>),</span><br><span class="line">                                      tr(<span class="string">&quot;Are you sure to quit this application?&quot;</span>),</span><br><span class="line">                                      QMessageBox::Yes | QMessageBox::No,</span><br><span class="line">                                      QMessageBox::No) == QMessageBox::Yes;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">exit</span>) {</span><br><span class="line">            event-&gt;accept();</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            event-&gt;ignore();</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        event-&gt;accept();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h4 id="&#x91CD;&#x5199;event"><a href="#&#x91CD;&#x5199;event" class="headerlink" title="&#x91CD;&#x5199;event()"></a>&#x91CD;&#x5199;event()</h4><p>event() &#x51FD;&#x6570;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x4E8B;&#x4EF6;&#x7684;&#x5206;&#x53D1;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x5728;&#x4E8B;&#x4EF6;&#x5206;&#x53D1;&#x4E4B;&#x524D;&#x505A;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x91CD;&#x5199;&#x8FD9;&#x4E2A; event() &#x51FD;&#x6570;&#x4E86;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5728;&#x4E00;&#x4E2A; QWidget &#x7EC4;&#x4EF6;&#x4E2D;&#x76D1;&#x542C; tab &#x952E;&#x7684;&#x6309;&#x4E0B;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x7EE7;&#x627F; QWidget&#xFF0C;&#x5E76;&#x91CD;&#x5199;&#x5B83;&#x7684; event() &#x51FD;&#x6570;&#xFF0C;&#x6765;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> CustomWidget::event(QEvent *e)</span><br><span class="line">{</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">if</span> (e-&gt;type() == QEvent::KeyPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;QKeyEvent *keyEvent = <span class="keyword">static_cast</span>&lt;QKeyEvent *&gt;(e);</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (keyEvent-&gt;key() == Qt::Key_Tab) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;qDebug() &lt;&lt; <span class="string">&quot;You press tab.&quot;</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">return</span> QWidget::event(e);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>CustomWidget &#x662F;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684; QWidget &#x5B50;&#x7C7B;&#x3002;&#x6211;&#x4EEC;&#x91CD;&#x5199;&#x4E86;&#x5B83;&#x7684; event() &#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6709;&#x4E00;&#x4E2A; QEvent &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9700;&#x8981;&#x8F6C;&#x53D1;&#x7684;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x3002;</p>
</li>
<li><p>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x662F; bool &#x7C7B;&#x578B;&#x3002;&#x5982;&#x679C;&#x4F20;&#x5165;&#x7684;&#x4E8B;&#x4EF6;&#x5DF2;&#x88AB;&#x8BC6;&#x522B;&#x5E76;&#x4E14;&#x5904;&#x7406;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x8FD4;&#x56DE; true&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; false&#x3002;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x503C;&#x662F; true&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x8BE5;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x8BBE;&#x7F6E;&#x4E86; accept()&#xFF0C;&#x90A3;&#x4E48; Qt &#x4F1A;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5DF2;&#x7ECF;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E0D;&#x4F1A;&#x518D;&#x5C06;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;&#x5176;&#x5B83;&#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x662F;&#x4F1A;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x4E8B;&#x4EF6;&#x3002;</p>
</li>
<li><p>&#x6CE8;&#x610F;&#xFF0C;&#x5728; event() &#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x8C03;&#x7528;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x7684; accept() &#x548C; ignore() &#x51FD;&#x6570;&#x662F;&#x6CA1;&#x6709;&#x4F5C;&#x7528;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x4E8B;&#x4EF6;&#x7684;&#x4F20;&#x64AD;&#x3002;</p>
</li>
<li><p>QEvent::type() &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x662F; QEvent::Type &#x7C7B;&#x578B;&#x7684;&#x679A;&#x4E3E;&#x3002;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x8FC7;&#x81EA;&#x5DF1;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x4E8B;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD4;&#x56DE; true&#xFF0C;&#x8868;&#x793A;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5BF9;&#x6B64;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x4E86;&#x5904;&#x7406;&#xFF1B;&#x5BF9;&#x4E8E;&#x5176;&#x5B83;&#x6211;&#x4EEC;&#x4E0D;&#x5173;&#x5FC3;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684; event() &#x51FD;&#x6570;&#x7EE7;&#x7EED;&#x8F6C;&#x53D1;&#x3002;</p>
</li>
</ul>
<p><strong>&#x7531;&#x6B64;&#x53EF;&#x89C1;</strong>&#xFF0C;event() &#x662F;&#x4E00;&#x4E2A;&#x96C6;&#x4E2D;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x7684;&#x5730;&#x65B9;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x60F3;&#x91CD;&#x5199;&#x4E00;&#x5927;&#x5806;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x91CD;&#x5199;&#x8FD9;&#x4E2A; event() &#x51FD;&#x6570;&#xFF0C;&#x901A;&#x8FC7; QEvent::type() &#x5224;&#x65AD;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x9274;&#x4E8E;&#x91CD;&#x5199; event() &#x51FD;&#x6570;&#x9700;&#x8981;&#x5341;&#x5206;&#x5C0F;&#x5FC3;&#x6CE8;&#x610F;&#x7236;&#x7C7B;&#x7684;&#x540C;&#x540D;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4E00;&#x4E0D;&#x7559;&#x795E;&#x5C31;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x53EA;&#x91CD;&#x5199;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#xFF08;&#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x5FC5;&#x987B;&#x8BB0;&#x5F97;&#x662F;&#x4E0D;&#x662F;&#x5E94;&#x8BE5;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x540C;&#x540D;&#x5904;&#x7406;&#x5668;&#xFF09;&#x3002;&#x8FD9;&#x5176;&#x5B9E;&#x6697;&#x793A;&#x4E86; event() &#x51FD;&#x6570;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4F5C;&#x7528;&#xFF1A;&#x5C4F;&#x853D;&#x6389;&#x67D0;&#x4E9B;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#x3002;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x7684; CustomTextEdit &#x4F8B;&#x5B50;&#x770B;&#x5230;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x53EA;&#x80FD;&#x54CD;&#x5E94; tab &#x952E;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x8FD9;&#x79CD;&#x4F5C;&#x7528;&#x662F;&#x91CD;&#x5199;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#x6240;&#x4E0D;&#x80FD;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<h4 id="&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;"><a href="#&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;"></a>&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;</h4><p>&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x5BF9;&#x8C61;&#x9700;&#x8981;&#x67E5;&#x770B;&#x3001;&#x751A;&#x81F3;&#x8981;&#x62E6;&#x622A;&#x53D1;&#x9001;&#x5230;&#x53E6;&#x5916;&#x5BF9;&#x8C61;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5BF9;&#x8BDD;&#x6846;&#x53EF;&#x80FD;&#x60F3;&#x8981;&#x62E6;&#x622A;&#x6309;&#x952E;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E0D;&#x8BA9;&#x522B;&#x7684;&#x7EC4;&#x4EF6;&#x63A5;&#x6536;&#x5230;&#xFF1B;&#x6216;&#x8005;&#x8981;&#x4FEE;&#x6539;&#x56DE;&#x8F66;&#x952E;&#x7684;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x3002;QObject &#x6709;&#x4E00;&#x4E2A; eventFilter() &#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">virtual</span> <span class="keyword">bool</span> QObject::eventFilter ( QObject * watched, QEvent * event );</span><br></pre></td></tr></table></figure>
<p>&#x5B83;&#x4F1A;&#x68C0;&#x67E5;&#x63A5;&#x6536;&#x5230;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x662F;&#x6211;&#x4EEC;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5C31;&#x8FDB;&#x884C;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x5904;&#x7406;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x662F;&#xFF0C;&#x5C31;&#x7EE7;&#x7EED;&#x8F6C;&#x53D1;&#x3002;</p>
<ul class="ui list">
<li><p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; bool &#x7C7B;&#x578B;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5C06;&#x53C2;&#x6570; event &#x8FC7;&#x6EE4;&#x51FA;&#x6765;&#xFF0C;&#x4E0D;&#x60F3;&#x8BA9;&#x5B83;&#x7EE7;&#x7EED;&#x8F6C;&#x53D1;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE; true&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; false&#x3002;</p>
</li>
<li><p>&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x8C03;&#x7528;&#x65F6;&#x95F4;&#x662F;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x53C2;&#x6570;&#x91CC;&#x9762;&#x7684; watched &#x5BF9;&#x8C61;&#xFF09;&#x63A5;&#x6536;&#x5230;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x4E4B;&#x524D;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x4E2D;&#x505C;&#x6B62;&#x4E86;&#x67D0;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;watched &#x5BF9;&#x8C61;&#x4EE5;&#x53CA;&#x4EE5;&#x540E;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;</p>
</li>
</ul>
<hr>
<p>eventFilter() &#x51FD;&#x6570;&#x76F8;&#x5F53;&#x4E8E;&#x521B;&#x5EFA;&#x4E86;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x5B89;&#x88C5;&#x8FC7;&#x6EE4;&#x5668;&#x9700;&#x8981;&#x8C03;&#x7528; QObject::installEventFilter() &#x51FD;&#x6570;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> QObject::installEventFilter ( QObject * filterObj )</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E00;&#x4E2A; QObject * &#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#x3002;&#x8BB0;&#x5F97;&#x521A;&#x521A;&#x6211;&#x4EEC;&#x8BF4;&#x7684;&#xFF0C;eventFilter() &#x51FD;&#x6570;&#x662F; QObject &#x7684;&#x4E00;&#x4E2A;&#x6210;&#x5458;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x4EFB;&#x610F; QObject &#x90FD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x8FC7;&#x6EE4;&#x5668;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; QObject::removeEventFilter() &#x51FD;&#x6570;&#x79FB;&#x9664;&#x3002;</p>
<p>&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x89C1;&#x4E8B;&#x4EF6;&#x5C42;&#x6B21;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5411;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x9762;&#x5B89;&#x88C5;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x53EA;&#x8981;&#x8C03;&#x7528;&#x591A;&#x6B21; installEventFilter() &#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B89;&#x88C5;&#x7684;&#x4F1A;&#x7B2C;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x540E;&#x8FDB;&#x5148;&#x6267;&#x884C;&#x7684;&#x987A;&#x5E8F;&#x3002;</p>
<p><strong>&#x4F8B;&#x5B50;&#xFF1A;</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainWindow</span> :</span> <span class="keyword">public</span> QMainWindow</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;MainWindow();</span><br><span class="line"> <span class="keyword">protected</span>:</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;<span class="function"><span class="keyword">bool</span> <span class="title">eventFilter</span><span class="params">(QObject *obj, QEvent *event)</span></span>;</span><br><span class="line"> <span class="keyword">private</span>:</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;QTextEdit *textEdit;</span><br><span class="line"> };</span><br><span class="line"> </span><br><span class="line"> MainWindow::MainWindow()</span><br><span class="line"> {</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;textEdit = <span class="keyword">new</span> QTextEdit;</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;setCentralWidget(textEdit);</span><br><span class="line"> </span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;textEdit-&gt;installEventFilter(<span class="keyword">this</span>);</span><br><span class="line"> }</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">bool</span> MainWindow::eventFilter(QObject *obj, QEvent *event)</span><br><span class="line"> {</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (obj == textEdit) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">if</span> (event-&gt;type() == QEvent::KeyPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; QKeyEvent *keyEvent = <span class="keyword">static_cast</span>&lt;QKeyEvent *&gt;(event);</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; qDebug() &lt;&lt; <span class="string">&quot;Ate key press&quot;</span> &lt;&lt; keyEvent-&gt;key();</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;} <span class="keyword">else</span> {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;} <span class="keyword">else</span> {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="comment">// pass the event on to the parent class</span></span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">return</span> QMainWindow::eventFilter(obj, event);</span><br><span class="line">&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line"> }</span><br></pre></td></tr></table></figure>
<p>&#x91CD;&#x5199;event()&#x7684;Tab &#x952E;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x6539;&#x5199;&#x4E3A;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x7248;&#x672C;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> FilterObject::eventFilter(QObject *object, QEvent *event)</span><br><span class="line">{</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">if</span> (object == target &amp;&amp; event-&gt;type() == QEvent::KeyPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;QKeyEvent *keyEvent = <span class="keyword">static_cast</span>&lt;QKeyEvent *&gt;(event);</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (keyEvent-&gt;key() == Qt::Key_Tab) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;qDebug() &lt;&lt; <span class="string">&quot;You press tab.&quot;</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;} <span class="keyword">else</span> {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><strong>PS&#xFF1A;</strong></p>
<p>&#x5C3D;&#x7BA1;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x5F88;&#x5F3A;&#x5927;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x4F1A;&#x4E25;&#x91CD;&#x964D;&#x4F4E;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E8B;&#x4EF6;&#x5206;&#x53D1;&#x6548;&#x7387;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x9664;&#x975E;&#x662F;&#x4E0D;&#x5F97;&#x4E0D;&#x4F7F;&#x7528;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5426;&#x5219;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x4E0D;&#x5E94;&#x8BE5;&#x8FD9;&#x4E48;&#x505A;&#x3002;</p>
<p><strong>&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x4E2D; delete &#x4E86;&#x67D0;&#x4E2A;&#x63A5;&#x6536;&#x7EC4;&#x4EF6;&#xFF0C;&#x52A1;&#x5FC5;&#x5C06;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x8BBE;&#x4E3A; true&#x3002;&#x5426;&#x5219;&#xFF0C;Qt &#x8FD8;&#x662F;&#x4F1A;&#x5C06;&#x4E8B;&#x4EF6;&#x5206;&#x53D1;&#x7ED9;&#x8FD9;&#x4E2A;&#x63A5;&#x6536;&#x7EC4;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x5D29;&#x6E83;&#x3002;</strong></p>
<p>&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x88AB;&#x5B89;&#x88C5;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x7EC4;&#x4EF6;<strong>&#x5FC5;&#x987B;&#x5728;&#x540C;&#x4E00;&#x7EBF;&#x7A0B;</strong>&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x8FC7;&#x6EE4;&#x5668;&#x5C06;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x5B89;&#x88C5;&#x8FC7;&#x6EE4;&#x5668;&#x4E4B;&#x540E;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x7EC4;&#x4EF6;&#x5230;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x7EBF;&#x7A0B;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x53EA;&#x6709;&#x7B49;&#x5230;&#x4E8C;&#x8005;&#x91CD;&#x65B0;&#x56DE;&#x5230;&#x540C;&#x4E00;&#x7EBF;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x8FC7;&#x6EE4;&#x5668;&#x624D;&#x4F1A;&#x6709;&#x6548;&#x3002;</p>
<h4 id="&#x4E8B;&#x4EF6;&#x5C42;&#x6B21;"><a href="#&#x4E8B;&#x4EF6;&#x5C42;&#x6B21;" class="headerlink" title="&#x4E8B;&#x4EF6;&#x5C42;&#x6B21;"></a>&#x4E8B;&#x4EF6;&#x5C42;&#x6B21;</h4><p>Qt &#x4E2D;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x4E8B;&#x4EF6;&#xFF1A;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;&#x3001;&#x952E;&#x76D8;&#x4E8B;&#x4EF6;&#x3001;&#x5927;&#x5C0F;&#x6539;&#x53D8;&#x7684;&#x4E8B;&#x4EF6;&#x3001;&#x4F4D;&#x7F6E;&#x79FB;&#x52A8;&#x7684;&#x4E8B;&#x4EF6;&#x7B49;&#x7B49;&#x3002;&#x5982;&#x4F55;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#xFF0C;&#x5B9E;&#x9645;&#x6709;&#x4E24;&#x79CD;&#x9009;&#x62E9;&#xFF1A;</p>
<ol class="ui list">
<li>&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E2D;&#x7528;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x7684;&#x5206;&#x652F;&#x8BED;&#x53E5;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#x3002;</li>
<li>&#x6BCF;&#x4E00;&#x79CD;&#x4E8B;&#x4EF6;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;Qt &#x5C31;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x3002;event() &#x5BF9;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5206;&#x53D1;&#x3002;</li>
</ol>
<p>&#x4F46;event() &#x51FD;&#x6570;&#x4F1A;&#x6709;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<ul class="ui list">
<li><p>event() &#x51FD;&#x6570;&#x662F;&#x4E00;&#x4E2A; protected &#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x8981;&#x60F3;&#x91CD;&#x5199; event()&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x4E00;&#x4E2A;&#x5DF2;&#x6709;&#x7684;&#x7C7B;&#x3002;&#x8BD5;&#x60F3;&#xFF0C;&#x6211;&#x7684;&#x7A0B;&#x5E8F;&#x6839;&#x672C;&#x4E0D;&#x60F3;&#x8981;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;&#xFF0C;&#x7A0B;&#x5E8F;&#x4E2D;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x90FD;&#x4E0D;&#x5141;&#x8BB8;&#x5904;&#x7406;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x6211;&#x5F97;&#x7EE7;&#x627F;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E00;&#x4E00;&#x91CD;&#x5199;&#x5176; event() &#x51FD;&#x6570;&#xFF1F;protected &#x51FD;&#x6570;&#x5E26;&#x6765;&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x57FA;&#x4E8E;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#xFF0C;&#x800C;&#x5BF9;&#x65B9;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x94FE;&#x63A5;&#x5E93;&#xFF0C;&#x5176;&#x5B83;&#x90FD;&#x662F;&#x5C01;&#x88C5;&#x597D;&#x7684;&#x3002;&#x6211;&#x600E;&#x4E48;&#x53BB;&#x7EE7;&#x627F;&#x8FD9;&#x79CD;&#x5E93;&#x4E2D;&#x7684;&#x7EC4;&#x4EF6;&#x5462;&#xFF1F;</p>
</li>
<li><p>event() &#x51FD;&#x6570;&#x7684;&#x786E;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x4E0D;&#x8FC7;&#x6709;&#x65F6;&#x5019;&#x6211;&#x7684;&#x9700;&#x6C42;&#x66F4;&#x4E25;&#x683C;&#x4E00;&#x4E9B;&#xFF1A;&#x6211;&#x5E0C;&#x671B;&#x90A3;&#x4E9B;&#x7EC4;&#x4EF6;&#x6839;&#x672C;&#x770B;&#x4E0D;&#x5230;&#x8FD9;&#x79CD;&#x4E8B;&#x4EF6;&#x3002;event() &#x51FD;&#x6570;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x62E6;&#x622A;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x4E5F;&#x662F;&#x63A5;&#x6536;&#x5230;&#x4E86; QMouseEvent &#x5BF9;&#x8C61;&#x3002;&#x6211;&#x8FDE;&#x8BA9;&#x5B83;&#x6536;&#x90FD;&#x6536;&#x4E0D;&#x5230;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x662F;&#xFF0C;&#x6A21;&#x62DF;&#x4E00;&#x79CD;&#x7CFB;&#x7EDF;&#x6839;&#x672C;&#x6CA1;&#x6709;&#x90A3;&#x4E2A;&#x4E8B;&#x4EF6;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5B83;&#x7EC4;&#x4EF6;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x6536;&#x5230;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x65E0;&#x9700;&#x4FEE;&#x6539;&#x81EA;&#x5DF1;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x79CD;&#x9700;&#x6C42;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;</p>
</li>
</ul>
<p>&#x8FD9;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#x662F; event() &#x51FD;&#x6570;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x7684;&#x3002;&#x4E8E;&#x662F;&#xFF0C;Qt &#x63D0;&#x4F9B;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x7ED9;&#x6211;&#x4EEC;&#x4E00;&#x79CD;&#x80FD;&#x529B;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x5B8C;&#x5168;&#x79FB;&#x9664;&#x67D0;&#x79CD;&#x4E8B;&#x4EF6;&#x3002;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x5230;&#x4EFB;&#x610F; QObject &#x7C7B;&#x578B;&#x4E0A;&#x9762;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x591A;&#x4E2A;&#x3002;</p>
<p><strong>&#x5982;&#x679C;&#x8981;&#x5B9E;&#x73B0;&#x5168;&#x5C40;&#x7684;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x5230; QApplication &#x6216;&#x8005; QCoreApplication &#x4E0A;&#x9762;&#x3002;</strong></p>
<p>&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x521A;&#x521A;&#x6211;&#x4EEC;&#x63D0;&#x51FA;&#x7684; event() &#x51FD;&#x6570;&#x7684;&#x4E24;&#x70B9;&#x4E0D;&#x8DB3;&#xFF1A;&#x9996;&#x5148;&#xFF0C;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x4E0D;&#x662F; protected &#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5411;&#x4EFB;&#x4F55; QObject &#x5B50;&#x7C7B;&#x5B89;&#x88C5;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF1B;&#x5176;&#x6B21;&#xFF0C;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x5728;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x63A5;&#x6536;&#x5230;&#x4E8B;&#x4EF6;&#x4E4B;&#x524D;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5C06;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x6389;&#xFF0C;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x89C1;&#x5230;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x3002;</p>
<hr>
<p>&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x4ECB;&#x7ECD;&#x3002;Qt &#x4E8B;&#x4EF6;&#x7684;&#x8C03;&#x7528;&#x6700;&#x7EC8;&#x90FD;&#x4F1A;&#x8FFD;&#x6EAF;&#x5230; QCoreApplication::notify() &#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x63A7;&#x5236;&#x6743;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x91CD;&#x5199; QCoreApplication::notify()&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">virtual</span> <span class="keyword">bool</span> QCoreApplication::notify ( QObject * receiver, QEvent * event );</span><br></pre></td></tr></table></figure>
<p>&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x5C06; event &#x53D1;&#x9001;&#x7ED9; receiver&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8C03;&#x7528; receiver-&gt;event(event)&#xFF0C;&#x5176;&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;&#x6765;&#x81EA; receiver &#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4E3A;&#x4EFB;&#x610F;&#x7EBF;&#x7A0B;&#x7684;&#x4EFB;&#x610F;&#x5BF9;&#x8C61;&#x7684;&#x4EFB;&#x610F;&#x4E8B;&#x4EF6;&#x8C03;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5B83;&#x4E0D;&#x5B58;&#x5728;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4E0D;&#x8FC7;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x63A8;&#x8350;&#x8FD9;&#x4E48;&#x505A;&#xFF0C;&#x56E0;&#x4E3A; notify() &#x51FD;&#x6570;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x800C;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x8981;&#x7075;&#x6D3B;&#x5F97;&#x591A;&#x3002;</p>
<hr>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x603B;&#x7ED3;&#x4E00;&#x4E0B; Qt &#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6709;&#x4E94;&#x4E2A;&#x5C42;&#x6B21;&#xFF1A;</p>
<ul class="ui list">
<li>&#x91CD;&#x5199; paintEvent()&#x3001;mousePressEvent() &#x7B49;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x662F;&#x6700;&#x666E;&#x901A;&#x3001;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x540C;&#x65F6;&#x529F;&#x80FD;&#x4E5F;&#x6700;&#x7B80;&#x5355;&#x3002;</li>
<li>&#x91CD;&#x5199; event() &#x51FD;&#x6570;&#x3002;event() &#x51FD;&#x6570;&#x662F;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x4E8B;&#x4EF6;&#x5165;&#x53E3;&#xFF0C;QObject &#x548C; QWidget &#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x628A;&#x4E8B;&#x4EF6;&#x4F20;&#x9012;&#x7ED9;&#x7279;&#x5B9A;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;</li>
<li>&#x5728;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x4E0A;&#x9762;&#x5B89;&#x88C5;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x8BE5;&#x8FC7;&#x6EE4;&#x5668;&#x4EC5;&#x8FC7;&#x6EE4;&#x8BE5;&#x5BF9;&#x8C61;&#x63A5;&#x6536;&#x5230;&#x7684;&#x4E8B;&#x4EF6;&#x3002;</li>
<li>&#x5728; QCoreApplication::instance() &#x4E0A;&#x9762;&#x5B89;&#x88C5;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x8BE5;&#x8FC7;&#x6EE4;&#x5668;&#x5C06;&#x8FC7;&#x6EE4;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x548C; notify() &#x51FD;&#x6570;&#x4E00;&#x6837;&#x5F3A;&#x5927;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x66F4;&#x7075;&#x6D3B;&#xFF0C;&#x56E0;&#x4E3A;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x5168;&#x5C40;&#x7684;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x53EF;&#x4EE5;&#x770B;&#x5230; disabled &#x7EC4;&#x4EF6;&#x4E0A;&#x9762;&#x53D1;&#x51FA;&#x7684;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;&#x3002;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5668;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x53EA;&#x80FD;&#x7528;&#x5728;&#x4E3B;&#x7EBF;&#x7A0B;&#x3002;</li>
<li>&#x91CD;&#x5199; QCoreApplication::notify() &#x51FD;&#x6570;&#x3002;&#x8FD9;&#x662F;&#x6700;&#x5F3A;&#x5927;&#x7684;&#xFF0C;&#x548C;&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x4E00;&#x6837;&#x63D0;&#x4F9B;&#x5B8C;&#x5168;&#x63A7;&#x5236;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x53D7;&#x7EBF;&#x7A0B;&#x7684;&#x9650;&#x5236;&#x3002;&#x4F46;&#x662F;&#x5168;&#x5C40;&#x8303;&#x56F4;&#x5185;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x88AB;&#x4F7F;&#x7528;&#xFF08;&#x56E0;&#x4E3A; QCoreApplication &#x662F;&#x5355;&#x4F8B;&#x7684;&#xFF09;&#x3002;</li>
</ul>
<p>&#x5173;&#x4E8E;&#x8C03;&#x7528;&#x987A;&#x5E8F;&#x7684;<strong>&#x4F8B;&#x5B50;</strong>&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Label</span> :</span> <span class="keyword">public</span> QWidget</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&#xA0; &#xA0; Label()</span><br><span class="line">&#xA0; &#xA0; {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;installEventFilter(<span class="keyword">this</span>);</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line"> </span><br><span class="line">&#xA0; &#xA0; <span class="function"><span class="keyword">bool</span> <span class="title">eventFilter</span><span class="params">(QObject *watched, QEvent *event)</span></span></span><br><span class="line"><span class="function">&#xA0; &#xA0; </span>{</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (watched == <span class="keyword">this</span>) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">if</span> (event-&gt;type() == QEvent::MouseButtonPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; qDebug() &lt;&lt; <span class="string">&quot;eventFilter&quot;</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line"> </span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">&#xA0; &#xA0; <span class="function"><span class="keyword">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *)</span></span></span><br><span class="line"><span class="function">&#xA0; &#xA0; </span>{</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;qDebug() &lt;&lt; <span class="string">&quot;mousePressEvent&quot;</span>;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line"> </span><br><span class="line">&#xA0; &#xA0; <span class="function"><span class="keyword">bool</span> <span class="title">event</span><span class="params">(QEvent *e)</span></span></span><br><span class="line"><span class="function">&#xA0; &#xA0; </span>{</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (e-&gt;type() == QEvent::MouseButtonPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;qDebug() &lt;&lt; <span class="string">&quot;event&quot;</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">return</span> QWidget::event(e);</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventFilter</span> :</span> <span class="keyword">public</span> QObject</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&#xA0; &#xA0; EventFilter(QObject *watched, QObject *parent = <span class="number">0</span>) :</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;QObject(parent),</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;m_watched(watched)</span><br><span class="line">&#xA0; &#xA0; {</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line"> </span><br><span class="line">&#xA0; &#xA0; <span class="function"><span class="keyword">bool</span> <span class="title">eventFilter</span><span class="params">(QObject *watched, QEvent *event)</span></span></span><br><span class="line"><span class="function">&#xA0; &#xA0; </span>{</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">if</span> (watched == m_watched) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;<span class="keyword">if</span> (event-&gt;type() == QEvent::MouseButtonPress) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; qDebug() &lt;&lt; <span class="string">&quot;QApplication::eventFilter&quot;</span>;</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;}</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">&#xA0; &#xA0; QObject *m_watched;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">&#xA0; &#xA0; <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">&#xA0; &#xA0; Label label;</span><br><span class="line">&#xA0; &#xA0; app.installEventFilter(<span class="keyword">new</span> EventFilter(&amp;label, &amp;label));</span><br><span class="line">&#xA0; &#xA0; label.show();</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x9F20;&#x6807;&#x70B9;&#x51FB;&#x4E4B;&#x540E;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x662F;&#xFF1A;</p>
<p>QApplication::eventFilter eventFilter event mousePressEvent</p>
<p>&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#xFF0C;&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#x88AB;&#x7B2C;&#x4E00;&#x4E2A;&#x8C03;&#x7528;&#xFF0C;&#x4E4B;&#x540E;&#x662F;&#x8BE5;&#x5BF9;&#x8C61;&#x4E0A;&#x9762;&#x7684;&#x4E8B;&#x4EF6;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5176;&#x6B21;&#x662F; event() &#x51FD;&#x6570;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x7279;&#x5B9A;&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;</p>
<h4 id="&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;"><a href="#&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;" class="headerlink" title="&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;"></a>&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;</h4><p>(&#x5F85;&#x5B9E;&#x8DF5;)</p>
<p>Qt &#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x9700;&#x8981;&#x7EE7;&#x627F;&#x7684;&#x7C7B;&#x662F; QEvent&#x3002;</p>
<p><strong>&#x7EE7;&#x627F; QEvent &#x7C7B;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x662F;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A; QEvent::Type &#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4F5C;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x7684;&#x7C7B;&#x578B;&#x503C;&#x3002;</strong>&#x56DE;&#x5FC6;&#x4E00;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E2A; type &#x662F;&#x6211;&#x4EEC;&#x5728;&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x65F6;&#x7528;&#x4E8E;&#x8BC6;&#x522B;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#x7684;&#x4EE3;&#x53F7;&#x3002;&#x6BD4;&#x5982;&#x5728; event() &#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; QEvent::type() &#x83B7;&#x5F97;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x4E0E;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x7684;&#x5B9E;&#x9645;&#x7C7B;&#x578B;&#x5BF9;&#x6BD4;&#x3002;</p>
<p><strong>QEvent::Type &#x662F; QEvent &#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x4E2A;&#x679A;&#x4E3E;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x4E00;&#x4E2A; int &#x503C;&#x3002;</strong>&#x4F46;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;&#x4E0D;&#x80FD;&#x548C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684; type &#x503C;&#x91CD;&#x590D;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x6709;&#x4E0D;&#x53EF;&#x9884;&#x6599;&#x7684;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x3002;&#x56E0;&#x4E3A;&#x7CFB;&#x7EDF;&#x4F1A;&#x5C06;&#x4F60;&#x65B0;&#x589E;&#x52A0;&#x7684;&#x4E8B;&#x4EF6;&#x5F53;&#x505A;&#x7CFB;&#x7EDF;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x6D3E;&#x53D1;&#x548C;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x5728; Qt &#x4E2D;&#xFF0C;&#x7CFB;&#x7EDF;&#x4FDD;&#x7559; 0 &#x2013; 999 &#x7684;&#x503C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4F60;&#x7684;&#x4E8B;&#x4EF6; type &#x8981;&#x5927;&#x4E8E; 999&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x6570;&#x503C;&#x5F53;&#x7136;&#x975E;&#x5E38;&#x96BE;&#x8BB0;&#xFF0C;&#x6240;&#x4EE5; <strong>Qt &#x5B9A;&#x4E49;&#x4E86;&#x4E24;&#x4E2A;&#x8FB9;&#x754C;&#x503C;&#xFF1A;QEvent::User &#x548C; QEvent::MaxUser</strong>&#x3002;&#x6211;&#x4EEC;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x7684; type &#x5E94;&#x8BE5;&#x5728;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x7684;&#x8303;&#x56F4;&#x4E4B;&#x95F4;&#x3002;&#x5176;&#x4E2D;&#xFF0C;QEvent::User &#x7684;&#x503C;&#x662F; 1000&#xFF0C;QEvent::MaxUser &#x7684;&#x503C;&#x662F; 65535&#x3002;</p>
<p>&#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x6837;&#x5E76;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x76F8;&#x4E92;&#x4E4B;&#x95F4;&#x4E0D;&#x4F1A;&#x88AB;&#x8986;&#x76D6;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;Qt &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;registerEventType()&#xFF0C;&#x7528;&#x4E8E;<strong>&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x7684;&#x6CE8;&#x518C;</strong>&#x3002;&#x8BE5;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> QEvent::registerEventType( <span class="keyword">int</span> hint = <span class="number">-1</span> );</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x662F; static &#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; QEvent &#x7C7B;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x3002;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E00;&#x4E2A; int &#x503C;&#xFF0C;&#x5176;&#x9ED8;&#x8BA4;&#x503C;&#x662F; -1&#xFF1B;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x5411;&#x7CFB;&#x7EDF;&#x6CE8;&#x518C;&#x7684;&#x65B0;&#x7684; Type &#x7C7B;&#x578B;&#x7684;&#x503C;&#x3002;&#x5982;&#x679C; hint &#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x8986;&#x76D6;&#xFF0C;&#x5219;&#x4F1A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x503C;&#xFF1B;&#x5426;&#x5219;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x81EA;&#x52A8;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x5408;&#x6CD5;&#x503C;&#x5E76;&#x8FD4;&#x56DE;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5373;&#x53EF;&#x5B8C;&#x6210; type &#x503C;&#x7684;&#x6307;&#x5B9A;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x4E0D;&#x5FC5;&#x53E6;&#x5916;&#x6DFB;&#x52A0;&#x540C;&#x6B65;&#x3002;</p>
<hr>
<p>&#x53EF;&#x4EE5;&#x5728; QEvent &#x5B50;&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x81EA;&#x5DF1;&#x7684;&#x4E8B;&#x4EF6;&#x6240;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x9001;&#x3002;Qt &#x4E2D;&#x63D0;&#x4F9B;&#x4E86;<strong>&#x4E24;&#x79CD;&#x4E8B;&#x4EF6;&#x53D1;&#x9001;&#x65B9;&#x5F0F;</strong>&#xFF1A;</p>
<ol class="ui list">
<li><p>&#x76F4;&#x63A5;&#x5C06; event &#x4E8B;&#x4EF6;&#x53D1;&#x9001;&#x7ED9; receiver &#x63A5;&#x53D7;&#x8005;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F; QCoreApplication::notify() &#x51FD;&#x6570;&#x3002;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x5C31;&#x662F;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x5728;&#x4E8B;&#x4EF6;&#x88AB;&#x53D1;&#x9001;&#x7684;&#x65F6;&#x5019;&#xFF0C;event &#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x6808;&#x4E0A;&#x521B;&#x5EFA; event &#x5BF9;&#x8C61;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">bool</span> QCoreApplication::sendEvent(QObject *receiver,</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0; QEvent *event);</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QMouseEvent <span class="title">event</span><span class="params">(QEvent::MouseButtonPress, pos, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">QApplication::sendEvent(mainWindow, &amp;event);</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5C06; event &#x4E8B;&#x4EF6;&#x53CA;&#x5176;&#x63A5;&#x53D7;&#x8005; receiver &#x4E00;&#x540C;&#x8FFD;&#x52A0;&#x5230;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> QCoreApplication::postEvent(QObject *receiver,</span><br><span class="line">                                        QEvent *event);</span><br></pre></td></tr></table></figure>
<p>&#x56E0;&#x4E3A; post &#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4F1A;&#x6301;&#x6709;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5176; post &#x7684;&#x65F6;&#x5019;&#x5C06;&#x5176; delete &#x6389;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;<strong>&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5728;&#x5806;&#x4E0A;&#x521B;&#x5EFA; event &#x5BF9;&#x8C61;</strong>&#x3002;&#x5F53;&#x5BF9;&#x8C61;&#x88AB;&#x53D1;&#x9001;&#x4E4B;&#x540E;&#xFF0C;&#x518D;&#x8BD5;&#x56FE;&#x8BBF;&#x95EE; event &#x5BF9;&#x8C61;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x5F53;&#x63A7;&#x5236;&#x6743;&#x8FD4;&#x56DE;&#x5230;&#x4E3B;&#x7EBF;&#x7A0B;&#x5FAA;&#x73AF;&#x662F;&#xFF0C;&#x4FDD;&#x5B58;&#x5728;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x90FD;&#x901A;&#x8FC7; notify() &#x51FD;&#x6570;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002;</p>
<p>&#x4E8B;&#x4EF6;&#x4F1A;&#x6839;&#x636E; post &#x7684;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x6539;&#x53D8;&#x4E8B;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x987A;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4E3A;&#x5176;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x3002;&#x9ED8;&#x8BA4;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x662F; Qt::NormalEventPriority&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x3002;</p>
</li>
<li><p>Qt &#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> QCoreApplication::sendPostedEvents(QObject *receiver,</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">int</span> event_type);</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x5C06;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x63A5;&#x53D7;&#x8005;&#x4E3A; receiver&#xFF0C;&#x4E8B;&#x4EF6;&#x7C7B;&#x4F3C;&#x4E3A; event_type &#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x7ACB;&#x5373;&#x53D1;&#x9001;&#x7ED9; receiver &#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x6765;&#x81EA;&#x7A97;&#x53E3;&#x7CFB;&#x7EDF;&#x7684;&#x4E8B;&#x4EF6;&#x5E76;&#x4E0D;&#x7531;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x662F; processEvent()&#x3002;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x8BF7;&#x53C2;&#x8003; Qt API &#x624B;&#x518C;&#x3002;</p>
</li>
</ol>
<hr>
<p>&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x80FD;&#x591F;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#xFF0C;&#x5DF2;&#x7ECF;&#x80FD;&#x591F;&#x5C06;&#x4E8B;&#x4EF6;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#xFF0C;&#x8FD8;&#x5269;&#x4E0B;&#x6700;&#x540E;&#x4E00;&#x6B65;&#xFF1A;<strong>&#x5904;&#x7406;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;</strong>&#x3002;&#x540C;&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x7684;&#x90A3;&#x4E9B;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91CD;&#x5199; QObject::customEvent() &#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x4E00;&#x4E2A; QEvent &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> QObject::customEvent(QEvent *event);</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8F6C;&#x6362; event &#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x6765;&#x5224;&#x65AD;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x4EF6;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> CustomWidget::customEvent(QEvent *event) {</span><br><span class="line">&#xA0; &#xA0; CustomEvent *customEvent = <span class="keyword">static_cast</span>&lt;CustomEvent *&gt;(event);</span><br><span class="line">&#xA0; &#xA0; <span class="comment">// ...</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; event() &#x51FD;&#x6570;&#x4E2D;&#x76F4;&#x63A5;&#x5904;&#x7406;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> CustomWidget::event(QEvent *event) {</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">if</span> (event-&gt;type() == MyCustomEventType) {</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;CustomEvent *myEvent = <span class="keyword">static_cast</span>&lt;CustomEvent *&gt;(event);</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="comment">// processing...</span></span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#xA0; &#xA0; }</span><br><span class="line">&#xA0; &#xA0; <span class="keyword">return</span> QWidget::event(event);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;"><a href="#&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;" class="headerlink" title="&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;"></a>&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;</h3><p>Qt &#x7684;&#x7ED8;&#x56FE;&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684; API &#x5728;&#x5C4F;&#x5E55;&#x548C;&#x5176;&#x5B83;&#x6253;&#x5370;&#x8BBE;&#x5907;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x6574;&#x4E2A;&#x7ED8;&#x56FE;&#x7CFB;&#x7EDF;&#x57FA;&#x4E8E; QPainter&#xFF0C;QPainterDevice &#x548C; QPaintEngine &#x4E09;&#x4E2A;&#x7C7B;&#x3002;</p>
<ul class="ui list">
<li><p>QPainter &#x7528;&#x6765;&#x6267;&#x884C;&#x7ED8;&#x5236;&#x7684;&#x64CD;&#x4F5C;&#xFF1B;</p>
</li>
<li><p>QPaintDevice &#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x7EF4;&#x7A7A;&#x95F4;&#x7684;&#x62BD;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8C;&#x7EF4;&#x7A7A;&#x95F4;&#x5141;&#x8BB8; QPainter &#x5728;&#x5176;&#x4E0A;&#x9762;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; QPainter &#x5DE5;&#x4F5C;&#x7684;&#x7A7A;&#x95F4;&#xFF1B;</p>
</li>
<li><p>QPaintEngine &#x63D0;&#x4F9B;&#x4E86;&#x753B;&#x7B14;&#xFF08;QPainter&#xFF09;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x7684;&#x7EDF;&#x4E00;&#x7684;&#x63A5;&#x53E3;&#x3002;QPaintEngine &#x7C7B;&#x5E94;&#x7528;&#x4E8E; QPainter &#x548C; QPaintDevice &#x4E4B;&#x95F4;&#xFF0C;&#x901A;&#x5E38;&#x5BF9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x662F;&#x900F;&#x660E;&#x7684;&#x3002;&#x9664;&#x975E;&#x4F60;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#xFF0C;&#x5426;&#x5219;&#x4F60;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x5173;&#x5FC3; QPaintEngine &#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x3002;</p>
</li>
</ul>
<p><strong>Qt &#x7684;&#x7ED8;&#x56FE;&#x7CFB;&#x7EDF;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#xFF0C;&#x4F7F;&#x7528; QPainter &#x5728; QPainterDevice &#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x4F7F;&#x7528; QPaintEngine &#x8FDB;&#x884C;&#x901A;&#x8BAF;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x7FFB;&#x8BD1; QPainter &#x7684;&#x6307;&#x4EE4;&#xFF09;&#x3002;</strong></p>
<p>&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x6765;&#x4ECB;&#x7ECD; QPainter &#x7684;&#x4F7F;&#x7528;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//paintedwidget.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PaintedWidget</span> :</span> <span class="keyword">public</span> QWidget</span><br><span class="line">{</span><br><span class="line">&#xA0; &#xA0; Q_OBJECT</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&#xA0; &#xA0; PaintedWidget(QWidget *parent = <span class="number">0</span>);</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">&#xA0; &#xA0; <span class="function"><span class="keyword">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *)</span></span>;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="comment">//paintedwidget.cpp</span></span><br><span class="line">PaintedWidget::PaintedWidget(QWidget *parent) :</span><br><span class="line">    QWidget(parent)</span><br><span class="line">{</span><br><span class="line">    resize(<span class="number">800</span>, <span class="number">600</span>);</span><br><span class="line">    setWindowTitle(tr(<span class="string">&quot;Paint Demo&quot;</span>));</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> PaintedWidget::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.drawLine(<span class="number">80</span>, <span class="number">100</span>, <span class="number">650</span>, <span class="number">500</span>);</span><br><span class="line">    painter.setPen(Qt::red);</span><br><span class="line">    painter.drawRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">400</span>);</span><br><span class="line">    painter.setPen(QPen(Qt::green, <span class="number">5</span>));</span><br><span class="line">    painter.setBrush(Qt::blue);</span><br><span class="line">    painter.drawEllipse(<span class="number">50</span>, <span class="number">150</span>, <span class="number">400</span>, <span class="number">200</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//main.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    PaintedWidget pa;</span><br><span class="line">    pa.show();</span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>&#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x91CD;&#x5199;&#x4E86; QWidget &#x7684; paintEvent() &#x51FD;&#x6570;&#x3002;&#x8FD9;&#x6216;&#x8BB8;&#x662F;&#x6211;&#x4EEC;&#x5728;&#x7406;&#x89E3;&#x4E86; Qt &#x4E8B;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E4B;&#x540E;&#x9996;&#x6B21;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x3002;</p>
</li>
<li><p>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x6808;&#x4E0A;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A; QPainter &#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6BCF;&#x6B21;&#x8FD0;&#x884C; paintEvent() &#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x4F1A;&#x91CD;&#x5EFA;&#x8FD9;&#x4E2A; QPainter &#x5BF9;&#x8C61;&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x6BCF;&#x6B21;&#x91CD;&#x5EFA; QPainter&#xFF0C;&#x56E0;&#x6B64;&#x7B2C;&#x4E00;&#x6B21;&#x8FD0;&#x884C;&#x65F6;&#x6240;&#x8BBE;&#x7F6E;&#x7684;&#x753B;&#x7B14;&#x989C;&#x8272;&#x3001;&#x72B6;&#x6001;&#x7B49;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x518D;&#x8FDB;&#x5165;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x65F6;&#x5C31;&#x4F1A;&#x5168;&#x90E8;&#x4E22;&#x5931;&#x3002;&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4FDD;&#x5B58;&#x753B;&#x7B14;&#x72B6;&#x6001;&#xFF0C;&#x5C31;&#x5FC5;&#x987B;&#x81EA;&#x5DF1;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x8005;&#x5C06; QPainter &#x4F5C;&#x4E3A;&#x7C7B;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x3002;</p>
</li>
<li><p>QPainter &#x63A5;&#x6536;&#x4E00;&#x4E2A; QPaintDevice &#x6307;&#x9488;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;QPaintDevice &#x6709;&#x5F88;&#x591A;&#x5B50;&#x7C7B;&#xFF0C;&#x6BD4;&#x5982; QWidget&#x3001;QPixmap&#x3001;QPicture&#x3001;QImage&#x3001;QPrinter &#x7B49;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x753B;&#x5728;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x4F20;&#x5165;&#x7684;&#x662F; this &#x6307;&#x9488;&#x3002;</p>
</li>
<li><p>QPainter &#x6709;&#x5F88;&#x591A;&#x4EE5; draw &#x5F00;&#x5934;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x5404;&#x79CD;&#x56FE;&#x5F62;&#x7684;&#x7ED8;&#x5236;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x7684; drawLine()&#xFF0C;drawRect() &#x4EE5;&#x53CA; drawEllipse() &#x7B49;&#x3002;</p>
<p>&#x200B;    &#x5F53;&#x7ED8;&#x5236;&#x8F6E;&#x5ED3;&#x7EBF;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; QPainter &#x7684; pen() &#x5C5E;&#x6027;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x8C03;&#x7528;&#x4E86; painter.setPen(Qt::red) &#x5C06; pen &#x8BBE;&#x7F6E;&#x4E3A;&#x7EA2;&#x8272;&#xFF0C;&#x5219;&#x4E0B;&#x9762;&#x7ED8;&#x5236;&#x7684;&#x77E9;&#x5F62;&#x5177;&#x6709;&#x7EA2;&#x8272;&#x7684;&#x8F6E;&#x5ED3;&#x7EBF;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5C06; pen &#x4FEE;&#x6539;&#x4E3A;&#x7EFF;&#x8272;&#xFF0C;5 &#x50CF;&#x7D20;&#x5BBD;(painter.setPen(QPen(Qt::green, 5))&#xFF09;&#xFF0C;&#x53C8;&#x8BBE;&#x7F6E;&#x4E86;&#x753B;&#x5237;&#x4E3A;&#x84DD;&#x8272;&#x3002;&#x8FD9;&#x65F6;&#x5019;&#x518D;&#x8C03;&#x7528; draw &#x51FD;&#x6570;&#xFF0C;&#x5219;&#x662F;&#x5177;&#x6709;&#x7EFF;&#x8272; 5 &#x50CF;&#x7D20;&#x5BBD;&#x8F6E;&#x5ED3;&#x7EBF;&#x3001;&#x84DD;&#x8272;&#x586B;&#x5145;&#x7684;&#x692D;&#x5706;&#x3002;</p>
</li>
<li><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x76F4;&#x7EBF;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x7ED8;&#x5236;&#xFF0C;&#x4F4D;&#x4E8E;&#x6700;&#x4E0B;&#x4E00;&#x5C42;&#xFF1B;&#x77E9;&#x5F62;&#x662F;&#x7B2C;&#x4E8C;&#x4E2A;&#x7ED8;&#x5236;&#xFF0C;&#x5728;&#x4E2D;&#x95F4;&#x4E00;&#x5C42;&#xFF1B;&#x692D;&#x5706;&#x662F;&#x6700;&#x540E;&#x7ED8;&#x5236;&#xFF0C;&#x5728;&#x6700;&#x4E0A;&#x5C42;&#x3002;</p>
</li>
</ul>
<p>&#x5982;&#x679C;&#x4E86;&#x89E3; OpenGL&#xFF0C;&#x80AF;&#x5B9A;&#x542C;&#x8BF4;&#x8FC7;&#x8FD9;&#x4E48;&#x4E00;&#x53E5;&#x8BDD;&#xFF1A;OpenGL &#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#x3002;&#x6240;&#x8C13;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;OpenGL &#x4FDD;&#x5B58;&#x7684;&#x53EA;&#x662F;&#x5404;&#x79CD;&#x72B6;&#x6001;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5C06;&#x753B;&#x7B14;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x6210;&#x7EA2;&#x8272;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x53E6;&#x5916;&#x7684;&#x989C;&#x8272;&#xFF0C;&#x5B83;&#x7684;&#x989C;&#x8272;&#x4F1A;&#x4E00;&#x76F4;&#x662F;&#x7EA2;&#x8272;&#x3002;QPainter &#x4E5F;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x5B83;&#x7684;&#x72B6;&#x6001;&#x4E0D;&#x4F1A;&#x81EA;&#x5DF1;&#x6062;&#x590D;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x4F7F;&#x7528;&#x4E86;&#x5404;&#x79CD;&#x8BBE;&#x7F6E;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x6B63;&#x56E0;&#x4E3A; QPainter &#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x624D;&#x4F1A;&#x5F15;&#x51FA;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x66FE;&#x7ECF;&#x4ECB;&#x7ECD;&#x8FC7;&#x7684;&#x4E00;&#x4E2A;&#x7EC6;&#x8282;&#x95EE;&#x9898;&#xFF1A;&#x7531;&#x4E8E; paintEvent() &#x662F;&#x9700;&#x8981;&#x91CD;&#x590D;&#x8FDB;&#x5165;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7B2C;&#x4E8C;&#x6B21;&#x8FDB;&#x5165;&#x65F6;&#xFF0C;QPainter &#x7684;&#x72B6;&#x6001;&#x662F;&#x4E0D;&#x662F;&#x548C;&#x7B2C;&#x4E00;&#x6B21;&#x4E00;&#x81F4;&#xFF0C;&#x5426;&#x5219;&#x7684;&#x8BDD;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x95EA;&#x70C1;&#x7684;&#x73B0;&#x8C61;&#x3002;&#x8FD9;&#x4E2A;&#x95EA;&#x70C1;&#x5E76;&#x4E0D;&#x662F;&#x7531;&#x4E8E;&#x53CC;&#x7F13;&#x51B2;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x800C;&#x662F;&#x7531;&#x4E8E;&#x7ED8;&#x5236;&#x72B6;&#x6001;&#x7684;&#x5FEB;&#x901F;&#x5207;&#x6362;&#x3002;</p>
<h4 id="&#x753B;&#x5237;&#x548C;&#x753B;&#x7B14;"><a href="#&#x753B;&#x5237;&#x548C;&#x753B;&#x7B14;" class="headerlink" title="&#x753B;&#x5237;&#x548C;&#x753B;&#x7B14;"></a>&#x753B;&#x5237;&#x548C;&#x753B;&#x7B14;</h4><p>QPen &#x548C; QBrush</p>
<p><strong>QBrush</strong> &#x5B9A;&#x4E49;&#x4E86; QPainter &#x7684;&#x586B;&#x5145;&#x6A21;&#x5F0F;&#xFF0C;&#x5177;&#x6709;&#x6837;&#x5F0F;&#x3001;&#x989C;&#x8272;&#x3001;&#x6E10;&#x53D8;&#x4EE5;&#x53CA;&#x7EB9;&#x7406;&#x7B49;&#x5C5E;&#x6027;&#x3002;</p>
<ul class="ui list">
<li><p>&#x753B;&#x5237;&#x7684; style() &#x5B9A;&#x4E49;&#x4E86;&#x586B;&#x5145;&#x7684;<strong>&#x6837;&#x5F0F;</strong>&#xFF0C;&#x4F7F;&#x7528; Qt::BrushStyle &#x679A;&#x4E3E;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x662F; Qt::NoBrush&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x586B;&#x5145;&#x3002;</p>
<p><a class="magnific-img" href="Picture/brush-fill-pattern.png"><img src="Picture/brush-fill-pattern.png" alt="brush-fill-pattern" class="ui centered image"></a></p>
</li>
<li><p>&#x753B;&#x5237;&#x7684; color() &#x5B9A;&#x4E49;&#x4E86;&#x586B;&#x5145;&#x6A21;&#x5F0F;&#x7684;<strong>&#x989C;&#x8272;</strong>&#x3002;&#x8FD9;&#x4E2A;&#x989C;&#x8272;&#x53EF;&#x4EE5;&#x662F; Qt &#x9884;&#x5B9A;&#x4E49;&#x7684;&#x989C;&#x8272;&#x5E38;&#x91CF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; Qt::GlobalColor&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F; QColor &#x5BF9;&#x8C61;&#x3002;</p>
</li>
<li><p>&#x753B;&#x5237;&#x7684; gradient() &#x5B9A;&#x4E49;&#x4E86;<strong>&#x6E10;&#x53D8;</strong>&#x586B;&#x5145;&#x3002;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x53EA;&#x6709;&#x5728;<em>&#x6837;&#x5F0F;</em>&#x662F; Qt::LinearGradientPattern&#x3001;Qt::RadialGradientPattern &#x6216;&#x8005; Qt::ConicalGradientPattern &#x4E4B;&#x4E00;&#x65F6;&#x624D;&#x6709;&#x6548;&#x3002;&#x6E10;&#x53D8;&#x53EF;&#x4EE5;&#x7531; QGradient &#x5BF9;&#x8C61;&#x8868;&#x793A;&#x3002;Qt &#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x79CD;&#x6E10;&#x53D8;&#xFF1A;QLinearGradient&#x3001;QConicalGradient &#x548C; QRadialGradient&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x662F; QGradient &#x7684;&#x5B50;&#x7C7B;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x6765;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6E10;&#x53D8;&#x7684;&#x753B;&#x5237;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QRadialGradient <span class="title">gradient</span><span class="params">(<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>)</span></span>;</span><br><span class="line">gradient.setColorAt(<span class="number">0</span>, QColor::fromRgbF(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line">gradient.setColorAt(<span class="number">1</span>, QColor::fromRgbF(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line"><span class="function">QBrush <span class="title">brush</span><span class="params">(gradient)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5F53;&#x753B;&#x5237;&#x6837;&#x5F0F;&#x662F; Qt::TexturePattern &#x65F6;&#xFF0C;texture() &#x5B9A;&#x4E49;&#x4E86;&#x7528;&#x4E8E;&#x586B;&#x5145;&#x7684;<strong>&#x7EB9;&#x7406;</strong>&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x5373;&#x4F7F;&#x4F60;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;&#x4E3A; Qt::TexturePattern&#xFF0C;&#x5F53;&#x4F60;&#x8C03;&#x7528; setTexture() &#x51FD;&#x6570;&#x65F6;&#xFF0C;QBrush &#x4F1A;&#x81EA;&#x52A8;&#x5C06; style() &#x8BBE;&#x7F6E;&#x4E3A; Qt::TexturePattern&#x3002;</p>
</li>
</ul>
<hr>
<p><strong>QPen</strong> &#x5B9A;&#x4E49;&#x4E86;&#x7528;&#x4E8E; QPainter &#x5E94;&#x8BE5;&#x600E;&#x6837;&#x753B;&#x7EBF;&#x6216;&#x8005;&#x8F6E;&#x5ED3;&#x7EBF;&#x3002;&#x5177;&#x6709;&#x6837;&#x5F0F;&#x3001;&#x5BBD;&#x5EA6;&#x3001;&#x753B;&#x5237;&#x3001;&#x7B14;&#x5E3D;&#x6837;&#x5F0F;&#x548C;&#x8FDE;&#x63A5;&#x6837;&#x5F0F;&#x7B49;&#x5C5E;&#x6027;&#x3002;</p>
<ul class="ui list">
<li><p><strong>&#x753B;&#x7B14;&#x6837;&#x5F0F;</strong> style() &#x5B9A;&#x4E49;&#x4E86;&#x7EBF;&#x7684;&#x6837;&#x5F0F;&#x3002;</p>
<p><a class="magnific-img" href="Picture/pen-style.png"><img src="Picture/pen-style.png" alt="pen-style" class="ui centered image"></a></p>
</li>
<li><p><strong>&#x753B;&#x7B14;&#x5BBD;&#x5EA6;</strong> width() &#x6216; widthF() &#x5B9A;&#x4E49;&#x4E86;&#x753B;&#x7B14;&#x7684;&#x5BBD;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5BBD;&#x5EA6;&#x4E3A; 0 &#x7684;&#x7EBF;&#x3002;&#x5047;&#x8BBE;&#x4F60;&#x8BBE;&#x7F6E; width &#x4E3A; 0&#xFF0C;QPainter &#x4F9D;&#x7136;&#x4F1A;&#x7ED8;&#x5236;&#x51FA;&#x4E00;&#x6761;&#x7EBF;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x7EBF;&#x7684;&#x5BBD;&#x5EA6;&#x4E3A; 1 &#x50CF;&#x7D20;&#x3002;</p>
</li>
<li><p><strong>&#x753B;&#x5237;</strong> brush() &#x7528;&#x4E8E;&#x586B;&#x5145;&#x753B;&#x7B14;&#x6240;&#x7ED8;&#x5236;&#x7684;&#x7EBF;&#x6761;&#x3002;</p>
</li>
<li><p><strong>&#x7B14;&#x5E3D;&#x6837;&#x5F0F;</strong> capStyle() &#x5B9A;&#x4E49;&#x4E86;&#x4F7F;&#x7528; QPainter &#x7ED8;&#x5236;&#x7684;&#x7EBF;&#x7684;&#x672B;&#x7AEF;&#x3002;</p>
<p><a class="magnific-img" href="Picture/cap-style-2.png"><img src="Picture/cap-style-2.png" alt="cap-style-2" class="ui centered image"></a></p>
</li>
<li><p><strong>&#x8FDE;&#x63A5;&#x6837;&#x5F0F;</strong> joinStyle() &#x5B9A;&#x4E49;&#x4E86;&#x4E24;&#x6761;&#x7EBF;&#x5982;&#x4F55;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x3002;</p>
<p><a class="magnific-img" href="Picture/join-style-2.png"><img src="Picture/join-style-2.png" alt="join-style-2" class="ui centered image"></a></p>
</li>
</ul>
<p>&#x9ED8;&#x8BA4;&#x7684;&#x753B;&#x7B14;&#x5C5E;&#x6027;&#x662F;&#x7EAF;&#x9ED1;&#x8272;&#xFF0C;0 &#x50CF;&#x7D20;&#xFF0C;&#x65B9;&#x5F62;&#x7B14;&#x5E3D;&#xFF08;Qt::SquareCap&#xFF09;&#xFF0C;&#x659C;&#x9762;&#x578B;&#x8FDE;&#x63A5;&#xFF08;Qt::BevelJoin&#xFF09;&#x3002;</p>
<p>&#x8FD9;&#x4E48;&#x591A;&#x53C2;&#x6570;&#x65E2;&#x53EF;&#x4EE5;&#x5728;&#x6784;&#x9020;&#x65F6;&#x6307;&#x5B9A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; set &#x51FD;&#x6570;&#x6307;&#x5B9A;&#xFF0C;&#x5B8C;&#x5168;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x7684;&#x4E60;&#x60EF;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line"><span class="function">QPen <span class="title">pen</span><span class="params">(Qt::green, <span class="number">3</span>, Qt::DashDotLine, Qt::RoundCap, Qt::RoundJoin)</span></span>;</span><br><span class="line">painter.setPen(pen);</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">QPen pen;&#xA0;&#xA0;<span class="comment">// creates a default pen</span></span><br><span class="line"></span><br><span class="line">pen.setStyle(Qt::DashDotLine);</span><br><span class="line">pen.setWidth(<span class="number">3</span>);</span><br><span class="line">pen.setBrush(Qt::green);</span><br><span class="line">pen.setCapStyle(Qt::RoundCap);</span><br><span class="line">pen.setJoinStyle(Qt::RoundJoin);</span><br><span class="line"></span><br><span class="line">painter.setPen(pen);</span><br></pre></td></tr></table></figure>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; setDashPattern() &#x51FD;&#x6570;&#x81EA;&#x5B9A;&#x4E49;&#x6837;&#x5F0F;&#x3002;setDashPattern() &#x51FD;&#x6570;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x5076;&#x6570;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#xFF0C;&#x5947;&#x6570;&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#x4EE3;&#x8868;&#x7EBF;&#x6BB5;&#x957F;&#x5EA6;&#xFF1B;&#x5076;&#x6570;&#x4F4D;&#x7F6E;&#x7684;&#x5143;&#x7D20;&#x4EE3;&#x8868;&#x95F4;&#x9694;&#x957F;&#x5EA6;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">QPen pen;</span><br><span class="line">QVector&lt;qreal&gt; dashes;</span><br><span class="line">qreal space = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">dashes &lt;&lt; <span class="number">1</span> &lt;&lt; space &lt;&lt; <span class="number">3</span> &lt;&lt; space &lt;&lt; <span class="number">9</span> &lt;&lt; space</span><br><span class="line">&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&lt;&lt; <span class="number">27</span> &lt;&lt; space &lt;&lt; <span class="number">9</span> &lt;&lt; space;</span><br><span class="line"> </span><br><span class="line">pen.setDashPattern(dashes);</span><br><span class="line">painter.setPen(pen);</span><br></pre></td></tr></table></figure>
<p>&#x6548;&#x679C;&#x5982;&#x56FE;&#x6240;&#x793A;&#xFF1A;<a class="magnific-img" href="Picture/dash_pattern.jpg"><img src="Picture/dash_pattern.jpg" alt="dash_pattern" class="ui centered image"></a></p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x8BF4;&#x4E86;&#xFF0C;QPainter &#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x90FD;&#x662F;&#x5904;&#x4E8E;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#x4E4B;&#x4E2D;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x8BB0;&#x5F97;&#x662F;&#x5426;&#x8981;&#x5C06;&#x5176;&#x4FDD;&#x5B58;&#x4E0B;&#x6765;&#x6216;&#x8005;&#x662F;&#x91CD;&#x65B0;&#x6784;&#x5EFA;&#x3002;</p>
<h4 id="&#x53CD;&#x8D70;&#x6837;"><a href="#&#x53CD;&#x8D70;&#x6837;" class="headerlink" title="&#x53CD;&#x8D70;&#x6837;"></a>&#x53CD;&#x8D70;&#x6837;</h4><p>&#x6211;&#x4EEC;&#x5728;&#x5149;&#x6805;&#x56FE;&#x5F62;&#x663E;&#x793A;&#x5668;&#x4E0A;&#x7ED8;&#x5236;&#x975E;&#x6C34;&#x5E73;&#x3001;&#x975E;&#x5782;&#x76F4;&#x7684;&#x76F4;&#x7EBF;&#x6216;&#x591A;&#x8FB9;&#x5F62;&#x8FB9;&#x754C;&#x65F6;&#xFF0C;&#x6216;&#x591A;&#x6216;&#x5C11;&#x4F1A;&#x5448;&#x73B0;&#x952F;&#x9F7F;&#x72B6;&#x5916;&#x89C2;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x76F4;&#x7EBF;&#x548C;&#x591A;&#x8FB9;&#x5F62;&#x7684;&#x8FB9;&#x754C;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#xFF0C;&#x800C;&#x5149;&#x6805;&#x5219;&#x662F;&#x7531;&#x79BB;&#x6563;&#x7684;&#x70B9;&#x7EC4;&#x6210;&#x3002;&#x5728;&#x5149;&#x6805;&#x663E;&#x793A;&#x8BBE;&#x5907;&#x4E0A;&#x8868;&#x73B0;&#x76F4;&#x7EBF;&#x3001;&#x591A;&#x8FB9;&#x5F62;&#x7B49;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x79BB;&#x6563;&#x4F4D;&#x7F6E;&#x91C7;&#x6837;&#x3002;&#x7531;&#x4E8E;&#x91C7;&#x6837;&#x4E0D;&#x5145;&#x5206;&#x91CD;&#x5EFA;&#x540E;&#x9020;&#x6210;&#x7684;&#x4FE1;&#x606F;&#x5931;&#x771F;&#xFF0C;&#x5C31;&#x53EB;&#x8D70;&#x6837;&#xFF1B;&#x7528;&#x4E8E;&#x51CF;&#x5C11;&#x6216;&#x6D88;&#x9664;&#x8FD9;&#x79CD;&#x6548;&#x679C;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5C31;&#x79F0;&#x4E3A;&#x53CD;&#x8D70;&#x6837;&#x3002;</p>
<p>&#x53CD;&#x8D70;&#x6837;&#x662F;&#x56FE;&#x5F62;&#x5B66;&#x4E2D;&#x7684;&#x91CD;&#x8981;&#x6982;&#x5FF5;&#xFF0C;&#x7528;&#x4EE5;&#x9632;&#x6B62;&#x901A;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x952F;&#x9F7F;&#x201D;&#x73B0;&#x8C61;&#x7684;&#x51FA;&#x73B0;&#x3002;&#x5F88;&#x591A;&#x7CFB;&#x7EDF;&#x7684;&#x7ED8;&#x56FE; API &#x91CC;&#x9762;&#x90FD;&#x5185;&#x7F6E;&#x4E86;&#x6709;&#x5173;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x4E0D;&#x8FC7;&#x7531;&#x4E8E;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E00;&#x822C;&#x662F;&#x5173;&#x95ED;&#x7684;&#xFF0C;Qt &#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintedWidget::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.setPen(QPen(Qt::black, <span class="number">5</span>, Qt::DashDotLine, Qt::RoundCap));</span><br><span class="line">    painter.setBrush(Qt::yellow);</span><br><span class="line">    painter.drawEllipse(<span class="number">50</span>, <span class="number">150</span>, <span class="number">200</span>, <span class="number">150</span>);</span><br><span class="line"></span><br><span class="line">    painter.setRenderHint(QPainter::Antialiasing, <span class="literal">true</span>);</span><br><span class="line">    painter.setPen(QPen(Qt::black, <span class="number">5</span>, Qt::DashDotLine, Qt::RoundCap));</span><br><span class="line">    painter.setBrush(Qt::yellow);</span><br><span class="line">    painter.drawEllipse(<span class="number">300</span>, <span class="number">150</span>, <span class="number">200</span>, <span class="number">150</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><a class="magnific-img" href="Picture/qt-antialiasing.png"><img src="Picture/qt-antialiasing.png" alt="qt-antialiasing" class="ui centered image"></a></p>
<p>&#x7B2C;&#x4E8C;&#x4E2A;&#x692D;&#x5706;&#x7684;&#x7ED8;&#x5236;&#x4E0E;&#x7B2C;&#x4E00;&#x4E2A;&#x5341;&#x5206;&#x76F8;&#x4F3C;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F;&#x591A;&#x4E86;&#x4E00;&#x53E5;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">painter.setRenderHint(QPainter::Antialiasing, <span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8FD9;&#x6761;&#x8BED;&#x53E5;&#xFF0C;&#x5C06; Antialiasing &#x5C5E;&#x6027;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x53CD;&#x8D70;&#x6837;&#xFF09;&#x8BBE;&#x7F6E;&#x4E3A; true&#x3002;&#x7ECF;&#x8FC7;&#x8FD9;&#x53E5;&#x8BBE;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6253;&#x5F00;&#x4E86;<code>QPainter</code>&#x7684;&#x53CD;&#x8D70;&#x6837;&#x529F;&#x80FD;&#x3002;&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x66FE;&#x7ECF;&#x8BF4;&#x8FC7;&#xFF0C;<code>QPainter</code>&#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x53EA;&#x8981;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x4E86;&#x5B83;&#xFF0C;&#x4E4B;&#x540E;&#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x4F1A;&#x662F;&#x53CD;&#x8D70;&#x6837;&#x7ED8;&#x5236;&#x7684;&#x4E86;&#x3002;</p>
<hr>
<p>&#x7531;&#x4E8E;&#x53CD;&#x8D70;&#x6837;&#x9700;&#x8981;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x7684;&#x7B97;&#x6CD5;&#xFF0C;&#x5728;&#x4E00;&#x4E9B;&#x5BF9;&#x56FE;&#x50CF;&#x8D28;&#x91CF;&#x8981;&#x6C42;&#x4E0D;&#x662F;&#x5F88;&#x9AD8;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x56FE;&#x5F62;&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982; Java2D&#x3001;OpenGL &#x4E4B;&#x7C7B;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x3002;</p>
<p>&#x867D;&#x7136;&#x53CD;&#x8D70;&#x6837;&#x6BD4;&#x4E0D;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x56FE;&#x50CF;&#x8D28;&#x91CF;&#x9AD8;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x6CA1;&#x6709;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x56FE;&#x5F62;&#x7ED8;&#x5236;&#x8FD8;&#x662F;&#x6709;&#x5F88;&#x5927;&#x7528;&#x5904;&#x7684;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x5C31;&#x50CF;&#x524D;&#x9762;&#x8BF4;&#x7684;&#x4E00;&#x6837;&#xFF0C;&#x5728;&#x4E00;&#x4E9B;&#x5BF9;&#x56FE;&#x50CF;&#x8D28;&#x91CF;&#x8981;&#x6C42;&#x4E0D;&#x9AD8;&#x7684;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x6027;&#x80FD;&#x53D7;&#x9650;&#x7684;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x6BD4;&#x5982;&#x5D4C;&#x5165;&#x5F0F;&#x548C;&#x624B;&#x673A;&#x73AF;&#x5883;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5728;&#x4E00;&#x4E9B;&#x5FC5;&#x987B;&#x7CBE;&#x786E;&#x64CD;&#x4F5C;&#x50CF;&#x7D20;&#x7684;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x4E5F;&#x662F;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#x53CD;&#x8D70;&#x6837;&#x6280;&#x672F;&#x672C;&#x8EAB;&#x7684;&#x9650;&#x5236;&#x7684;&#x3002;&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x56FE;&#x7247;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/ps-points.png"><img src="Picture/ps-points.png" alt="ps-points" class="ui centered image"></a></p>
<p>&#x8FD9;&#x662F;&#x4F7F;&#x7528; Photoshop &#x7684;&#x94C5;&#x7B14;&#x548C;&#x753B;&#x7B14;&#x5DE5;&#x5177;&#x7ED8;&#x5236;&#x7684; 1 &#x50CF;&#x7D20;&#x7684;&#x70B9;&#xFF0C;&#x653E;&#x5927; 3200% &#x7684;&#x89C6;&#x56FE;&#x3002;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#xFF0C;Photoshop &#x7684;&#x94C5;&#x7B14;&#x5DE5;&#x5177;&#x662F;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#xFF0C;&#x800C;&#x753B;&#x7B14;&#x662F;&#x8981;&#x8FDB;&#x884C;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x3002;&#x5728;&#x653E;&#x5927;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x4F1A;&#x77E5;&#x9053;&#xFF0C;&#x6709;&#x53CD;&#x8D70;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x7CBE;&#x786E;&#x5230; 1 &#x50CF;&#x7D20;&#x7684;&#x64CD;&#x4F5C;&#x7684;&#x3002;&#x56E0;&#x4E3A;&#x53CD;&#x8D70;&#x6837;&#x5F88;&#x96BE;&#x8BA9;&#x4F60;&#x63A7;&#x5236;&#x5230; 1 &#x4E2A;&#x50CF;&#x7D20;&#x3002;&#x8FD9;&#x4E0D;&#x662F; Photoshop &#x753B;&#x7B14;&#x5DE5;&#x5177;&#x7684;&#x7F3A;&#x9677;&#xFF0C;&#x800C;&#x662F;&#x53CD;&#x8D70;&#x6837;&#x7B97;&#x6CD5;&#x7684;&#x95EE;&#x9898;&#x3002;&#x53CD;&#x8D70;&#x6837;&#x4E4B;&#x6240;&#x4EE5;&#x770B;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x6A21;&#x7CCA;&#xFF0C;&#x5C31;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x9700;&#x8981;&#x4EE5;&#x4E00;&#x79CD;&#x8FD1;&#x4F3C;&#x8272;&#x6765;&#x66FF;&#x6362;&#x539F;&#x59CB;&#x7684;&#x50CF;&#x7D20;&#x8272;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x6765;&#x5C31;&#x4F1A;&#x663E;&#x5F97;&#x6A21;&#x7CCA;&#x800C;&#x5706;&#x6ED1;&#x3002;</p>
<h4 id="&#x6E10;&#x53D8;"><a href="#&#x6E10;&#x53D8;" class="headerlink" title="&#x6E10;&#x53D8;"></a>&#x6E10;&#x53D8;</h4><p>&#x6E10;&#x53D8;&#x662F;&#x7ED8;&#x56FE;&#x4E2D;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x4E00;&#x79CD;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x51E0;&#x79CD;&#x989C;&#x8272;&#x6DF7;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x8BA9;&#x5B83;&#x4EEC;&#x80FD;&#x591F;&#x81EA;&#x7136;&#x5730;&#x8FC7;&#x6E21;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E0B;&#x5B50;&#x53D8;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x989C;&#x8272;&#x3002;&#x6E10;&#x53D8;&#x7684;&#x7B97;&#x6CD5;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x5199;&#x5F97;&#x4E0D;&#x597D;&#x7684;&#x8BDD;&#x6548;&#x7387;&#x4F1A;&#x5F88;&#x4F4E;&#xFF0C;&#x597D;&#x5728;&#x5F88;&#x591A;&#x7ED8;&#x56FE;&#x7CFB;&#x7EDF;&#x90FD;&#x5185;&#x7F6E;&#x4E86;&#x6E10;&#x53D8;&#x7684;&#x529F;&#x80FD;&#xFF0C;Qt &#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#x3002;&#x6E10;&#x53D8;&#x4E00;&#x822C;&#x662F;&#x7528;&#x5728;&#x586B;&#x5145;&#x91CC;&#x9762;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x8BBE;&#x7F6E;&#x6E10;&#x53D8;&#x662F;&#x5728;QBrush&#x91CC;&#x9762;&#x3002;</p>
<p>Qt &#x63D0;&#x4F9B;&#x4E86;&#x4E09;&#x79CD;&#x6E10;&#x53D8;&#xFF1A;&#x7EBF;&#x6027;&#x6E10;&#x53D8;&#xFF08;QLinearGradient&#xFF09;&#x3001;&#x8F90;&#x5C04;&#x6E10;&#x53D8;&#xFF08;QRadialGradient&#xFF09;&#x548C;&#x89D2;&#x5EA6;&#x6E10;&#x53D8;&#xFF08;QConicalGradient&#xFF09;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728; Qt API &#x624B;&#x518C;&#x4E2D;&#x770B;&#x5230;&#x8FD9;&#x51E0;&#x79CD;&#x6E10;&#x53D8;&#x7684;&#x533A;&#x522B;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/QLinearGradient.png"><img src="Picture/QLinearGradient.png" alt="QLinearGradient" class="ui centered image"></a></p>
<p><a class="magnific-img" href="Picture/QRadialGradient.png"><img src="Picture/QRadialGradient.png" alt="QRadialGradient" class="ui centered image"></a></p>
<p><a class="magnific-img" href="Picture/QConicalGradient.png"><img src="Picture/QConicalGradient.png" alt="QConicalGradient" class="ui centered image"></a></p>
<hr>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x770B;&#x770B;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x6E10;&#x53D8;&#x8FDB;&#x884C;&#x586B;&#x5145;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintedWidget::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.setRenderHint(QPainter::Antialiasing, <span class="literal">true</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="function">QLinearGradient <span class="title">linearGradient</span><span class="params">(<span class="number">60</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">200</span>)</span></span>;</span><br><span class="line">    linearGradient.setColorAt(<span class="number">0.2</span>, Qt::white);</span><br><span class="line">    linearGradient.setColorAt(<span class="number">0.6</span>, Qt::green);</span><br><span class="line">    linearGradient.setColorAt(<span class="number">1.0</span>, Qt::black);</span><br><span class="line">    </span><br><span class="line">    painter.setBrush(QBrush(linearGradient));</span><br><span class="line">    painter.drawEllipse(<span class="number">50</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">150</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><a class="magnific-img" href="Picture/gradient-demo.png"><img src="Picture/gradient-demo.png" alt="gradient-demo" class="ui centered image"></a></p>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x4E86;&#x53CD;&#x8D70;&#x6837;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;QLinearGradient&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;QLinearGradient&#x4E5F;&#x5C31;&#x662F;&#x7EBF;&#x6027;&#x6E10;&#x53D8;&#xFF0C;&#x5176;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6709;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x662F; x1&#xFF0C;y1&#xFF0C;x2&#xFF0C;y2&#xFF0C;&#x5373;&#x6E10;&#x53D8;&#x7684;&#x8D77;&#x59CB;&#x70B9;&#x548C;&#x7EC8;&#x6B62;&#x70B9;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x4ECE; (60, 50) &#x70B9;&#x5F00;&#x59CB;&#x6E10;&#x53D8;&#xFF0C;&#x5230; (200, 200) &#x70B9;&#x6B62;&#x3002;&#x6E10;&#x53D8;&#x7684;&#x989C;&#x8272;&#x662F;&#x5728; setColorAt() &#x51FD;&#x6570;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x7B7E;&#x540D;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> QGradient::setColorAt ( qreal position, <span class="keyword">const</span> QColor &amp; color )</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x628A; position &#x4F4D;&#x7F6E;&#x7684;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x6210; color&#x3002;&#x5176;&#x4E2D;&#xFF0C;position &#x662F;&#x4E00;&#x4E2A; [0, 1] &#x95ED;&#x533A;&#x95F4;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x5EFA;&#x7ACB;&#x6E10;&#x53D8;&#x5BF9;&#x8C61;&#x65F6;&#x505A;&#x7684;&#x90A3;&#x4E2A;&#x8D77;&#x59CB;&#x70B9;&#x548C;&#x7EC8;&#x6B62;&#x70B9;&#x533A;&#x95F4;&#x7684;&#x4E00;&#x4E2A;&#x6BD4;&#x4F8B;&#x3002;</p>
<hr>
<p>&#x4E0B;&#x9762;&#x7ED8;&#x5236;&#x4E00;&#x4E2A;<strong>&#x8272;&#x8F6E;</strong>&#xFF08;color wheel&#xFF09;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/color-wheel.png"><img src="Picture/color-wheel.png" alt="color-wheel" class="ui centered image"></a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> ColorWheel::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.setRenderHint(QPainter::Antialiasing);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> r = <span class="number">150</span>;</span><br><span class="line">    <span class="function">QConicalGradient <span class="title">conicalGradient</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    conicalGradient.setColorAt(<span class="number">0.0</span>, Qt::red);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">60.0</span>/<span class="number">360.0</span>, Qt::yellow);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">120.0</span>/<span class="number">360.0</span>, Qt::green);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">180.0</span>/<span class="number">360.0</span>, Qt::cyan);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">240.0</span>/<span class="number">360.0</span>, Qt::blue);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">300.0</span>/<span class="number">360.0</span>, Qt::magenta);</span><br><span class="line">    conicalGradient.setColorAt(<span class="number">1.0</span>, Qt::red);</span><br><span class="line"></span><br><span class="line">    painter.translate(r, r);</span><br><span class="line"></span><br><span class="line">    <span class="function">QBrush <span class="title">brush</span><span class="params">(conicalGradient)</span></span>;</span><br><span class="line">    painter.setPen(Qt::NoPen);</span><br><span class="line">    painter.setBrush(brush);</span><br><span class="line">    painter.drawEllipse(QPoint(<span class="number">0</span>, <span class="number">0</span>), r, r);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<ul class="ui list">
<li><p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x4E86;&#x53CD;&#x8D70;&#x6837;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;QConicalGradient&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;&#x3002;QConicalGradient&#x4E5F;&#x5C31;&#x662F;&#x89D2;&#x5EA6;&#x6E10;&#x53D8;&#xFF0C;&#x5176;&#x6784;&#x9020;&#x51FD;&#x6570;&#x6709;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x524D;&#x4E24;&#x4E2A;&#x53C2;&#x6570; cx &#x548C; cy &#x7EC4;&#x6210;&#x89D2;&#x5EA6;&#x6E10;&#x53D8;&#x7684;&#x4E2D;&#x5FC3;&#x70B9;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x6E10;&#x53D8;&#x7684;&#x8D77;&#x59CB;&#x89D2;&#x5EA6;&#x3002;</p>
</li>
<li><p>&#x7C7B;&#x4F3C;&#x7EBF;&#x6027;&#x6E10;&#x53D8;&#xFF0C;&#x89D2;&#x5EA6;&#x6E10;&#x53D8;&#x7684;<code>setColorAt()</code>&#x51FD;&#x6570;&#x540C;&#x6837;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x89D2;&#x5EA6;&#x6BD4;&#x4F8B;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x989C;&#x8272;&#x3002;</p>
<p><em>&#x81F3;&#x4E8E;&#x989C;&#x8272;&#x7684;&#x5206;&#x5E03;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x989C;&#x8272;&#x7A7A;&#x95F4;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x67E5;&#x9605;&#x6709;&#x5173;&#x989C;&#x8272;&#x6A21;&#x578B;&#x7684;&#x7406;&#x8BBA;&#x3002;</em></p>
</li>
<li><p><code>QPainter::translate(x, y)</code> &#x5C06;&#x5750;&#x6807;&#x7CFB;&#x7684;&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x5230; (x, y) &#x70B9;&#x3002;&#x539F;&#x672C;&#x5750;&#x6807;&#x7CFB;&#x539F;&#x70B9;&#x4F4D;&#x4E8E;&#x5DE6;&#x4E0A;&#x89D2;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;translate(r, r)&#xFF0C;&#x5C06;&#x5750;&#x6807;&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x4E3A; (r, r)&#x3002;&#x8FD9;&#x4E48;&#x4E00;&#x6765;&#xFF0C;&#x5DE6;&#x4E0A;&#x89D2;&#x7684;&#x70B9;&#x7684;&#x5750;&#x6807;&#x5C31;&#x5E94;&#x8BE5;&#x662F; (-r, -r)&#x3002;</p>
</li>
<li><p>&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;<code>drawEllipse()</code>&#x51FD;&#x6570;&#x7ED8;&#x5236;&#x5706;&#x76D8;&#x3002;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x628A;&#x5750;&#x6807;&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x4E3A; (r, r)&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x7ED8;&#x5236;&#x65F6;&#xFF0C;&#x5706;&#x5FC3;&#x5E94;&#x8BE5;&#x662F;&#x65B0;&#x7684;&#x5750;&#x6807; (0, 0)&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x539F;&#x6765;&#x7684; (r, r)&#x3002;</p>
</li>
</ul>
<p>&#x5982;&#x679C;&#x53BB;&#x6389; translate() &#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4E0D;&#x4EC5;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6700;&#x540E;&#x7684;&#x7ED8;&#x5236;&#x8BED;&#x53E5;&#xFF0C;&#x8FD8;&#x8981;&#x4FEE;&#x6539; QConicalGradient &#x5B9A;&#x4E49;&#x65F6;&#x4F20;&#x5165;&#x7684;&#x4E2D;&#x5FC3;&#x70B9;&#x7684;&#x5750;&#x6807;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="function">QConicalGradient <span class="title">conicalGradient</span><span class="params">(r, r, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">painter.drawEllipse(QPoint(r, r), r, r);</span><br></pre></td></tr></table></figure>
<h4 id="&#x5750;&#x6807;&#x7CFB;&#x7EDF;"><a href="#&#x5750;&#x6807;&#x7CFB;&#x7EDF;" class="headerlink" title="&#x5750;&#x6807;&#x7CFB;&#x7EDF;"></a>&#x5750;&#x6807;&#x7CFB;&#x7EDF;</h4><p>&#x7531;&#x4E8E;QPaintDeice &#x662F;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x8C13;&#x5750;&#x6807;&#x7CFB;&#x7EDF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;QPaintDevice &#x4E0A;&#x9762;&#x7684;&#x5750;&#x6807;&#x3002;&#x9ED8;&#x8BA4;&#x5750;&#x6807;&#x7CFB;&#x7EDF;&#x4F4D;&#x4E8E;&#x8BBE;&#x5907;&#x7684;&#x5DE6;&#x4E0A;&#x89D2;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5750;&#x6807;&#x539F;&#x70B9; (0, 0)&#x3002;x &#x8F74;&#x65B9;&#x5411;&#x5411;&#x53F3;&#xFF1B;y &#x8F74;&#x65B9;&#x5411;&#x5411;&#x4E0B;&#x3002;&#x5728;&#x57FA;&#x4E8E;&#x50CF;&#x7D20;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#xFF08;&#x6BD4;&#x5982;&#x663E;&#x793A;&#x5668;&#xFF09;&#xFF0C;&#x5750;&#x6807;&#x7684;&#x9ED8;&#x8BA4;&#x5355;&#x4F4D;&#x662F;&#x50CF;&#x7D20;&#xFF0C;&#x5728;&#x6253;&#x5370;&#x673A;&#x4E0A;&#x5219;&#x662F;&#x70B9;&#xFF08;1/72 &#x82F1;&#x5BF8;&#xFF09;&#x3002;</p>
<p>&#x5C06;QPainter &#x7684;&#x903B;&#x8F91;&#x5750;&#x6807;&#x4E0E;QPaintDevice &#x7684;&#x7269;&#x7406;&#x5750;&#x6807;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x662F;&#x7531;QPainter &#x7684;&#x53D8;&#x6362;&#x77E9;&#x9635;&#xFF08;transformation matrix&#xFF09;&#x3001;&#x89C6;&#x53E3;&#xFF08;viewport&#xFF09;&#x548C;&#x7A97;&#x53E3;&#xFF08;window&#xFF09;&#x5B8C;&#x6210;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x7406;&#x89E3;&#x8FD9;&#x4E9B;&#x672F;&#x8BED;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x4E86;&#x89E3;&#x4E0B;&#x6709;&#x5173;&#x56FE;&#x5F62;&#x5B66;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5BF9;&#x56FE;&#x5F62;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5E95;&#x5C42;&#x7684;&#x6570;&#x5B66;&#x90FD;&#x662F;&#x8FDB;&#x884C;&#x7684;&#x77E9;&#x9635;&#x53D8;&#x6362;&#x3001;&#x76F8;&#x4E58;&#x7B49;&#x8FD0;&#x7B97;&#x3002;</p>
<p>&#x5728; Qt &#x7684;&#x5750;&#x6807;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x5360;&#x636E; 1&#xD7;1 &#x7684;&#x7A7A;&#x95F4;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x60F3;&#x8C61;&#x6210;&#x4E00;&#x5F20;&#x65B9;&#x683C;&#x7EB8;&#xFF0C;&#x6BCF;&#x4E2A;&#x5C0F;&#x683C;&#x90FD;&#x662F;1&#x4E2A;&#x50CF;&#x7D20;&#x3002;<strong>&#x65B9;&#x683C;&#x7684;&#x7126;&#x70B9;&#x5B9A;&#x4E49;&#x4E86;&#x5750;&#x6807;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x50CF;&#x7D20; (x, y) &#x7684;&#x4E2D;&#x5FC3;&#x4F4D;&#x7F6E;&#x5176;&#x5B9E;&#x662F;&#x5728; (x + 0.5, y + 0.5) &#x7684;&#x4F4D;&#x7F6E;&#x4E0A;&#x3002;</strong>&#x8FD9;&#x4E2A;&#x5750;&#x6807;&#x7CFB;&#x7EDF;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x201C;<strong>&#x534A;&#x50CF;&#x7D20;&#x5750;&#x6807;&#x7CFB;</strong>&#x201D;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x610F;&#x56FE;&#x6765;&#x7406;&#x89E3;&#x8FD9;&#x79CD;&#x5750;&#x6807;&#x7CFB;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/coordinate-system-demo.png"><img src="Picture/coordinate-system-demo.png" alt="coordinate-system-demo" class="ui centered image"></a></p>
<p><strong>&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x662F;&#x5750;&#x6807;&#x7684;&#x903B;&#x8F91;&#x8868;&#x793A;&#xFF0C;&#x5B9E;&#x9645;&#x7ED8;&#x5236;&#x5219;&#x4E0E;&#x6B64;&#x4E0D;&#x540C;&#x3002;</strong>&#x56E0;&#x4E3A;&#x5728;&#x5B9E;&#x9645;&#x8BBE;&#x5907;&#x4E0A;&#xFF0C;&#x50CF;&#x7D20;&#x662F;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x50CF;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x5728;&#x4E24;&#x4E2A;&#x50CF;&#x7D20;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x5B9E;&#x9645;&#x7ED8;&#x5236;&#x65F6;&#xFF0C;Qt &#x7684;&#x5B9A;&#x4E49;&#x662F;&#xFF0C;&#x7ED8;&#x5236;&#x70B9;&#x6240;&#x5728;&#x50CF;&#x7D20;&#x662F;&#x903B;&#x8F91;&#x5B9A;&#x4E49;&#x70B9;&#x7684;&#x53F3;&#x4E0B;&#x65B9;&#x7684;&#x50CF;&#x7D20;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/coordinate-system-demo.png"><img src="Picture/coordinate-system-demo.png" alt="coordinate-system-demo" class="ui centered image"></a></p>
<p><strong>&#x5F53;&#x7ED8;&#x5236;&#x5927;&#x4E8E;1&#x4E2A;&#x50CF;&#x7D20;&#x65F6;</strong>&#xFF0C;&#x60C5;&#x51B5;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF1A;&#x5982;&#x679C;&#x7ED8;&#x5236;<strong>&#x50CF;&#x7D20;&#x662F;&#x5076;&#x6570;</strong>&#xFF0C;&#x5219;&#x4F1A;&#x5C06;&#x903B;&#x8F91;&#x5750;&#x6807;&#x503C;&#x5939;&#x5728;&#x76F8;&#x7B49;&#x7684;&#x4E24;&#x90E8;&#x5206;&#x50CF;&#x7D20;&#x4E4B;&#x95F4;&#xFF1B;&#x5982;&#x679C;&#x662F;<strong>&#x5947;&#x6570;</strong>&#xFF0C;&#x5219;&#x4F1A;&#x5728;&#x53F3;&#x4E0B;&#x65B9;&#x591A;&#x51FA;&#x4E00;&#x4E2A;&#x50CF;&#x7D20;&#x3002;&#x5177;&#x4F53;&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x56FE;&#x793A;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/mutilpx-painting.png"><img src="Picture/mutilpx-painting.png" alt="mutilpx-painting" class="ui centered image"></a></p>
<p>Qt &#x7684;&#x8FD9;&#x79CD;&#x5904;&#x7406;&#xFF0C;&#x5E26;&#x6765;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x83B7;&#x53D6;&#x4E0D;&#x5230;&#x771F;&#x5B9E;&#x7684;&#x5750;&#x6807;&#x503C;&#x3002;&#x7531;&#x4E8E;&#x5386;&#x53F2;&#x539F;&#x56E0;&#xFF0C;QRect::right() &#x548C;QRect::bottom() &#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5E76;&#x4E0D;&#x662F;&#x77E9;&#x5F62;&#x53F3;&#x4E0B;&#x89D2;&#x70B9;&#x7684;&#x771F;&#x5B9E;&#x5750;&#x6807;&#x503C;&#xFF1A;QRect::right() &#x8FD4;&#x56DE;&#x7684;&#x662F; left() + width() &#x2013; 1&#xFF1B;QRect::bottom() &#x5219;&#x8FD4;&#x56DE; top() + height() &#x2013; 1&#xFF0C;&#x4E0A;&#x56FE;&#x7684;&#x7EFF;&#x8272;&#x70B9;&#x6307;&#x51FA;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x70B9;&#x7684;&#x5750;&#x6807;&#x3002;</p>
<p>&#x4E3A;&#x907F;&#x514D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x662F;&#x4F7F;&#x7528; QRectF&#x3002;QRectF &#x4F7F;&#x7528;&#x6D6E;&#x70B9;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6574;&#x6570;&#x503C;&#xFF0C;&#x6765;&#x63CF;&#x8FF0;&#x5750;&#x6807;&#x3002;&#x8FD9;&#x4E2A;&#x7C7B;&#x7684;&#x4E24;&#x4E2A;&#x51FD;&#x6570; QRectF::right() &#x548C; QRectF::bottom() &#x662F;&#x6B63;&#x786E;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x5F97;&#x4E0D;&#x4F7F;&#x7528; QRect&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5229;&#x7528; x() + width() &#x548C; y() + height() &#x6765;&#x66FF;&#x4EE3; right() &#x548C; bottom() &#x51FD;&#x6570;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x53CD;&#x8D70;&#x6837;&#xFF0C;&#x5B9E;&#x9645;&#x7ED8;&#x5236;&#x4F1A;&#x5305;&#x88F9;&#x4F4F;&#x903B;&#x8F91;&#x5750;&#x6807;&#x503C;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/anti-aliasing-painting.png"><img src="Picture/anti-aliasing-painting.png" alt="anti-aliasing-painting" class="ui centered image"></a></p>
<hr>
<p>Qt &#x540C;&#x6837;&#x63D0;&#x4F9B;&#x4E86;&#x5750;&#x6807;&#x53D8;&#x6362;&#x3002;&#x6BCF;&#x4E00;&#x79CD;&#x53D8;&#x6362;&#x90FD;&#x5BF9;&#x5E94;&#x7740;&#x4E00;&#x4E2A;&#x77E9;&#x9635;&#x4E58;&#x6CD5;&#x3002;</p>
<p>&#x524D;&#x9762;&#x8BF4;&#x8FC7;&#xFF0C;QPainter &#x662F;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x673A;&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x6709;&#x65F6;&#x6211;&#x60F3;&#x4FDD;&#x5B58;&#x4E0B;&#x5F53;&#x524D;&#x7684;&#x72B6;&#x6001;&#xFF1A;&#x5F53;&#x6211;&#x4E34;&#x65F6;&#x7ED8;&#x5236;&#x67D0;&#x4E9B;&#x56FE;&#x50CF;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x80FD;&#x60F3;&#x8FD9;&#x4E48;&#x505A;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x6700;&#x539F;&#x59CB;&#x7684;&#x529E;&#x6CD5;&#xFF1A;&#x5C06;&#x53EF;&#x80FD;&#x6539;&#x53D8;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6BD4;&#x5982;&#x753B;&#x7B14;&#x989C;&#x8272;&#x3001;&#x7C97;&#x7EC6;&#x7B49;&#xFF0C;&#x5728;&#x4E34;&#x65F6;&#x7ED8;&#x5236;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#x518D;&#x5168;&#x90E8;&#x6062;&#x590D;&#x3002;&#x5BF9;&#x6B64;&#xFF0C;QPainter &#x63D0;&#x4F9B;&#x4E86;&#x5185;&#x7F6E;&#x7684;&#x51FD;&#x6570;&#xFF1A;save() &#x548C; restore()&#x3002;save() &#x5C31;&#x662F;&#x4FDD;&#x5B58;&#x4E0B;&#x5F53;&#x524D;&#x72B6;&#x6001;&#xFF1B;restore() &#x5219;&#x6062;&#x590D;&#x4E0A;&#x4E00;&#x6B21;&#x4FDD;&#x5B58;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x51FD;&#x6570;<strong>&#x5FC5;&#x987B;</strong>&#x6210;&#x5BF9;&#x51FA;&#x73B0;&#xFF1A;QPainter &#x4F7F;&#x7528;<strong>&#x6808;</strong>&#x6765;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x6BCF;&#x4E00;&#x6B21; save()&#xFF0C;&#x5C06;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x538B;&#x5165;&#x6808;&#x9876;&#xFF0C;restore() &#x5219;&#x5F39;&#x51FA;&#x6808;&#x9876;&#x8FDB;&#x884C;&#x6062;&#x590D;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintDemo::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, Qt::red);</span><br><span class="line">    </span><br><span class="line">    painter.save();</span><br><span class="line">    painter.translate(<span class="number">100</span>, <span class="number">0</span>); <span class="comment">// &#x5411;&#x53F3;&#x5E73;&#x79FB; 100px</span></span><br><span class="line">    painter.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, Qt::yellow);</span><br><span class="line">    painter.restore();</span><br><span class="line">    </span><br><span class="line">    painter.save();</span><br><span class="line">    painter.translate(<span class="number">300</span>, <span class="number">0</span>); <span class="comment">// &#x5411;&#x53F3;&#x5E73;&#x79FB; 300px</span></span><br><span class="line">    painter.rotate(<span class="number">30</span>); <span class="comment">// &#x987A;&#x65F6;&#x9488;&#x65CB;&#x8F6C; 30 &#x5EA6;</span></span><br><span class="line">    painter.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, Qt::green);</span><br><span class="line">    painter.restore();</span><br><span class="line">    </span><br><span class="line">    painter.save();</span><br><span class="line">    painter.translate(<span class="number">400</span>, <span class="number">0</span>); <span class="comment">// &#x5411;&#x53F3;&#x5E73;&#x79FB; 400px</span></span><br><span class="line">    painter.scale(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// &#x6A2A;&#x5750;&#x6807;&#x5355;&#x4F4D;&#x653E;&#x5927; 2 &#x500D;&#xFF0C;&#x7EB5;&#x5750;&#x6807;&#x653E;&#x5927; 3 &#x500D;</span></span><br><span class="line">    painter.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, Qt::blue);</span><br><span class="line">    painter.restore();</span><br><span class="line">    </span><br><span class="line">    painter.save();</span><br><span class="line">    painter.translate(<span class="number">600</span>, <span class="number">0</span>); <span class="comment">// &#x5411;&#x53F3;&#x5E73;&#x79FB; 600px</span></span><br><span class="line">    painter.shear(<span class="number">0</span>, <span class="number">1</span>); <span class="comment">// &#x6A2A;&#x5411;&#x4E0D;&#x53D8;&#xFF0C;&#x7EB5;&#x5411;&#x626D;&#x66F2; 1 &#x500D;</span></span><br><span class="line">    painter.fillRect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">50</span>, <span class="number">100</span>, Qt::cyan);</span><br><span class="line">    painter.restore();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><a class="magnific-img" href="Picture/coordinate-transformations-demo.png"><img src="Picture/coordinate-transformations-demo.png" alt="coordinate-transformations-demo" class="ui centered image"></a></p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x9488;&#x5BF9;&#x5750;&#x6807;&#x7CFB;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x7ED8;&#x5236;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x77E9;&#x5F62;&#x7684;&#x5750;&#x6807;&#x53C2;&#x6570;&#x90FD;&#x662F;&#x4E0D;&#x53D8;&#x7684;&#x3002;</p>
<hr>
<p>Qt &#x7684;&#x5750;&#x6807;&#x5206;&#x4E3A;<strong>&#x903B;&#x8F91;&#x5750;&#x6807;</strong>&#x548C;<strong>&#x7269;&#x7406;&#x5750;&#x6807;</strong>&#x3002;&#x5728;&#x6211;&#x4EEC;&#x7ED8;&#x5236;&#x65F6;&#xFF0C;&#x63D0;&#x4F9B;&#x7ED9;QPainter &#x7684;&#x90FD;&#x662F;&#x903B;&#x8F91;&#x5750;&#x6807;&#x3002;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7684;&#x5750;&#x6807;&#x53D8;&#x6362;&#xFF0C;&#x4E5F;&#x662F;&#x9488;&#x5BF9;&#x903B;&#x8F91;&#x5750;&#x6807;&#x7684;&#x3002;&#x6240;&#x8C13;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF0C;&#x5C31;&#x662F;&#x7ED8;&#x5236;&#x5E95;&#x5C42;QPaintDevice &#x7684;&#x5750;&#x6807;&#x3002;&#x8981;&#x60F3;&#x5728;&#x8BBE;&#x5907;&#x4E0A;&#x7ED8;&#x5236;&#xFF0C;&#x5FC5;&#x987B;&#x63D0;&#x4F9B;&#x8BBE;&#x5907;&#x8BA4;&#x8BC6;&#x7684;&#x7269;&#x7406;&#x5750;&#x6807;&#x3002;Qt &#x4F7F;&#x7528; viewport-window &#x673A;&#x5236;&#x5C06;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x903B;&#x8F91;&#x5750;&#x6807;&#x8F6C;&#x6362;&#x6210;&#x7ED8;&#x5236;&#x8BBE;&#x5907;&#x4F7F;&#x7528;&#x7684;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF0C;&#x65B9;&#x6CD5;&#x662F;&#xFF0C;&#x5728;&#x903B;&#x8F91;&#x5750;&#x6807;&#x548C;&#x7269;&#x7406;&#x5750;&#x6807;&#x4E4B;&#x95F4;&#x63D0;&#x4F9B;&#x4E00;&#x5C42;&#x201C;&#x7A97;&#x53E3;&#x201D;&#x5750;&#x6807;&#x3002;&#x89C6;&#x53E3;&#x662F;&#x7531;&#x4EFB;&#x610F;&#x77E9;&#x5F62;&#x6307;&#x5B9A;&#x7684;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF1B;&#x7A97;&#x53E3;&#x5219;&#x662F;&#x8BE5;&#x77E9;&#x5F62;&#x7684;&#x903B;&#x8F91;&#x5750;&#x6807;&#x8868;&#x793A;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7269;&#x7406;&#x5750;&#x6807;&#x548C;&#x903B;&#x8F91;&#x5750;&#x6807;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x90FD;&#x7B49;&#x4E8E;&#x8BBE;&#x5907;&#x77E9;&#x5F62;&#x3002;</p>
<p>&#x89C6;&#x53E3;&#x5750;&#x6807;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF09;&#x548C;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#x4E00;&#x4E2A; 400&#xD7;400 &#x7684;<strong>&#x7A97;&#x53E3;</strong>&#xFF0C;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintDemo::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.setWindow(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">    painter.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>, Qt::red);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x5C06;&#x7A97;&#x53E3;&#x77E9;&#x5F62;&#x8BBE;&#x7F6E;&#x4E3A;&#x5DE6;&#x4E0A;&#x89D2;&#x5750;&#x6807;&#x4E3A; (0, 0)&#xFF0C;&#x957F;&#x548C;&#x5BBD;&#x90FD;&#x662F; 200px&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x6210;&#xFF0C;&#x903B;&#x8F91;&#x5750;&#x6807;&#x88AB;&#x201C;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x201D;&#x3002;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x662F;&#x5C06;&#x6574;&#x4E2A;&#x7A97;&#x53E3;&#x8FDB;&#x884C;&#x4E86;&#x586B;&#x5145;&#x3002;</p>
<p>&#x8BD5;&#x6BD4;&#x8F83;&#x4E0B;&#x9762;&#x4E24;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x533A;&#x522B;&#xFF08;&#x8FD8;&#x662F; 400&#xD7;400 &#x7684;&#x7A97;&#x53E3;&#xFF09;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">painter.translate(<span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">painter.setWindow(<span class="number">-160</span>, <span class="number">-320</span>, <span class="number">320</span>, <span class="number">640</span>);</span><br></pre></td></tr></table></figure>
<p>&#x7B2C;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5750;&#x6807;&#x539F;&#x70B9;&#x8BBE;&#x7F6E;&#x5230; (200, 200) &#x5904;&#xFF0C;&#x6A2A;&#x5750;&#x6807;&#x8303;&#x56F4;&#x662F; [-200, 200]&#xFF0C;&#x7EB5;&#x5750;&#x6807;&#x8303;&#x56F4;&#x662F; [-200, 200]&#x3002;&#x7B2C;&#x4E8C;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x5750;&#x6807;&#x539F;&#x70B9;&#x4E5F;&#x662F;&#x5728;&#x7A97;&#x53E3;&#x6B63;&#x4E2D;&#x5FC3;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x7269;&#x7406;&#x5BBD; 400px &#x6620;&#x5C04;&#x6210;&#x7A97;&#x53E3;&#x5BBD; 320px&#xFF0C;&#x7269;&#x7406;&#x9AD8; 400px &#x6620;&#x5C04;&#x6210;&#x7A97;&#x53E3;&#x9AD8; 640px&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x6A2A;&#x5750;&#x6807;&#x8303;&#x56F4;&#x662F; [-160, 160]&#xFF0C;&#x7EB5;&#x5750;&#x6807;&#x8303;&#x56F4;&#x662F; [-320, 320]&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x53D8;&#x6362;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7EBF;&#x6027;&#x53D8;&#x6362;&#x3002;&#x5047;&#x8BBE;&#x539F;&#x6765;&#x6709;&#x4E2A;&#x70B9;&#x5750;&#x6807;&#x662F; (64&#xFF0C; 60)&#xFF0C;&#x90A3;&#x4E48;&#x65B0;&#x7684;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x4E0B;&#x5BF9;&#x5E94;&#x7684;&#x5750;&#x6807;&#x5E94;&#x8BE5;&#x662F; ((-160 + 64 <em> 320 / 400), (-320 + 60 </em> 640 / 400)) = (-108.8, -224)&#x3002;</p>
<hr>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x518D;&#x6765;&#x7406;&#x89E3;&#x4E0B;<strong>&#x89C6;&#x53E3;</strong>&#x7684;&#x542B;&#x4E49;&#x3002;&#x8FD8;&#x662F;&#x4EE5;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#x4E3A;&#x4F8B;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintDemo::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    painter.setViewport(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line">    painter.fillRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>, Qt::red);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x548C;&#x524D;&#x9762;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x628A;setWindow() &#x6362;&#x6210;&#x4E86;setViewport()&#x3002;</p>
<p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x8BF4;&#x8FC7;&#xFF0C;window &#x4EE3;&#x8868;&#x7A97;&#x53E3;&#x5750;&#x6807;&#xFF0C;viewport &#x4EE3;&#x8868;&#x7269;&#x7406;&#x5750;&#x6807;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x7269;&#x7406;&#x5750;&#x6807;&#x533A;&#x57DF;&#x5B9A;&#x4E49;&#x4E3A;&#x5DE6;&#x4E0A;&#x89D2;&#x4F4D;&#x4E8E; (0, 0)&#xFF0C;&#x957F;&#x9AD8;&#x90FD;&#x662F; 200px &#x7684;&#x77E9;&#x5F62;&#x3002;&#x7136;&#x540E;&#x8FD8;&#x662F;&#x7ED8;&#x5236;&#x548C;&#x4E0A;&#x9762;&#x4E00;&#x6837;&#x7684;&#x77E9;&#x5F62;&#x3002;</p>
<p>&#x53EA;&#x6709; 1/16 &#x7684;&#x7A97;&#x53E3;&#x88AB;&#x586B;&#x5145;&#x3002;&#x8FD9;&#x662F;&#x7531;&#x4E8E;&#xFF0C;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x4E86;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x76F8;&#x5E94;&#x7684;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x3002;&#x9ED8;&#x8BA4;&#x7684;&#x903B;&#x8F91;&#x5750;&#x6807;&#x8303;&#x56F4;&#x662F;&#x5DE6;&#x4E0A;&#x89D2;&#x5750;&#x6807;&#x4E3A; (0, 0)&#xFF0C;&#x957F;&#x5BBD;&#x90FD;&#x662F; 400px &#x7684;&#x77E9;&#x5F62;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x5C06;&#x7269;&#x7406;&#x5750;&#x6807;&#x4FEE;&#x6539;&#x4E3A;&#x5DE6;&#x4E0A;&#x89D2;&#x4F4D;&#x4E8E; (0, 0)&#xFF0C;&#x957F;&#x9AD8;&#x90FD;&#x662F; 200px &#x7684;&#x77E9;&#x5F62;&#x65F6;&#xFF0C;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x8303;&#x56F4;&#x4E0D;&#x53D8;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x7269;&#x7406;&#x5BBD; 200px &#x6620;&#x5C04;&#x6210;&#x7A97;&#x53E3;&#x5BBD; 400px&#xFF0C;&#x7269;&#x7406;&#x9AD8; 200px &#x6620;&#x5C04;&#x6210;&#x7A97;&#x53E3;&#x9AD8; 400px&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x539F;&#x59CB;&#x70B9; (200, 200) &#x7684;&#x5750;&#x6807;&#x53D8;&#x6210;&#x4E86; ((0 + 200 <em> 200 / 400), (0 + 200 </em> 200 / 400)) = (100, 100)&#x3002;</p>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x5F20;&#x56FE;&#x793A;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x903B;&#x8F91;&#x5750;&#x6807;&#x3001;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x548C;&#x7269;&#x7406;&#x5750;&#x6807;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/coordinate-system-instruction.png"><img src="Picture/coordinate-system-instruction.png" alt="coordinate-system-instruction" class="ui centered image"></a></p>
<p>&#x6211;&#x4EEC;&#x4F20;&#x7ED9;QPainter &#x7684;&#x662F;&#x903B;&#x8F91;&#x5750;&#x6807;&#xFF08;&#x4E5F;&#x79F0;&#x4E3A;&#x4E16;&#x754C;&#x5750;&#x6807;&#xFF09;&#xFF0C;&#x903B;&#x8F91;&#x5750;&#x6807;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53D8;&#x6362;&#x77E9;&#x9635;&#x8F6C;&#x6362;&#x6210;&#x7A97;&#x53E3;&#x5750;&#x6807;&#xFF0C;&#x7A97;&#x53E3;&#x5750;&#x6807;&#x901A;&#x8FC7; window-viewport &#x8F6C;&#x6362;&#x6210;&#x7269;&#x7406;&#x5750;&#x6807;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x8BBE;&#x5907;&#x5750;&#x6807;&#xFF09;&#x3002;</p>
<h4 id="&#x7ED8;&#x5236;&#x8BBE;&#x5907;"><a href="#&#x7ED8;&#x5236;&#x8BBE;&#x5907;" class="headerlink" title="&#x7ED8;&#x5236;&#x8BBE;&#x5907;"></a>&#x7ED8;&#x5236;&#x8BBE;&#x5907;</h4><p>&#x7ED8;&#x56FE;&#x8BBE;&#x5907;&#x662F;&#x7EE7;&#x627F;QPainterDevice&#x7684;&#x7C7B;&#x3002;QPaintDevice&#x5C31;&#x662F;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x7684;&#x7C7B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;QPainter&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;QPaintDevice&#x7684;&#x5B50;&#x7C7B;&#x4E0A;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x73B0;&#x5728;&#xFF0C;Qt &#x63D0;&#x4F9B;&#x4E86;&#x82E5;&#x5E72;&#x8FD9;&#x6837;&#x7684;&#x7C7B;&#xFF1A;</p>
<p><a class="magnific-img" href="Picture/paint-device-qt5.png"><img src="Picture/paint-device-qt5.png" alt="paint-device-qt5" class="ui centered image"></a></p>
<p>&#x4E0A;&#x9762;&#x7684;&#x662F; Qt4/Qt5 &#x7684;&#x76F8;&#x5173;&#x7C7B;&#x56FE;&#xFF0C;&#x53EA;&#x662F;&#x5728; Qt5 &#x4E2D;&#xFF0C;QGLPixelBuffer&#x5DF2;&#x7ECF;&#x88AB;&#x5E9F;&#x5F03;&#x3002;&#x672C;&#x7AE0;&#x6211;&#x4EEC;&#x5173;&#x6CE8;&#x7684;&#x662F;QPixmap&#x3001;QBitmap&#x3001;QImage&#x548C;QPicture&#x8FD9;&#x51E0;&#x4E2A;&#x7C7B;&#x3002;&#x53E6;&#x5916;&#x7684;&#x90E8;&#x5206;&#xFF0C;QWidget&#x5C31;&#x662F;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x7684;&#x7236;&#x7C7B;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5728;&#x524D;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x4F7F;&#x7528;&#x8FC7;&#x3002;QGLWidget&#x548C;QGLFramebufferObject&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x5C31;&#x662F;&#x5173;&#x4E8E; OpenGL &#x7684;&#x76F8;&#x5173;&#x7C7B;&#x3002;&#x5728; Qt &#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x7ED3;&#x5408; OpenGL &#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x7531;&#x4E8E;&#x8FD9;&#x90E8;&#x5206;&#x9700;&#x8981;&#x7275;&#x626F;&#x5230; OpenGL &#x7684;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#xFF0C;&#x73B0;&#x5728;&#x4E5F;&#x4E0D;&#x518D;&#x6DF1;&#x5165;&#x3002;&#x5728;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x7684;&#x51E0;&#x4E2A;&#x7C7B;&#x4E2D;&#xFF0C;&#x5927;&#x591A;&#x4E0E;&#x56FE;&#x50CF;&#x5BC6;&#x5207;&#x76F8;&#x5173;&#x3002;</p>
<p>QPixmap&#x4E13;&#x95E8;&#x4E3A;&#x56FE;&#x50CF;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x7684;&#x663E;&#x793A;&#x505A;&#x4E86;&#x4F18;&#x5316;&#xFF1B;QBitmap&#x662F;QPixmap&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x7C7B;&#xFF0C;&#x5B83;&#x7684;&#x8272;&#x6DF1;&#x9650;&#x5B9A;&#x4E3A;1&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;QPixmap&#x7684;isQBitmap()&#x51FD;&#x6570;&#x6765;&#x786E;&#x5B9A;&#x8FD9;&#x4E2A;QPixmap&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;QBitmap&#x3002;QImage&#x4E13;&#x95E8;&#x4E3A;&#x56FE;&#x50CF;&#x7684;&#x50CF;&#x7D20;&#x7EA7;&#x8BBF;&#x95EE;&#x505A;&#x4E86;&#x4F18;&#x5316;&#x3002;QPicture&#x5219;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x548C;&#x91CD;&#x73B0;QPainter&#x7684;&#x5404;&#x6761;&#x547D;&#x4EE4;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5C06;&#x5206;&#x4E24;&#x90E8;&#x5206;&#x4ECB;&#x7ECD;&#x8FD9;&#x56DB;&#x79CD;&#x7ED8;&#x56FE;&#x8BBE;&#x5907;&#x3002;</p>
<hr>
<p><code>QPixmap</code>&#x7EE7;&#x627F;&#x4E86;QPaintDevice&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;QPainter&#x76F4;&#x63A5;&#x5728;&#x4E0A;&#x9762;&#x7ED8;&#x5236;&#x56FE;&#x5F62;&#x3002;</p>
<p>QPixmap&#x4E5F;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x6765;&#x663E;&#x793A;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982;&#x4F60;&#x60F3;&#x5728;&#x7A0B;&#x5E8F;&#x4E4B;&#x4E2D;&#x6253;&#x5F00; png&#x3001;jpeg &#x4E4B;&#x7C7B;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;QPixmap&#x3002;</p>
<p>&#x4F7F;&#x7528;QPainter::drawPixmap()&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x628A;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7ED8;&#x5236;&#x5230;&#x4E00;&#x4E2A;QLabel&#x3001;QPushButton&#x6216;&#x8005;&#x5176;&#x4ED6;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x9762;&#x3002;</p>
<p>&#x6B63;&#x5982;&#x524D;&#x9762;&#x6240;&#x8BF4;&#x7684;&#x90A3;&#x6837;&#xFF0C;QPixmap&#x662F;&#x9488;&#x5BF9;&#x5C4F;&#x5E55;&#x8FDB;&#x884C;&#x7279;&#x6B8A;&#x4F18;&#x5316;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5B83;&#x4E0E;&#x5B9E;&#x9645;&#x7684;&#x5E95;&#x5C42;&#x663E;&#x793A;&#x8BBE;&#x5907;&#x606F;&#x606F;&#x76F8;&#x5173;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x663E;&#x793A;&#x8BBE;&#x5907;&#x5E76;&#x4E0D;&#x662F;&#x786C;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;&#x539F;&#x751F;&#x7684;&#x7ED8;&#x56FE;&#x5F15;&#x64CE;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E73;&#x53F0;&#x4E0B;&#xFF0C;QPixmap&#x7684;&#x663E;&#x793A;&#x53EF;&#x80FD;&#x4F1A;&#x6709;&#x6240;&#x5DEE;&#x522B;&#x3002;</p>
<p>QPixmap&#x63D0;&#x4F9B;&#x4E86;&#x9759;&#x6001;&#x7684;grabWidget()&#x548C;grabWindow()&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x4E8E;&#x5C06;&#x81EA;&#x8EAB;&#x56FE;&#x50CF;&#x7ED8;&#x5236;&#x5230;&#x76EE;&#x6807;&#x4E0A;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x5728;&#x4F7F;&#x7528;QPixmap&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<strong>&#x4F20;&#x503C;</strong>&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4F20;&#x6307;&#x9488;&#xFF0C;&#x56E0;&#x4E3A;QPixmap&#x63D0;&#x4F9B;&#x4E86;&#x201C;&#x9690;&#x5F0F;&#x6570;&#x636E;&#x5171;&#x4EAB;&#x201D;&#x3002;&#x5173;&#x4E8E;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x4EE5;&#x540E;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x4E00;&#x822C;&#x5BF9;&#x4E8E;&#x5927;&#x578B;&#x6570;&#x636E;&#xFF08;&#x56FE;&#x50CF;&#x65E0;&#x7591;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x201C;&#x5927;&#x578B;&#x6570;&#x636E;&#x201D;&#xFF09;&#xFF0C;&#x4E3A;&#x6027;&#x80FD;&#x8D77;&#x89C1;&#xFF0C;&#x901A;&#x5E38;&#x4F1A;&#x91C7;&#x7528;&#x4F20;&#x6307;&#x9488;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;QPixmap&#x5185;&#x7F6E;&#x4E86;&#x9690;&#x5F0F;&#x6570;&#x636E;&#x5171;&#x4EAB;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x8981;&#x4F20;&#x9012;QPixmap&#x3002;</p>
<p><code>QBitmap</code>&#x7EE7;&#x627F;&#x81EA;QPixmap&#xFF0C;&#x56E0;&#x6B64;&#x5177;&#x6709;QPixmap&#x7684;&#x6240;&#x6709;&#x7279;&#x6027;&#x3002;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;QBitmap&#x7684;&#x8272;&#x6DF1;&#x59CB;&#x7EC8;&#x4E3A; 1&#xFF0C;&#x5373;&#x9ED1;&#x548C;&#x767D;&#x3002;&#x6240;&#x4EE5;&#x8BF4;&#xFF0C;QBitmap&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x53EA;&#x6709;&#x9ED1;&#x767D;&#x4E24;&#x8272;&#x7684;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x3002;&#x7531;&#x4E8E;QBitmap&#x8272;&#x6DF1;&#x5C0F;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x5360;&#x7528;&#x5F88;&#x5C11;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x6240;&#x4EE5;&#x9002;&#x5408;&#x505A;&#x5149;&#x6807;&#x6587;&#x4EF6;&#x548C;&#x7B14;&#x5237;&#x3002;&#xFF08;&#x8272;&#x6DF1;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x6765;&#x81EA;&#x8BA1;&#x7B97;&#x673A;&#x56FE;&#x5F62;&#x5B66;&#xFF0C;&#x662F;&#x6307;&#x7528;&#x4E8E;&#x8868;&#x73B0;&#x989C;&#x8272;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x4F4D;&#x6570;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x8BA1;&#x7B97;&#x673A;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x8868;&#x793A;&#x4E00;&#x79CD;&#x989C;&#x8272;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;&#x4E8C;&#x8FDB;&#x5236;&#x3002;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x8981;&#x8868;&#x793A; 8 &#x79CD;&#x989C;&#x8272;&#xFF0C;&#x9700;&#x8981;&#x7528; 3 &#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;&#xFF0C;&#x8FD9;&#x65F6;&#x6211;&#x4EEC;&#x5C31;&#x8BF4;&#x8272;&#x6DF1;&#x662F; 3&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x6240;&#x8C13;&#x8272;&#x6DF1;&#x4E3A; 1&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; 1 &#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x4F4D;&#x8868;&#x793A;&#x989C;&#x8272;&#x3002;1 &#x4E2A;&#x4F4D;&#x53EA;&#x6709;&#x4E24;&#x79CD;&#x72B6;&#x6001;&#xFF1A;0 &#x548C; 1&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x6240;&#x8868;&#x793A;&#x7684;&#x989C;&#x8272;&#x5C31;&#x6709;&#x4E24;&#x79CD;&#xFF0C;&#x9ED1;&#x548C;&#x767D;&#x3002;&#xFF09;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x540C;&#x4E00;&#x4E2A;&#x56FE;&#x50CF;&#x6587;&#x4EF6;&#x5728;QPixmap &#x548C;QBitmap &#x4E0B;&#x7684;&#x4E0D;&#x540C;&#x8868;&#x73B0;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> PaintedWidget::paintEvent(QPaintEvent *)</span><br><span class="line">{</span><br><span class="line">    <span class="function">QPainter <span class="title">painter</span><span class="params">(<span class="keyword">this</span>)</span></span>;</span><br><span class="line">    <span class="function">QPixmap <span class="title">pixmap</span><span class="params">(<span class="string">&quot;qt-logo.png&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">QBitmap <span class="title">bitmap</span><span class="params">(<span class="string">&quot;qt-logo.png&quot;</span>)</span></span>;</span><br><span class="line">    painter.drawPixmap(<span class="number">10</span>, <span class="number">10</span>, <span class="number">250</span>, <span class="number">125</span>, pixmap);</span><br><span class="line">    painter.drawPixmap(<span class="number">270</span>, <span class="number">10</span>, <span class="number">250</span>, <span class="number">125</span>, bitmap);</span><br><span class="line">    <span class="function">QPixmap <span class="title">whitePixmap</span><span class="params">(<span class="string">&quot;qt-logo-white.png&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">QBitmap <span class="title">whiteBitmap</span><span class="params">(<span class="string">&quot;qt-logo-white.png&quot;</span>)</span></span>;</span><br><span class="line">    painter.drawPixmap(<span class="number">10</span>, <span class="number">140</span>, <span class="number">250</span>, <span class="number">125</span>, whitePixmap);</span><br><span class="line">    painter.drawPixmap(<span class="number">270</span>, <span class="number">140</span>, <span class="number">250</span>, <span class="number">125</span>, whiteBitmap);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><a class="magnific-img" href="Picture/qpixmap-qbitmap-demo.png"><img src="Picture/qpixmap-qbitmap-demo.png" alt="qpixmap-qbitmap-demo" class="ui centered image"></a></p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7ED9;&#x51FA;&#x4E86;&#x4E24;&#x5F20; png &#x56FE;&#x7247;&#x3002;qt-logo.png &#x5177;&#x6709;&#x900F;&#x660E;&#x80CC;&#x666F;&#xFF0C;qt-logo-white.png &#x5177;&#x6709;&#x767D;&#x8272;&#x80CC;&#x666F;&#x3002;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x4F7F;&#x7528;QPixmap&#x548C;QBitmap&#x6765;&#x52A0;&#x8F7D;&#x5B83;&#x4EEC;&#x3002;&#x6CE8;&#x610F;&#x770B;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#xFF1A;&#x767D;&#x8272;&#x7684;&#x80CC;&#x666F;&#x5728;QBitmap&#x4E2D;&#x6D88;&#x5931;&#x4E86;&#xFF0C;&#x800C;&#x900F;&#x660E;&#x8272;&#x5728;QBitmap&#x4E2D;&#x8F6C;&#x6362;&#x6210;&#x4E86;&#x9ED1;&#x8272;&#xFF1B;&#x5176;&#x4ED6;&#x989C;&#x8272;&#x5219;&#x662F;&#x4F7F;&#x7528;&#x70B9;&#x7684;&#x758F;&#x5BC6;&#x7A0B;&#x5EA6;&#x6765;&#x4F53;&#x73B0;&#x7684;&#x3002;</p>
<hr>
<p><code>QPixmap</code>&#x4F7F;&#x7528;&#x5E95;&#x5C42;&#x5E73;&#x53F0;&#x7684;&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#x50CF;&#x7D20;&#x7EA7;&#x522B;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;<code>QImage</code>&#x5219;&#x662F;&#x4F7F;&#x7528;&#x72EC;&#x7ACB;&#x4E8E;&#x786C;&#x4EF6;&#x7684;&#x7ED8;&#x5236;&#x7CFB;&#x7EDF;&#xFF0C;&#x56E0;&#x6B64;&#x63D0;&#x4F9B;&#x4E86;<strong>&#x50CF;&#x7D20;&#x7EA7;&#x522B;&#x7684;&#x64CD;&#x4F5C;</strong>&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x591F;&#x5728;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x4E4B;&#x4E0A;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4E00;&#x81F4;&#x7684;&#x663E;&#x793A;&#x5F62;&#x5F0F;&#x3002;</p>
<p><a class="magnific-img" href="Picture/qimage-32bit.png"><img src="Picture/qimage-32bit.png" alt="qimage-32bit" class="ui centered image"></a></p>
<p>QImage&#x4E0E;QPixmap&#x76F8;&#x6BD4;&#xFF0C;&#x6700;&#x5927;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x50CF;&#x7D20;&#x7EA7;&#x522B;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x610F;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6211;&#x4EEC;&#x58F0;&#x660E;&#x4E00;&#x4E2A; 3 x 3 &#x50CF;&#x7D20;&#x7684;QImage&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;setPixel()&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x989C;&#x8272;&#x7684;&#x8BBE;&#x7F6E;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x628A;QImage&#x60F3;&#x8C61;&#x6210;&#x4E00;&#x4E2A; RGB &#x989C;&#x8272;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x8BB0;&#x5F55;&#x4E86;&#x6BCF;&#x4E00;&#x50CF;&#x7D20;&#x7684;&#x989C;&#x8272;&#x3002;</p>
<hr>
<p>&#x6700;&#x540E;&#x4E00;&#x79CD;<code>QPicture</code>&#x662F;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5728;&#x591A;&#x79CD;&#x8BBE;&#x5907;&#x4E4B;&#x4E0A;&#xFF0C;&#x6BD4;&#x5982; svg&#x3001;pdf&#x3001;ps&#x3001;&#x6253;&#x5370;&#x673A;&#x6216;&#x8005;&#x5C4F;&#x5E55;&#x3002;QPicture&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8C03;&#x6574;QPainter&#x6765;&#x6D88;&#x9664;&#x4E0D;&#x540C;&#x8BBE;&#x5907;&#x4E4B;&#x95F4;&#x7684;&#x663E;&#x793A;&#x5DEE;&#x5F02;&#x3002;</p>
<p><strong>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x8BB0;&#x5F55;</strong>&#x4E0B;QPainter&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x4F7F;&#x7528;QPainter::begin()&#x51FD;&#x6570;&#xFF0C;&#x5C06;QPicture&#x5B9E;&#x4F8B;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x8FDB;&#x53BB;&#xFF0C;&#x4EE5;&#x4FBF;&#x544A;&#x8BC9;&#x7CFB;&#x7EDF;&#x5F00;&#x59CB;&#x8BB0;&#x5F55;&#xFF0C;&#x8BB0;&#x5F55;&#x5B8C;&#x6BD5;&#x540E;&#x4F7F;&#x7528;QPainter::end()&#x547D;&#x4EE4;&#x7EC8;&#x6B62;&#x3002;&#x4EE3;&#x7801;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QPicture picture;</span><br><span class="line">QPainter painter;</span><br><span class="line">painter.begin(&amp;picture);             <span class="comment">// &#x5728; picture &#x8FDB;&#x884C;&#x7ED8;&#x5236;</span></span><br><span class="line">painter.drawEllipse(<span class="number">10</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">70</span>); <span class="comment">// &#x7ED8;&#x5236;&#x4E00;&#x4E2A;&#x692D;&#x5706;</span></span><br><span class="line">painter.end();                       <span class="comment">// &#x7ED8;&#x5236;&#x5B8C;&#x6210;</span></span><br><span class="line">picture.save(<span class="string">&quot;drawing.pic&quot;</span>);         <span class="comment">// &#x4FDD;&#x5B58; picture</span></span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x91CD;&#x73B0;&#x547D;&#x4EE4;&#xFF0C;&#x9996;&#x5148;&#x8981;&#x4F7F;&#x7528; QPicture::load() &#x51FD;&#x6570;&#x8FDB;&#x884C;&#x88C5;&#x8F7D;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">QPicture picture;</span><br><span class="line">picture.load(<span class="string">&quot;drawing.pic&quot;</span>);           <span class="comment">// &#x52A0;&#x8F7D; picture</span></span><br><span class="line">QPainter painter;</span><br><span class="line">painter.begin(&amp;myImage);               <span class="comment">// &#x5728; myImage &#x4E0A;&#x5F00;&#x59CB;&#x7ED8;&#x5236;</span></span><br><span class="line">painter.drawPicture(<span class="number">0</span>, <span class="number">0</span>, picture);    <span class="comment">// &#x5728; (0, 0) &#x70B9;&#x5F00;&#x59CB;&#x7ED8;&#x5236; picture</span></span><br><span class="line">painter.end();                         <span class="comment">// &#x7ED8;&#x5236;&#x5B8C;&#x6210;</span></span><br></pre></td></tr></table></figure>
<p>&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<code>QPicture::play()</code>&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x3002;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;<code>QPainter</code>&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#x7684;&#x753B;&#x7B14;&#x3002;</p>
<h4 id="Graphics-View-Framework"><a href="#Graphics-View-Framework" class="headerlink" title="Graphics View Framework"></a>Graphics View Framework</h4><p>Graphics View &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x63A5;&#x53E3;&#xFF0C;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x5927;&#x91CF;&#x81EA;&#x5B9A;&#x4E49;&#x7684; 2D &#x56FE;&#x5F62;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4E0E;&#x4E4B;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF1B;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x5C06;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x53EF;&#x89C6;&#x5316;&#x663E;&#x793A;&#x7684;&#x89C2;&#x5BDF;&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x652F;&#x6301;&#x7F29;&#x653E;&#x548C;&#x65CB;&#x8F6C;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x6240;&#x8BF4;&#x7684; Linux &#x7684; KDE &#x684C;&#x9762;&#x73AF;&#x5883;&#xFF0C;&#x5C31;&#x662F;&#x5EFA;&#x7ACB;&#x5728; Graphics View &#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x7684;&#xFF08;&#x5C3D;&#x7BA1;&#x65B0;&#x7248;&#x672C;&#x7684; KDE &#x6709;&#x5411; QML &#x8FC1;&#x79FB;&#x7684;&#x8D8B;&#x52BF;&#xFF09;&#x3002;</p>
<p>Graphics View &#x6846;&#x67B6;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x5957;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x4F53;&#x7CFB;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x4E0E;&#x573A;&#x666F;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x53CC;&#x7CBE;&#x5EA6;&#x7684;&#x4EA4;&#x4E92;&#x3002;&#x8FD9;&#x4E9B;&#x5143;&#x7D20;&#x540C;&#x6837;&#x652F;&#x6301;&#x952E;&#x76D8;&#x4E8B;&#x4EF6;&#x3001;&#x9F20;&#x6807;&#x4E8B;&#x4EF6;&#x7B49;&#x3002;Graphics View &#x4F7F;&#x7528;&#x4E86; BSP &#x6811;&#xFF08;Binary Space Partitioning tree&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#x4E8E;&#x56FE;&#x5F62;&#x5B66;&#x65B9;&#x9762;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF09;&#x6765;&#x63D0;&#x4F9B;&#x975E;&#x5E38;&#x5FEB;&#x901F;&#x7684;&#x5143;&#x7D20;&#x53D1;&#x73B0;&#xFF0C;&#x4E5F;&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x624D;&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x4E00;&#x79CD;&#x4E0A;&#x767E;&#x4E07;&#x6570;&#x91CF;&#x7EA7;&#x5143;&#x7D20;&#x7684;&#x5B9E;&#x65F6;&#x663E;&#x793A;&#x673A;&#x5236;&#x3002;</p>
<p>Graphics View &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x5143;&#x7D20;&#xFF08;item&#xFF09;&#x7684; MV &#x67B6;&#x6784;&#x7684;&#x6846;&#x67B6;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5206;&#x6210;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#xFF1A;<strong>&#x5143;&#x7D20; item</strong>&#x3001;<strong>&#x573A;&#x666F; scene</strong> &#x3001;<strong>&#x89C6;&#x56FE; view</strong>&#xFF1A;</p>
<ul class="ui list">
<li><code>QGraphicsScene</code>&#xFF1A;&#x80FD;&#x591F;&#x7BA1;&#x7406;&#x5143;&#x7D20;&#x7684;&#x975E; GUI &#x5BB9;&#x5668;&#xFF1B;</li>
<li><code>QGraphicsItem</code>&#xFF1A;&#x80FD;&#x591F;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x573A;&#x666F;&#x7684;&#x5143;&#x7D20;&#xFF1B;</li>
<li><code>QGraphicsView</code>&#xFF1A;&#x80FD;&#x591F;&#x89C2;&#x5BDF;&#x573A;&#x666F;&#x7684;&#x53EF;&#x89C6;&#x5316;&#x7EC4;&#x4EF6;&#x89C6;&#x56FE;&#x3002;</li>
</ul>
<p>&#x57FA;&#x4E8E;&#x5143;&#x7D20;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x5B83;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5143;&#x7D20;&#x3002;&#x8FD9;&#x662F;&#x4E0E;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x8BB2;&#x5230;&#x8FC7;&#x7684;<code>QPainter</code>&#x72B6;&#x6001;&#x673A;&#x673A;&#x5236;&#x4E0D;&#x540C;&#x3002;&#x4F7F;&#x7528;<code>QPainter</code>&#x7ED8;&#x56FE;&#xFF0C;&#x5927;&#x591A;&#x662F;&#x91C7;&#x7528;&#x4E00;&#x79CD;&#x9762;&#x5411;&#x8FC7;&#x7A0B;&#x7684;&#x63CF;&#x8FF0;&#x65B9;&#x5F0F;&#xFF1A;&#x9996;&#x5148;&#x4F7F;&#x7528;<code>drawLine()</code>&#x753B;&#x4E00;&#x6761;&#x76F4;&#x7EBF;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;<code>drawPolygon()</code>&#x753B;&#x4E00;&#x4E2A;&#x591A;&#x8FB9;&#x5F62;&#x3002;</p>
<p>&#x5BF9;&#x4E8E; Graphics View&#xFF0C;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#xFF08;scene&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x76F4;&#x7EBF;&#x5BF9;&#x8C61;&#x548C;&#x4E00;&#x4E2A;&#x591A;&#x8FB9;&#x5F62;&#x5BF9;&#x8C61;&#xFF0C;&#x518D;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x7684;<code>add()</code>&#x51FD;&#x6570;&#xFF0C;&#x5C06;&#x76F4;&#x7EBF;&#x548C;&#x591A;&#x8FB9;&#x5F62;&#x6DFB;&#x52A0;&#x5230;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x901A;&#x8FC7;&#x89C6;&#x56FE;&#x8FDB;&#x884C;&#x89C2;&#x5BDF;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E86;&#x3002;&#x4E4D;&#x770B;&#x8D77;&#x6765;&#xFF0C;&#x540E;&#x8005;&#x4F3C;&#x4E4E;&#x66F4;&#x52A0;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x56FE;&#x50CF;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x7684;&#x76F4;&#x7EBF;&#x3001;&#x591A;&#x8FB9;&#x5F62;&#x4E4B;&#x7C7B;&#xFF0C;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x8981;&#x6BD4;&#x7BA1;&#x7406;<code>QPainter</code>&#x7684;&#x7ED8;&#x5236;&#x8BED;&#x53E5;&#x5BB9;&#x6613;&#x5F97;&#x591A;&#x3002;&#x5E76;&#x4E14;&#xFF0C;<strong>&#x8FD9;&#x4E9B;&#x56FE;&#x5F62;&#x5BF9;&#x8C61;&#x4E5F;&#x66F4;&#x52A0;&#x7B26;&#x5408;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x8BBE;&#x8BA1;&#x8981;&#x6C42;</strong>&#xFF1A;&#x4E00;&#x4E2A;&#x5F88;&#x590D;&#x6742;&#x7684;&#x56FE;&#x5F62;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x590D;&#x7528;&#x3002;</p>
<p>MV &#x67B6;&#x6784;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;Graphics View &#x63D0;&#x4F9B;&#x4E00;&#x4E2A; model &#x548C;&#x4E00;&#x4E2A; view&#xFF08;&#x6B63;&#x5982; MVC &#x67B6;&#x6784;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7; MV &#x67B6;&#x6784;&#x5C11;&#x4E86; C &#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF09;&#x3002;&#x6240;&#x8C13;&#x6A21;&#x578B;&#xFF08;model&#xFF09;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x7684;&#x79CD;&#x79CD;&#x5BF9;&#x8C61;&#xFF1B;&#x6240;&#x8C13;&#x89C6;&#x56FE;&#xFF08;view&#xFF09;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x7684;&#x89C6;&#x53E3;&#x3002;<strong>&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x53EF;&#x4EE5;&#x7531;&#x5F88;&#x591A;&#x89C6;&#x56FE;&#x4ECE;&#x4E0D;&#x540C;&#x7684;&#x89D2;&#x5EA6;&#x8FDB;&#x884C;&#x89C2;&#x5BDF;</strong>&#xFF0C;&#x8FD9;&#x662F;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x9700;&#x6C42;&#x3002;&#x4F7F;&#x7528; QPainter &#x5F88;&#x96BE;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x8FD9;&#x9700;&#x8981;&#x5F88;&#x590D;&#x6742;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x800C; Graphics View &#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<p>Graphics View &#x63D0;&#x4F9B;&#x4E86;<code>QGraphicsScene</code>&#x4F5C;&#x4E3A;&#x573A;&#x666F;&#xFF0C;&#x5373;&#x662F;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x56FE;&#x5F62;&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6574;&#x4E2A;&#x4E16;&#x754C;&#xFF1B;<code>QGraphicsView</code>&#x4F5C;&#x4E3A;&#x89C6;&#x53E3;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x89C2;&#x5BDF;&#x7A97;&#x53E3;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x7167;&#x76F8;&#x673A;&#x7684;&#x53D6;&#x666F;&#x6846;&#xFF0C;&#x8FD9;&#x4E2A;&#x53D6;&#x666F;&#x6846;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x6574;&#x4E2A;&#x573A;&#x666F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x573A;&#x666F;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF1B;<code>QGraphicsItem</code>&#x4F5C;&#x4E3A;&#x56FE;&#x5F62;&#x5143;&#x4EF6;&#xFF0C;&#x4EE5;&#x4FBF;&#x6DFB;&#x52A0;&#x5230;&#x573A;&#x666F;&#x4E2D;&#x53BB;&#xFF0C;Qt &#x5185;&#x7F6E;&#x4E86;&#x5F88;&#x591A;&#x56FE;&#x5F62;&#xFF0C;&#x6BD4;&#x5982;&#x76F4;&#x7EBF;&#x3001;&#x591A;&#x8FB9;&#x5F62;&#x7B49;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x7EE7;&#x627F;&#x81EA;<code>QGraphicsItem</code>&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#x770B;&#x770B; Graphics View &#x7684;&#x4F7F;&#x7528;&#x3002;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="function">QApplication <span class="title">app</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line"></span><br><span class="line">    QGraphicsScene scene;</span><br><span class="line">    scene.addLine(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">150</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function">QGraphicsView <span class="title">view</span><span class="params">(&amp;scene)</span></span>;</span><br><span class="line">    view.setWindowTitle(<span class="string">&quot;Graphics View&quot;</span>);</span><br><span class="line">    view.resize(<span class="number">500</span>, <span class="number">500</span>);</span><br><span class="line">    view.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.exec();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5F88;&#x7B80;&#x5355;&#xFF1A;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;QGraphicsScene &#x5BF9;&#x8C61;&#x3002;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;addLine() &#x51FD;&#x6570;&#x5411;&#x573A;&#x666F;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x76F4;&#x7EBF;&#xFF0C;&#x8D77;&#x59CB;&#x70B9;&#x548C;&#x7EC8;&#x70B9;&#x5750;&#x6807;&#x5206;&#x522B;&#x662F; (0, 0) &#x548C; (150, 150)&#x3002;&#x901A;&#x8FC7;&#x8FD9;&#x4E24;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x573A;&#x666F;&#x548C;&#x5143;&#x7D20;&#x3002;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;GraphicsView &#x5BF9;&#x8C61;&#xFF0C;&#x7ED1;&#x5B9A;&#x5230;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#x4E0A;&#x3002;&#x6CE8;&#x610F;&#xFF0C;QGraphicsScene &#x4E0D;&#x662F;QWidget &#x7684;&#x5B50;&#x7C7B;&#xFF0C;&#x56E0;&#x6B64;&#x8BE5;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5E76;&#x4E0D;&#x662F;&#x8C03;&#x7528;&#x7684;QGraphicsView(QWidget *parent) &#x3002;</p>
<p>&#x6211;&#x4EEC;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x4E2A;&#x76F4;&#x7EBF;&#x81EA;&#x52A8;&#x5728;&#x89C6;&#x56FE;&#x5C45;&#x4E2D;&#x663E;&#x793A;&#x3002;&#x8FD9;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x60F3;&#x8FD9;&#x4E48;&#x505A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9; scene &#x8BBE;&#x7F6E;&#x4E00;&#x4E0B; sceneRect() &#x5C5E;&#x6027;&#xFF1A;</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">QGraphicsScene scene;</span><br><span class="line">scene.setSceneRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">scene.addLine(<span class="number">0</span>, <span class="number">0</span>, <span class="number">150</span>, <span class="number">150</span>);</span><br><span class="line"></span><br><span class="line"><span class="function">QGraphicsView <span class="title">view</span><span class="params">(&amp;scene)</span></span>;</span><br><span class="line">view.setWindowTitle(<span class="string">&quot;Graphics View&quot;</span>);</span><br><span class="line"><span class="comment">// view.resize(500, 500);</span></span><br><span class="line">view.show();</span><br></pre></td></tr></table></figure>
<p>&#x4E0D;&#x4EC5;&#x5982;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53BB;&#x6389;&#x4E86;<code>view.resize()</code>&#x4E00;&#x884C;&#x3002;<strong>QGraphicsScene &#x7684;sceneRect &#x5C5E;&#x6027;&#x4F9B;QGraphicsView &#x786E;&#x5B9A;&#x89C6;&#x56FE;&#x9ED8;&#x8BA4;&#x7684;&#x6EDA;&#x52A8;&#x6761;&#x533A;&#x57DF;</strong>&#xFF0C;&#x5E76;&#x4E14;&#x534F;&#x52A9;QGraphicsScene &#x7BA1;&#x7406;&#x5143;&#x7D20;&#x7D22;&#x5F15;&#x3002;&#x4E4B;&#x6240;&#x4EE5;&#x53BB;&#x6389;<code>view.resize()</code>&#x4E00;&#x884C;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8BA9;&#x7CFB;&#x7EDF;&#x53BB;&#x51B3;&#x5B9A;&#x89C6;&#x56FE;&#x7684;&#x6700;&#x5C0F;&#x5C3A;&#x5BF8;&#xFF08;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x8FC7;&#x5927;&#xFF0C;&#x5C31;&#x662F;&#x8BBE;&#x7F6E;&#x7684;300&#xFF09;&#x3002;</p>
<h1 id="End"><a href="#End" class="headerlink" title="End"></a>End</h1>
                        
                    </div>

                    
                    
                    

                    <div class="description post-description">
    <span class="post-description-item">
        <time datetime="2019-01-05T05:11:17.000Z" itemprop="datePublished">2019-01-05</time>

    </span>
    <span class="post-description-item">
        
    </span>
</div>

                </div>
                
                <div id="pagination" class="nav-web ui text container pagination">

    <div class="ui stackable two column divided grid container">
        <div class="row">
            <div class="column nav-left">
                

                <a href="/2019/01/10/College lesson/操作系统背诵点/" class="ui tiny button">

                    <i class="angle left icon"></i>
                    
                    操作系统期末背诵点
                    

                </a>

                
            </div>
            <div class="column nav-right">
                

                <a href="/2019/01/04/QT/QString/" class="ui tiny button">
                    
                    QString与char*的相互转换
                    
                    <i class="angle right icon"></i></a>
                
            </div>
        </div>
    </div>

</div>
                
            </div>

            
            <div class="three wide computer three wide tablet column">

                <div class="ui sticky article-toc" id="article-toc">
                    <!-- toc -->
                    <ol class="ui ordered list"><li><a href="#Qt5-入门"><span>Qt5 入门</span></a><ol><li><a href="#概念"><span>概念</span></a><ol><li><a href="#QT与OpenGL"><span>QT与OpenGL</span></a></li><li><a href="#元对象"><span>元对象</span></a></li></ol></li><li><a href="#基础"><span>基础</span></a><ol><li><a href="#Hello-world"><span>Hello world</span></a></li><li><a href="#信号与槽"><span>信号与槽</span></a><ol><li><a href="#connect"><span>connect()</span></a></li><li><a href="#自定义信号槽-基本框架"><span>自定义信号槽(基本框架)</span></a></li></ol></li><li><a href="#Qt模块"><span>Qt模块</span></a></li><li><a href="#QMainWindow"><span>QMainWindow</span></a></li><li><a href="#Pro文件"><span>Pro文件</span></a></li><li><a href="#QAction"><span>QAction</span></a></li><li><a href="#tr"><span>tr()</span></a></li><li><a href="#资源文件"><span>资源文件</span></a></li><li><a href="#对象模型"><span>对象模型</span></a></li><li><a href="#布局管理器"><span>布局管理器</span></a></li><li><a href="#菜单栏、工具栏、状态栏"><span>菜单栏、工具栏、状态栏</span></a></li><li><a href="#对话框"><span>对话框</span></a><ol><li><a href="#模态和非模态"><span>模态和非模态</span></a><ol><li><a href="#非模态对话框的使用"><span>非模态对话框的使用</span></a></li></ol></li><li><a href="#对话框数据传递"><span>对话框数据传递</span></a></li><li><a href="#标准对话框"><span>标准对话框</span></a><ol><li><a href="#消息对话框"><span>消息对话框</span></a></li><li><a href="#文件对话框"><span>文件对话框</span></a></li></ol></li></ol></li><li><a href="#事件"><span>事件</span></a><ol><li><a href="#接收与忽略"><span>接收与忽略</span></a></li><li><a href="#重写event"><span>重写event()</span></a></li><li><a href="#事件过滤器"><span>事件过滤器</span></a></li><li><a href="#事件层次"><span>事件层次</span></a></li><li><a href="#自定义事件"><span>自定义事件</span></a></li></ol></li><li><a href="#绘制系统"><span>绘制系统</span></a><ol><li><a href="#画刷和画笔"><span>画刷和画笔</span></a></li><li><a href="#反走样"><span>反走样</span></a></li><li><a href="#渐变"><span>渐变</span></a></li><li><a href="#坐标系统"><span>坐标系统</span></a></li><li><a href="#绘制设备"><span>绘制设备</span></a></li><li><a href="#Graphics-View-Framework"><span>Graphics View Framework</span></a></li></ol></li></ol></li></ol></li><li><a href="#End"><span>End</span></a></li></ol>
                </div>

            </div>
            

        </div>
    </div>
</div>


                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <div class="ui inverted section divider"></div>
        &copy; 2019 <a href="/">Skuaka</a>,
        Powered by <a href="https://github.com/henryhuang/hexo-theme-aloha" target="_blank">Aloha</a> and <a href="http://hexo.io/" target="_blank">Hexo</a>.
    </div>
</div>

    </div>




<!-- scripts list from theme config.yml -->

<script src="//cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>

<script src="//cdn.bootcss.com/semantic-ui/2.2.4/semantic.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch/3.18.1/algoliasearch.min.js"></script>

<script src="//cdn.bootcss.com/algoliasearch-helper-js/2.13.0/algoliasearch.helper.min.js"></script>

<script src="/js/semantic-ui-algolia.js"></script>

<script src="/js/aloha-events.js"></script>



</body>
</html>
